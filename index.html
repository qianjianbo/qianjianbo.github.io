<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>å•µå•µå•µ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="å•µå•µå•µ">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="å•µå•µå•µ">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="å•µå•µå•µ">
  
  
    <link rel="icon" href="https://avatars0.githubusercontent.com/u/20942842?v=3&u=d1a97114e82a12c99a99e1cf4d13fffad7756cd7&s=140">
  
  <link rel="stylesheet" href="/main.css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="https://avatars0.githubusercontent.com/u/20942842?v=3&amp;u=d1a97114e82a12c99a99e1cf4d13fffad7756cd7&amp;s=140" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">qianjenbo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Sometimes need is the courage to cross the rubicon, push yourself a forced, they knew that they have much potential!</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">homepage</a></li>
	        
				<li><a href="http://www.suibi8.com/">Essays</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">AllğŸ“š</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">Label</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">FriendSiteList</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">About Me</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/qianjianbo" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://t.qq.com/qianjianbo777?preview" title="weibo">weibo</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">qianjenbo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://avatars0.githubusercontent.com/u/20942842?v=3&amp;u=d1a97114e82a12c99a99e1cf4d13fffad7756cd7&amp;s=140" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">qianjenbo</h1>
			</hgroup>
			
			<p class="header-subtitle">Sometimes need is the courage to cross the rubicon, push yourself a forced, they knew that they have much potential!</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">homepage</a></li>
		        
					<li><a href="http://www.suibi8.com/">Essays</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/qianjianbo" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://t.qq.com/qianjianbo777?preview" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        
  
    <article id="post-javascriptä¸­é‚£äº›æŠ˜ç£¨äººçš„é¢è¯•é¢˜" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="é—®é¢˜ä¸€"><a href="#é—®é¢˜ä¸€" class="headerlink" title="é—®é¢˜ä¸€"></a>é—®é¢˜ä¸€</h1><pre><code>(function(){
return typeof arguments;//&quot;object&quot;
})();
</code></pre><p><code>arguments</code>æ˜¯ä¸€ä¸ªArray-likeå¯¹è±¡ï¼Œå¯¹åº”çš„å°±æ˜¯ä¼ å…¥å‡½æ•°çš„å‚æ•°åˆ—è¡¨ã€‚ä½ å¯ä»¥åœ¨ä»»ä½•å‡½æ•°ä¸­ç›´æ¥ä½¿ç”¨è¯¥å˜é‡ã€‚</p>
<p><code>typeof</code>æ“ä½œç¬¦åªä¼šè¿”å›<code>string</code>ç±»å‹çš„ç»“æœã€‚å‚ç…§å¦‚ä¸‹åˆ—è¡¨å¯çŸ¥å¯¹åº”ä¸åŒæ•°æ®ï¼Œ<code>typeof</code>è¿”å›çš„å€¼éƒ½æ˜¯ä»€ä¹ˆï¼š</p>
<table>
<thead>
<tr>
<th>ç±»å‹</th>
<th>ç»“æœ</th>
</tr>
</thead>
<tbody>
<tr>
<td>undefined</td>
<td><code>&#39;undefined&#39;</code></td>
</tr>
<tr>
<td>null</td>
<td><code>&#39;object&#39;</code></td>
</tr>
<tr>
<td>Boolean</td>
<td><code>&#39;Boolean&#39;</code></td>
</tr>
<tr>
<td>Number</td>
<td><code>&#39;number&#39;</code></td>
</tr>
<tr>
<td>String</td>
<td><code>&#39;string&#39;</code></td>
</tr>
<tr>
<td>Symbol (new in ECMAScript 2015)</td>
<td><code>&#39;symbol&#39;</code></td>
</tr>
<tr>
<td>Host object (provided by the JS environment)</td>
<td>Implementation-dependent</td>
</tr>
<tr>
<td>Function object (implements [[Call]] in ECMA-262 terms)</td>
<td><code>&#39;function&#39;</code></td>
</tr>
<tr>
<td>Any other object</td>
<td><code>&#39;object&#39;</code></td>
</tr>
</tbody>
</table>
<pre><code>ç”±æ­¤æˆ‘ä»¬æ¨æ–­å‡ºï¼Œtypeof argumentsæ˜¯object
</code></pre><h1 id="é—®é¢˜äºŒ"><a href="#é—®é¢˜äºŒ" class="headerlink" title="é—®é¢˜äºŒ"></a>é—®é¢˜äºŒ</h1><pre><code>var f = function g(){ return 23; };
typeof g();//æŠ¥é”™
</code></pre><p>è¿™æ˜¯ä¸€ä¸ªåå­—æ˜¯<code>g</code>çš„function expressionï¼Œç„¶ååˆè¢«èµ‹å€¼ç»™äº†å˜é‡<code>f</code>ã€‚</p>
<p>è¿™é‡Œçš„å‡½æ•°å<code>g</code>å’Œè¢«å…¶èµ‹å€¼çš„å˜é‡<code>f</code>æœ‰å¦‚ä¸‹å·®å¼‚ï¼š</p>
<ul>
<li>å‡½æ•°å<code>g</code>ä¸èƒ½å˜åŠ¨ï¼Œè€Œå˜é‡<code>f</code>å¯ä»¥è¢«é‡æ–°èµ‹å€¼</li>
<li>å‡½æ•°å<code>g</code>åªèƒ½åœ¨å‡½æ•°ä½“å†…éƒ¨è¢«ä½¿ç”¨ï¼Œè¯•å›¾åœ¨å‡½æ•°å¤–éƒ¨ä½¿ç”¨<code>g</code>ä¼šæŠ¥é”™çš„</li>
</ul>
<h1 id="é—®é¢˜ä¸‰"><a href="#é—®é¢˜ä¸‰" class="headerlink" title="é—®é¢˜ä¸‰"></a>é—®é¢˜ä¸‰</h1><pre><code>(function(x){
delete x;
return x;//1
})(1);
</code></pre><p><code>delete</code>æ“ä½œç¬¦å¯ä»¥ä»å¯¹è±¡ä¸­åˆ é™¤å±æ€§ï¼Œæ­£ç¡®ç”¨æ³•å¦‚ä¸‹ï¼š</p>
<pre><code>delete object.property
delete object[&apos;property&apos;]
</code></pre><p><code>delete</code>æ“ä½œç¬¦åªèƒ½ä½œç”¨åœ¨å¯¹è±¡çš„å±æ€§ä¸Šï¼Œå¯¹å˜é‡å’Œå‡½æ•°åæ— æ•ˆã€‚ä¹Ÿå°±æ˜¯è¯´<code>delete x</code>æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p>
<pre><code>ä½ æœ€å¥½ä¹ŸçŸ¥é“ï¼Œdeleteæ˜¯ä¸ä¼šç›´æ¥é‡Šæ”¾å†…å­˜çš„ï¼Œå¥¹åªæ˜¯é—´æ¥çš„ä¸­æ–­å¯¹è±¡å¼•ç”¨
</code></pre><h1 id="é—®é¢˜å››"><a href="#é—®é¢˜å››" class="headerlink" title="é—®é¢˜å››"></a>é—®é¢˜å››</h1><pre><code>var y = 1, x = y = typeof x;
x;//&quot;undefined&quot;
</code></pre><p>æˆ‘ä»¬è¯•å›¾åˆ†è§£ä¸Šè¿°ä»£ç æˆä¸‹é¢ä¸¤æ­¥ï¼š</p>
<pre><code>var y = 1; //step 1
var x = y = typeof x; //step 2
</code></pre><p>ç¬¬ä¸€æ­¥åº”è¯¥æ²¡æœ‰å¼‚è®®ï¼Œæˆ‘ä»¬ç›´æ¥çœ‹ç¬¬äºŒæ­¥</p>
<ol>
<li>èµ‹å€¼è¡¨è¾¾å¼ä»å³å‘å·¦æ‰§è¡Œ</li>
<li><code>y</code>è¢«é‡æ–°èµ‹å€¼ä¸º<code>typeof x</code>çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯<code>undefined</code></li>
<li><code>x</code>è¢«èµ‹å€¼ä¸ºå³è¾¹è¡¨è¾¾å¼<code>(y = typeof x)</code>çš„ç»“æœï¼Œä¹Ÿå°±æ˜¯<code>undefined</code></li>
</ol>
<h1 id="é—®é¢˜äº”"><a href="#é—®é¢˜äº”" class="headerlink" title="é—®é¢˜äº”"></a>é—®é¢˜äº”</h1><pre><code>`(function f(f){
return typeof f();//&quot;number&quot;
})(function(){ return 1; });
</code></pre><p>ç›´æ¥ä¸Šæ³¨é‡Šè§£é‡Šï¼š</p>
<pre><code>(function f(f){
//è¿™é‡Œçš„fæ˜¯ä¼ å…¥çš„å‚æ•°function(){ return 1; }
//æ‰§è¡Œçš„ç»“æœè‡ªç„¶æ˜¯1
return typeof f(); //æ‰€ä»¥æ ¹æ®é—®é¢˜ä¸€çš„è¡¨æ ¼æˆ‘ä»¬çŸ¥é“ï¼Œtypeof 1ç»“æœæ˜¯&quot;number&quot;
})(function(){ return 1; });
</code></pre><h1 id="é—®é¢˜å…­"><a href="#é—®é¢˜å…­" class="headerlink" title="é—®é¢˜å…­"></a>é—®é¢˜å…­</h1><pre><code>var foo = {
bar: function() { return this.baz; },
baz: 1
};

(function(){
return typeof arguments[0]();//&quot;undefined&quot;
})(foo.bar);
</code></pre><p>è¿™é‡Œä½ å¯èƒ½ä¼šè¯¯ä»¥ä¸ºæœ€ç»ˆç»“æœæ˜¯<code>number</code>ã€‚å‘å‡½æ•°ä¸­ä¼ é€’å‚æ•°å¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§èµ‹å€¼ï¼Œæ‰€ä»¥<code>arguments[0]</code>å¾—åˆ°æ˜¯æ˜¯çœŸæ­£çš„<code>bar</code>å‡½æ•°çš„å€¼ï¼Œè€Œä¸æ˜¯<code>foo.bar</code>è¿™ä¸ªå¼•ç”¨ï¼Œé‚£ä¹ˆè‡ªç„¶<code>this</code>ä¹Ÿå°±ä¸ä¼šæŒ‡å‘<code>foo</code>ï¼Œè€Œæ˜¯<code>window</code>äº†ã€‚</p>
<h1 id="é—®é¢˜ä¸ƒ"><a href="#é—®é¢˜ä¸ƒ" class="headerlink" title="é—®é¢˜ä¸ƒ"></a>é—®é¢˜ä¸ƒ</h1><pre><code>var foo = {
bar: function(){ return this.baz; },
baz: 1
}
typeof (f = foo.bar)();//&quot;undefined&quot;
</code></pre><p>è¿™å’Œä¸Šä¸€é¢˜æ˜¯ä¸€æ ·çš„é—®é¢˜ï¼Œ<code>(f = foo.bar)</code>è¿”å›çš„å°±æ˜¯<code>bar</code>çš„å€¼ï¼Œè€Œä¸æ˜¯å…¶å¼•ç”¨ï¼Œé‚£ä¹ˆ<code>this</code>ä¹Ÿå°±æŒ‡çš„ä¸æ˜¯<code>foo</code>äº†ã€‚</p>
<h1 id="é—®é¢˜å…«"><a href="#é—®é¢˜å…«" class="headerlink" title="é—®é¢˜å…«"></a>é—®é¢˜å…«</h1><pre><code>var f = (function f(){ return &apos;1&apos;; }, function g(){ return 2; })();
typeof f;//&quot;number&quot;
</code></pre><p>é€—å·æ“ä½œç¬¦ å¯¹å®ƒçš„æ¯ä¸ªæ“ä½œå¯¹è±¡æ±‚å€¼ï¼ˆä»å·¦è‡³å³ï¼‰ï¼Œç„¶åè¿”å›æœ€åä¸€ä¸ªæ“ä½œå¯¹è±¡çš„å€¼</p>
<p>æ‰€ä»¥<code>(function f(){ return &#39;1&#39;; }</code>, <code>function g(){ return 2; })</code>çš„è¿”å›å€¼å°±æ˜¯å‡½æ•°<code>g</code>ï¼Œç„¶åæ‰§è¡Œå¥¹ï¼Œé‚£ä¹ˆç»“æœæ˜¯<code>2</code>ï¼›æœ€åå†<code>typeof 2</code>ï¼Œæ ¹æ®é—®é¢˜ä¸€çš„è¡¨æ ¼ï¼Œç»“æœè‡ªç„¶æ˜¯<code>number</code></p>
<p>#é—®é¢˜ä¹<br>    var x = 1;<br>    if (function f(){}) {<br>    x += typeof f;<br>    }<br>    x;//â€œ1undefinedâ€<br>è¿™ä¸ªé—®é¢˜çš„å…³é”®ç‚¹ï¼Œæˆ‘ä»¬åœ¨é—®é¢˜äºŒä¸­è°ˆåˆ°è¿‡ï¼Œfunction expressionä¸­çš„å‡½æ•°åfæ˜¯ä¸èƒ½åœ¨å‡½æ•°ä½“å¤–éƒ¨è®¿é—®çš„</p>
<h1 id="é—®é¢˜å"><a href="#é—®é¢˜å" class="headerlink" title="é—®é¢˜å"></a>é—®é¢˜å</h1><pre><code>var x = [typeof x, typeof y][1];
typeof typeof x;//&quot;string&quot;
</code></pre><ol>
<li>å› ä¸ºæ²¡æœ‰å£°æ˜è¿‡å˜é‡<code>y</code>ï¼Œæ‰€ä»¥<code>typeof</code> <code>y</code>è¿”å›â€<code>undefined</code>â€œ</li>
<li>å°†<code>typeof y</code>çš„ç»“æœèµ‹å€¼ç»™<code>x</code>ï¼Œä¹Ÿå°±æ˜¯è¯´xç°åœ¨æ˜¯<code>&quot;undefined&quot;</code></li>
<li>ç„¶å<code>typeof x</code>å½“ç„¶æ˜¯<code>&quot;string&quot;</code></li>
<li>æœ€å<code>ypeof &quot;string&quot;</code>çš„ç»“æœè‡ªç„¶è¿˜æ˜¯<code>&quot;string&quot;</code></li>
</ol>
<h1 id="é—®é¢˜åä¸€"><a href="#é—®é¢˜åä¸€" class="headerlink" title="é—®é¢˜åä¸€"></a>é—®é¢˜åä¸€</h1><pre><code>(function(foo){
return typeof foo.bar;//&quot;undefined&quot;
})({ foo: { bar: 1 } });
</code></pre><p>è¿™æ˜¯ä¸ªçº¯ç²¹çš„è§†è§‰è¯¡è®¡ï¼Œä¸Šæ³¨é‡Š</p>
<pre><code>(function(foo){

//è¿™é‡Œçš„fooï¼Œæ˜¯{ foo: { bar: 1 } }ï¼Œå¹¶æ²¡æœ‰barå±æ€§å“¦ã€‚
//barå±æ€§æ˜¯åœ¨foo.fooä¸‹é¢
//æ‰€ä»¥è¿™é‡Œç»“æœæ˜¯&quot;undefined&quot;
return typeof foo.bar;
})({ foo: { bar: 1 } });
</code></pre><h1 id="é—®é¢˜åäºŒ"><a href="#é—®é¢˜åäºŒ" class="headerlink" title="é—®é¢˜åäºŒ"></a>é—®é¢˜åäºŒ</h1><pre><code>(function f(){
function f(){ return 1; }
return f();//2
function f(){ return 2; }
})();
</code></pre><p>é€šè¿‡<code>function declaration</code>å£°æ˜çš„å‡½æ•°ç”šè‡³å¯ä»¥åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ï¼Œè¿™ç§ç‰¹æ€§æˆ‘ä»¬ç§°ä¹‹ä¸º<code>hoisting</code>ã€‚äºæ˜¯ä¸Šè¿°ä»£ç å…¶å®æ˜¯è¿™æ ·è¢«è¿è¡Œç¯å¢ƒè§£é‡Šçš„ï¼š</p>
<pre><code>(function f(){
function f(){ return 1; }
function f(){ return 2; }
return f();
})();
</code></pre><h1 id="é—®é¢˜åä¸‰"><a href="#é—®é¢˜åä¸‰" class="headerlink" title="é—®é¢˜åä¸‰"></a>é—®é¢˜åä¸‰</h1><pre><code>function f(){ return f; }
new f() instanceof f;//false
</code></pre><p>å½“ä»£ç new f()æ‰§è¡Œæ—¶ï¼Œä¸‹é¢äº‹æƒ…å°†ä¼šå‘ç”Ÿï¼š</p>
<ol>
<li>ä¸€ä¸ªæ–°å¯¹è±¡è¢«åˆ›å»ºã€‚å®ƒç»§æ‰¿è‡ª<code>f.prototype</code></li>
<li>æ„é€ å‡½æ•°fè¢«æ‰§è¡Œã€‚æ‰§è¡Œçš„æ—¶å€™ï¼Œç›¸åº”çš„ä¼ å‚ä¼šè¢«ä¼ å…¥ï¼ŒåŒæ—¶ä¸Šä¸‹æ–‡<code>(this)</code>ä¼šè¢«æŒ‡å®šä¸ºè¿™ä¸ªæ–°å®ä¾‹ã€‚<code>new f</code>ç­‰åŒäº<code>new f()</code>ï¼Œåªèƒ½ç”¨åœ¨ä¸ä¼ é€’ä»»ä½•å‚æ•°çš„æƒ…å†µã€‚</li>
<li><p>å¦‚æœæ„é€ å‡½æ•°è¿”å›äº†ä¸€ä¸ªâ€œå¯¹è±¡â€ï¼Œé‚£ä¹ˆè¿™ä¸ªå¯¹è±¡ä¼šå–ä»£æ•´ä¸ª<code>new</code>å‡ºæ¥çš„ç»“æœã€‚å¦‚æœæ„é€ å‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œé‚£ä¹ˆ<code>new</code>å‡ºæ¥çš„ç»“æœä¸ºæ­¥éª¤1åˆ›å»ºçš„å¯¹è±¡ï¼Œ</p>
<pre><code>psï¼šä¸€èˆ¬æƒ…å†µä¸‹æ„é€ å‡½æ•°ä¸è¿”å›ä»»ä½•å€¼ï¼Œä¸è¿‡ç”¨æˆ·å¦‚æœæƒ³è¦†ç›–è¿™ä¸ªè¿”å›å€¼ï¼Œå¯ä»¥è‡ªå·±é€‰æ‹©è¿”å›ä¸€ä¸ªæ™®é€šå¯¹è±¡    æ¥è¦†ç›–ã€‚å½“ç„¶ï¼Œè¿”å›æ•°ç»„ä¹Ÿä¼šè¦†ç›–ï¼Œå› ä¸ºæ•°ç»„ä¹Ÿæ˜¯å¯¹è±¡ã€‚
äºæ˜¯ï¼Œæˆ‘ä»¬è¿™é‡Œçš„new f()è¿”å›çš„ä»ç„¶æ˜¯å‡½æ•°fæœ¬èº«ï¼Œè€Œå¹¶éä»–çš„å®ä¾‹
</code></pre></li>
</ol>
<h1 id="é—®é¢˜åå››"><a href="#é—®é¢˜åå››" class="headerlink" title="é—®é¢˜åå››"></a>é—®é¢˜åå››</h1><pre><code>with (function(x, undefined){}) length;//2
</code></pre><p><code>with</code>è¯­å¥å°†æŸä¸ªå¯¹è±¡æ·»åŠ çš„ä½œç”¨åŸŸé“¾çš„é¡¶éƒ¨ï¼Œå¦‚æœåœ¨<code>statement</code>ä¸­æœ‰æŸå€‹æœªä½¿ç”¨å‘½åç©ºé—´çš„å˜é‡ï¼Œè·Ÿä½œç”¨åŸŸé“¾ä¸­çš„æŸå€‹å±æ€§åŒåï¼Œå‰‡é€™å€‹å˜é‡å°†æŒ‡å‘é€™å€‹å±æ€§å€¼ã€‚å¦‚æœæ²’æœ‰åŒåçš„å±æ€§ï¼Œåˆ™å°†æ‹‹å‡º<code>ReferenceError</code>å¼‚å¸¸ã€‚</p>
<p>OKï¼Œç°åœ¨æˆ‘ä»¬æ¥çœ‹ï¼Œç”±äº<code>function(x, undefined){}</code>æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°è¡¨è¾¾å¼ï¼Œæ˜¯å‡½æ•°ï¼Œå°±ä¼šæœ‰<code>length</code>å±æ€§ï¼ŒæŒ‡çš„å°±æ˜¯å‡½æ•°çš„å‚æ•°ä¸ªæ•°ã€‚æ‰€ä»¥æœ€ç»ˆç»“æœå°±æ˜¯<code>2</code>äº†</p>
<p>#å†™åœ¨æœ€å</p>
<hr>
<p>æœ‰äººè§‰å¾—è¿™äº›é¢˜å‘çˆ¹ï¼Œä¹Ÿæœ‰äººè§‰å¾—å¼€é˜”äº†çœ¼ç•Œï¼Œè§ä»è§æ™ºå§ã€‚ä½†æœ‰ä¸€ä»¶äº‹æ˜¯çœŸçš„ï¼Œæ— è®ºä½ æ˜¯å¦åšå®šçš„å®è·µæ´¾ï¼Œç¼ºäº†ç†è®ºåŸºç¡€ï¼Œä¹Ÿé“å®šèµ°ä¸è¿œ ï¼ ä½ æ°¸è¿œä¸ä¼šè§åˆ°å“ªä¸ªç†Ÿç»ƒçš„æŠ€æœ¯å·¥äººçªç„¶æˆäº†ç«ç®­ä¸“å®¶ã€‚</p>
<p>çœ‹æ–‡æ¡£ã€è¯»æ ‡å‡†ã€ç»“åˆå®è·µï¼Œæ‰æ˜¯åŒå¿—ä»¬çš„å†³èƒœä¹‹é“</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/19/javascriptä¸­é‚£äº›æŠ˜ç£¨äººçš„é¢è¯•é¢˜/" class="archive-article-date">
  	<time datetime="2016-11-19T06:15:10.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-19</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="post-javascriptä¸­é‚£äº›æŠ˜ç£¨äººçš„é¢è¯•é¢˜" data-title="" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="ç©è½¬html5-canvasç”»å›¾" class="article article-type-ç©è½¬html5" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/16/canvasç”»å›¾/">canvasç”»å›¾</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h3><ul>
<li>å‰è¨€</li>
<li>åŸºæœ¬çŸ¥è¯†</li>
<li>ç»˜åˆ¶çŸ©å½¢</li>
<li>æ¸…é™¤çŸ©å½¢åŒºåŸŸ</li>
<li>åœ†å¼§</li>
<li>è·¯å¾„</li>
<li>ç»˜åˆ¶çº¿æ®µ</li>
<li>ç»˜åˆ¶è´å¡å°”æ›²çº¿</li>
<li>çº¿æ€§æ¸å˜</li>
<li>å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰</li>
<li>å›¾å½¢å˜å½¢ï¼ˆå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰</li>
<li>çŸ©é˜µå˜æ¢ï¼ˆå›¾å½¢å˜å½¢çš„æœºåˆ¶ï¼‰</li>
<li>å›¾å½¢ç»„åˆ</li>
<li>ç»™å›¾å½¢ç»˜åˆ¶é˜´å½±</li>
<li>ç»˜åˆ¶å›¾åƒï¼ˆå›¾ç‰‡å¹³é“ºã€è£å‰ªã€åƒç´ å¤„ç†[ä¸åªå›¾åƒã€åŒ…æ‹¬å…¶ä»–ç»˜åˆ¶å›¾å½¢]ï¼‰</li>
<li>ç»˜åˆ¶æ–‡å­—</li>
<li>ä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼ˆcontextï¼‰</li>
<li>ä¿å­˜æ–‡ä»¶</li>
<li>ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»</li>
<li>ç»“è¯­ã€demoä¸‹è½½</li>
</ul>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><pre><code>&lt;canvas&gt;&lt;/canvas&gt;æ˜¯html5å‡ºç°çš„æ–°æ ‡ç­¾ï¼Œåƒæ‰€æœ‰çš„domå¯¹è±¡ä¸€æ ·å®ƒæœ‰è‡ªå·±æœ¬èº«çš„å±æ€§ã€æ–¹æ³•å’Œäº‹ä»¶ï¼Œå…¶ä¸­å°±æœ‰ç»˜å›¾çš„æ–¹æ³•ï¼Œjsèƒ½å¤Ÿè°ƒç”¨å®ƒæ¥è¿›è¡Œç»˜å›¾ ï¼Œæœ€è¿‘åœ¨ç ”è¯»ã€Šhtml5ä¸css3æƒå¨æŒ‡å—ã€‹ä¸‹é¢å¯¹å…¶ä¸­æœ€å¥½ç©çš„canvasçš„å­¦ä¹ åšä¸‹è¯»ä¹¦ç¬”è®°ä¸å®éªŒã€‚
</code></pre><p>æ¸©é¦¨æç¤ºï¼šä»¥ä¸‹æ‰€æœ‰å®éªŒè¯·ä½¿ç”¨æœ€æ–°ç‰ˆçš„opera</p>
<h3 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h3><p>context:ä¸€ç›´è§‰å¾—è¿™ä¸ªç¿»è¯‘æˆâ€œä¸Šä¸‹æ–‡â€çœŸå¤Ÿè›‹ç–¼çš„ï¼Œcontextæ˜¯ä¸€ä¸ªå°è£…äº†å¾ˆå¤šç»˜å›¾åŠŸèƒ½çš„å¯¹è±¡ï¼Œè·å–è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•æ˜¯</p>
<p>var context =canvas.getContext(â€œ2dâ€);</p>
<p>ä¹Ÿè®¸è¿™ä¸ª2då‹¾èµ·äº†å¤§å®¶çš„æ— é™éæƒ³ï¼Œä½†æ˜¯å¾ˆé—æ†¾çš„å‘Šè¯‰ä½ html5è¿˜åªæ˜¯ä¸ªå°‘å¥³ï¼Œä¸æä¾›3dæœåŠ¡ã€‚</p>
<p>canvaså…ƒç´ ç»˜åˆ¶å›¾åƒçš„æ—¶å€™æœ‰ä¸¤ç§æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯</p>
<p>context.fill()//å¡«å……</p>
<p>context.stroke()//ç»˜åˆ¶è¾¹æ¡†</p>
<p>style:åœ¨è¿›è¡Œå›¾å½¢ç»˜åˆ¶å‰ï¼Œè¦è®¾ç½®å¥½ç»˜å›¾çš„æ ·å¼</p>
<p>context.fillStyle//å¡«å……çš„æ ·å¼</p>
<p>context.strokeStyle//è¾¹æ¡†æ ·å¼</p>
<p>context.lineWidth//å›¾å½¢è¾¹æ¡†å®½åº¦</p>
<p>é¢œè‰²çš„è¡¨ç¤ºæ–¹å¼:</p>
<p>ç›´æ¥ç”¨é¢œè‰²åç§°:â€redâ€ â€œgreenâ€ â€œblueâ€</p>
<p>åå…­è¿›åˆ¶é¢œè‰²å€¼: â€œ#EEEEFFâ€</p>
<p>rgb(1-255,1-255,1-255)</p>
<p>rgba(1-255,1-255,1-255,é€æ˜åº¦)</p>
<p>å’ŒGDIæ˜¯å¦‚æ­¤çš„ç›¸åƒï¼Œæ‰€ä»¥ç”¨è¿‡GDIçš„æœ‹å‹åº”è¯¥å¾ˆå¿«å°±èƒ½ä¸Šæ‰‹</p>
<h5 id="ç»˜åˆ¶çŸ©å½¢"><a href="#ç»˜åˆ¶çŸ©å½¢" class="headerlink" title="ç»˜åˆ¶çŸ©å½¢"></a>ç»˜åˆ¶çŸ©å½¢</h5><p>context.fillRect(x,y,width,height) strokeRect(x,y,width,height)</p>
<p>x:çŸ©å½¢èµ·ç‚¹æ¨ªåæ ‡ï¼ˆåæ ‡åŸç‚¹ä¸ºcanvasçš„å·¦ä¸Šè§’ï¼Œå½“ç„¶ç¡®åˆ‡çš„æ¥è¯´æ˜¯åŸå§‹åŸç‚¹ï¼Œåé¢å†™åˆ°å˜å½¢çš„æ—¶å€™ä½ å°±æ‡‚äº†ï¼Œç°åœ¨æš‚æ—¶ä¸ç”¨å…³ç³»ï¼‰</p>
<p>y:çŸ©å½¢èµ·ç‚¹çºµåæ ‡</p>
<p>width:çŸ©å½¢é•¿åº¦</p>
<p>height:çŸ©å½¢é«˜åº¦</p>
<pre><code>View Code 
 function draw21(id) {
         var canvas = document.getElementById(id)
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½fillStyleä¸‹çš„é»˜è®¤fillStyle=black
         context.fillRect(0, 0, 100, 100);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½strokeStyleä¸‹çš„é»˜è®¤strokeStyle=black
         context.strokeRect(120, 0, 100, 100);

         //è®¾ç½®çº¯è‰²
         context.fillStyle = &quot;red&quot;;
         context.strokeStyle = &quot;blue&quot;;
         context.fillRect(0, 120, 100, 100);
         context.strokeRect(120, 120, 100, 100);

         //è®¾ç½®é€æ˜åº¦å®è·µè¯æ˜é€æ˜åº¦å€¼&gt;0,&lt;1å€¼è¶Šä½ï¼Œè¶Šé€æ˜ï¼Œå€¼&gt;=1æ—¶ä¸ºçº¯è‰²ï¼Œå€¼&lt;=0æ—¶ä¸ºå®Œå…¨é€æ˜
         context.fillStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.strokeStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.fillRect(240,0 , 100, 100);
         context.strokeRect(240, 120, 100, 100);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/2012082241.jpg" alt="Mou"></p>
<h4 id="æ¸…é™¤çŸ©å½¢åŒºåŸŸ"><a href="#æ¸…é™¤çŸ©å½¢åŒºåŸŸ" class="headerlink" title="æ¸…é™¤çŸ©å½¢åŒºåŸŸ"></a>æ¸…é™¤çŸ©å½¢åŒºåŸŸ</h4><p>context.clearRect(x,y,width,height)</p>
<p>x:æ¸…é™¤çŸ©å½¢èµ·ç‚¹æ¨ªåæ ‡</p>
<p>y:æ¸…é™¤çŸ©å½¢èµ·ç‚¹çºµåæ ‡</p>
<p>width:æ¸…é™¤çŸ©å½¢é•¿åº¦</p>
<p>height:æ¸…é™¤çŸ©å½¢é«˜åº¦</p>
<pre><code>View Code 
   function draw22(id) {
         var canvas = document.getElementById(id)
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½fillStyleä¸‹çš„é»˜è®¤fillStyle=black
         context.fillRect(0, 0, 100, 100);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½strokeStyleä¸‹çš„é»˜è®¤strokeStyle=black
         context.strokeRect(120, 0, 100, 100);

         //è®¾ç½®çº¯è‰²
         context.fillStyle = &quot;red&quot;;
         context.strokeStyle = &quot;blue&quot;;
         context.fillRect(0, 120, 100, 100);
         context.strokeRect(120, 120, 100, 100);

         //è®¾ç½®é€æ˜åº¦å®è·µè¯æ˜é€æ˜åº¦å€¼&gt;0,&lt;1å€¼è¶Šä½ï¼Œè¶Šé€æ˜ï¼Œå€¼&gt;=1æ—¶ä¸ºçº¯è‰²ï¼Œå€¼&lt;=0æ—¶ä¸ºå®Œå…¨é€æ˜
         context.fillStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.strokeStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.fillRect(240, 0, 100, 100);
         context.strokeRect(240, 120, 100, 100);
         context.clearRect(50, 50, 240, 120);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/2012082242.jpg" alt="Mou"></p>
<h3 id="åœ†å¼§"><a href="#åœ†å¼§" class="headerlink" title="åœ†å¼§"></a>åœ†å¼§</h3><p>context.arc(x, y, radius, starAngle,endAngle, anticlockwise)</p>
<p>x:åœ†å¿ƒçš„xåæ ‡</p>
<p>y:åœ†å¿ƒçš„yåæ ‡</p>
<p>straAngle:å¼€å§‹è§’åº¦</p>
<p>endAngle:ç»“æŸè§’åº¦</p>
<p>anticlockwise:æ˜¯å¦é€†æ—¶é’ˆï¼ˆtrueï¼‰ä¸ºé€†æ—¶é’ˆï¼Œ(false)ä¸ºé¡ºæ—¶é’ˆ</p>
<p>psï¼šç»è¿‡è¯•éªŒè¯æ˜ä¹¦æœ¬ä¸Štureæ˜¯é¡ºæ—¶é’ˆï¼Œfalseæ˜¯é€†æ—¶é’ˆæ˜¯é”™è¯¯çš„ï¼Œè€Œä¸”æ— è®ºæ˜¯é€†æ—¶é’ˆè¿˜æ˜¯é¡ºæ—¶é’ˆï¼Œè§’åº¦éƒ½æ²¿ç€é¡ºæ—¶é’ˆæ‰©å¤§ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="http://www.uml.org.cn/html/images/2012082243.png" alt="Mou"></p>
<pre><code>View Code 
     function draw0(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&apos;2d&apos;);
         context.beginPath();
         context.arc(200, 150, 100, 0, Math.PI * 2, true);
         //ä¸å…³é—­è·¯å¾„è·¯å¾„ä¼šä¸€ç›´ä¿ç•™ä¸‹å»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹åšå‡ºæ„æƒ³ä¸åˆ°çš„æ•ˆæœ
         context.closePath();
         context.fillStyle = &apos;rgba(0,255,0,0.25)&apos;;
         context.fill();
     } 
</code></pre><p>ä¸€ä¸å°å¿ƒç”»äº†å°æ—¥æœ¬çš„å›½æ——â€¦èµ¶ç´§è°ƒä¸‹é¢œè‰²å’Œå¤§å°ï¼Œç»¿è‰²å€’æ˜¯æŒºåˆé€‚çš„~</p>
<h3 id="è·¯å¾„"><a href="#è·¯å¾„" class="headerlink" title="è·¯å¾„"></a>è·¯å¾„</h3><p>context.beginPath() context.closePath()</p>
<p>ç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°ä¸Šé¢çš„ç”»åœ†å¹¶ä¸å•å•æ˜¯ç›´æ¥ç”¨arcè¿˜ç”¨åˆ°äº†contextçš„ beginPath å’ŒclosePathæ–¹æ³•ï¼Œå‚è€ƒä¹¦ä¸æ„§æ˜¯å‚è€ƒä¹¦ï¼Œä¾‹å­ç»™å¾—å¤ªç®€å•äº†ï¼Œå®è¯è¯´ä¸€å¼€å§‹æˆ‘å‡Œä¹±äº†ï¼Œè€å¿ƒä¸‹æ¥åšäº†å‡ ä¸ªå®éªŒæ‰èˆ’ç¼“è›‹ç–¼çš„å¿ƒæƒ…</p>
<p>å®éªŒä»£ç å¦‚ä¸‹ï¼Œé€šè¿‡åˆ†åˆ«æ³¨é‡ŠclosePath å’ŒbeginPathçœ‹fill stoke å’Œfill strokeç»“åˆä¸‹ç”»å‡ºæ¥çš„ä¸¤ä¸ª1/4å¼§çº¿è¾¾åˆ°å®éªŒæ•ˆæœ</p>
<pre><code>View Code 
   function draw23(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&apos;2d&apos;);
         var n = 0;

         //å·¦ä¾§1/4åœ†å¼§
         context.beginPath();
         context.arc(100, 150, 50, 0, Math.PI/2 , false);
         context.fillStyle = &apos;rgba(255,0,0,0.25)&apos;;
         context.fill();
         context.strokeStyle = &apos;rgba(255,0,0,0.25)&apos;
         context.closePath();
         context.stroke();

         //å³ä¾§1/4åœ†å¼§
         context.beginPath();
         context.arc(300, 150, 50, 0, Math.PI/2 , false);
         context.fillStyle = &apos;rgba(255,0,0,0.25)&apos;;
         context.fill();
         context.strokeStyle = &apos;rgba(255,0,0,0.25)&apos;;
         context.closePath();
         context.stroke();
     } 
</code></pre><p>å®éªŒç»“æœå¦‚ä¸‹ï¼š<br> <img src="http://www.uml.org.cn/html/images/2012082245.png" alt="Mou"><br> å¾—å‡ºçš„ç»“è®ºæœ‰ï¼š*å·ä¸ºé‡ç‚¹</p>
<p>1ã€ç³»ç»Ÿé»˜è®¤åœ¨ç»˜åˆ¶ç¬¬ä¸€ä¸ªè·¯å¾„çš„å¼€å§‹ç‚¹ä¸ºbeginPath</p>
<p>*2ã€å¦‚æœç”»å®Œå‰é¢çš„è·¯å¾„æ²¡æœ‰é‡æ–°æŒ‡å®šbeginPathï¼Œé‚£ä¹ˆç”»ç¬¬å…¶ä»–è·¯å¾„çš„æ—¶å€™ä¼šå°†å‰é¢æœ€è¿‘æŒ‡å®šçš„beginPathåçš„å…¨éƒ¨è·¯å¾„é‡æ–°ç»˜åˆ¶</p>
<p>3ã€æ¯æ¬¡è°ƒç”¨context.fillï¼ˆï¼‰çš„æ—¶å€™ä¼šè‡ªåŠ¨æŠŠå½“æ¬¡ç»˜åˆ¶çš„è·¯å¾„çš„å¼€å§‹ç‚¹å’Œç»“æŸç‚¹ç›¸è¿ï¼Œæ¥ç€å¡«å……å°é—­çš„éƒ¨åˆ†</p>
<p>psï¼šä¹¦æœ¬çš„ç»“è®ºæ˜¯ å¦‚æœæ²¡æœ‰closePathé‚£ä¹ˆå‰é¢çš„è·¯åŠ²ä¼šä¿ç•™ï¼Œå®éªŒè¯æ˜æ­£ç¡®çš„ç»“è®ºæ˜¯ å¦‚æœæ²¡æœ‰é‡æ–°beginPathé‚£ä¹ˆå‰é¢çš„è·¯åŠ²ä¼šä¿ç•™</p>
<p>ps1ï¼šå¦‚æœä½ çœŸå¿ƒå‡Œä¹±äº†ï¼Œé‚£ä¹ˆè®°ä½æ¯æ¬¡ç”»è·¯å¾„éƒ½åœ¨å‰ååŠ context.beginPath() å’Œcontext.closePath()å°±è¡Œ</p>
<p>ç»˜åˆ¶çº¿æ®µ context.moveTo(x,y) context.lineTo(x,y)</p>
<p>x:xåæ ‡</p>
<p>y:yåæ ‡</p>
<p>æ¯æ¬¡ç”»çº¿éƒ½ä»moveToçš„ç‚¹åˆ°lineToçš„ç‚¹ï¼Œ</p>
<p>å¦‚æœæ²¡æœ‰moveToé‚£ä¹ˆç¬¬ä¸€æ¬¡lineToçš„æ•ˆæœå’ŒmoveToä¸€æ ·ï¼Œ</p>
<p>æ¯æ¬¡lineToåå¦‚æœæ²¡æœ‰moveToï¼Œé‚£ä¹ˆä¸‹æ¬¡lineToçš„å¼€å§‹ç‚¹ä¸ºå‰ä¸€æ¬¡lineToçš„ç»“æŸç‚¹</p>
<pre><code>View Code 
 function draw8(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         //context.beginPath();
         context.strokeStyle = &quot;rgb(250,0,0)&quot;;
         context.fillStyle = &quot;rgb(250,0,0)&quot;
         //å®éªŒè¯æ˜ç¬¬ä¸€æ¬¡lineToçš„æ—¶å€™å’ŒmoveToåŠŸèƒ½ä¸€æ ·
         context.lineTo(100, 100);
         //ä¹‹åçš„lineToä¼šä»¥ä¸Šæ¬¡lineToçš„èŠ‚ç‚¹ä¸ºå¼€å§‹
         context.lineTo(200, 200);
         context.lineTo(200, 100);
         context.moveTo(200, 50);
         context.lineTo(100,50);
         context.stroke();
     } 
</code></pre><p> <img src="http://www.uml.org.cn/html/images/2012082246.png" alt="Mou"></p>
<p> ä¸‹é¢ç»™å‡ºä¹¦æœ¬çš„ä¾‹å­ï¼Œä¸€æœµç»¿è‰²çš„èŠèŠ±ï¼Œæ¶‰åŠæ•°å­¦ï¼Œä¸å¤šè§£æï¼Œæœ‰å…´è¶£çš„è‡ªå·±ç ”ç©¶</p>
<pre><code>View Code 
   function draw1(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0, 0, 400, 300);
         var n = 0;
         var dx = 150;
         var dy = 150;
         var s = 100;
         context.beginPath();
         context.fillStyle = &apos;rgb(100,255,100)&apos;;
         context.strokeStyle = &apos;rgb(0,0,100)&apos;;
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 15 * 11;
         for (var i = 0; i &lt; 30; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.lineTo(dx + x * s, dy + y * s);
         }
         context.closePath();
         context.fill();
         context.stroke();

     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/2012082247.png" alt="Mou"></p>
<h3 id="ç»˜åˆ¶è´å¡å°”æ›²çº¿"><a href="#ç»˜åˆ¶è´å¡å°”æ›²çº¿" class="headerlink" title="ç»˜åˆ¶è´å¡å°”æ›²çº¿"></a>ç»˜åˆ¶è´å¡å°”æ›²çº¿</h3><p>ï¼ˆè´æµåŸƒã€bezierï¼‰ context.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y)</p>
<p>ç»˜åˆ¶äºŒæ¬¡æ ·æ¡æ›²çº¿ context.quadraticCurveTo(qcpx,qcpy,qx,qy)</p>
<p>cp1x:ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹xåæ ‡</p>
<p>cp1y:ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹yåæ ‡</p>
<p>cp2x:ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹xåæ ‡</p>
<p>cp2y:ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹yåæ ‡</p>
<p>x:ç»ˆç‚¹xåæ ‡</p>
<p>y:ç»ˆç‚¹yåæ ‡</p>
<p>qcpx:äºŒæ¬¡æ ·æ¡æ›²çº¿æ§åˆ¶ç‚¹xåæ ‡</p>
<p>qcpy:äºŒæ¬¡æ ·æ¡æ›²çº¿æ§åˆ¶ç‚¹yåæ ‡</p>
<p>qx:äºŒæ¬¡æ ·æ¡æ›²çº¿ç»ˆç‚¹xåæ ‡</p>
<p>qy:äºŒæ¬¡æ ·æ¡æ›²çº¿ç»ˆç‚¹yåæ ‡</p>
<pre><code>View Code 
     function draw24(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&quot;2d&quot;);

         context.moveTo(50, 50);
         context.bezierCurveTo(50, 50,150, 50, 150, 150);
         context.stroke();
         context.quadraticCurveTo(150, 250, 250, 250);
         context.stroke();
     } 
</code></pre><p>  <img src="http://www.uml.org.cn/html/images/2012082248.png" alt="Mou"><br>  ä¸‹é¢ç»™å‡ºä¹¦æœ¬çš„ä¾‹å­ï¼Œä¸€æœµæ‰­æ›²çš„ç»¿è‰²èŠèŠ±â€¦ç¼–ä¹¦è¿™å“¥ä»¬å¯¹èŠèŠ±æƒ…æœ‰ç‹¬é’Ÿå•Š- -</p>
<pre><code>View Code 
     function draw2(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEFF&quot;;
         context.fillRect(0, 0, 400, 300);
         var n = 0;
         var dx = 150;
         var dy = 150;
         var s = 100;
         context.beginPath();
         context.globalCompositeOperation = &apos;and&apos;;
         context.fillStyle = &apos;rgb(100,255,100)&apos;;
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 15 * 11;
         context.moveTo(dx, dy);
         for (var i = 0; i &lt; 30; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.bezierCurveTo(dx + x * s, dy + y * s - 100, dx + x * s + 100, dy + y * s, dx + x * s, 
              dy + y * s);
         }
         context.closePath();
         context.fill();
         context.stroke();
     }   
</code></pre><p>  <img src="http://www.uml.org.cn/html/images/2012082249.png" alt="Mou">    </p>
<h3 id="çº¿æ€§æ¸å˜"><a href="#çº¿æ€§æ¸å˜" class="headerlink" title="çº¿æ€§æ¸å˜"></a>çº¿æ€§æ¸å˜</h3><p>var lg= context.createLinearGradient(xStart,yStart,xEnd,yEnd)</p>
<p>çº¿æ€§æ¸å˜é¢œè‰²lg.addColorStop(offset,color)</p>
<p>xstart:æ¸å˜å¼€å§‹ç‚¹xåæ ‡</p>
<p>ystart:æ¸å˜å¼€å§‹ç‚¹yåæ ‡</p>
<p>xEnd:æ¸å˜ç»“æŸç‚¹xåæ ‡</p>
<p>yEnd:æ¸å˜ç»“æŸç‚¹yåæ ‡</p>
<p>offset:è®¾å®šçš„é¢œè‰²ç¦»æ¸å˜ç»“æŸç‚¹çš„åç§»é‡(0~1)</p>
<p>color:ç»˜åˆ¶æ—¶è¦ä½¿ç”¨çš„é¢œè‰²</p>
<p>ç»™å‡ºä¹¦æœ¬åç§»é‡çš„è§£æå›¾ï¼Œä»å›¾å¯ä»¥çœ‹å‡ºçº¿æ€§æ¸å˜å¯ä»¥æ˜¯ä¸¤ç§ä»¥ä¸Šé¢œè‰²çš„æ¸å˜</p>
<p><img src="http://www.uml.org.cn/html/images/20120822410.png" alt="Mou">  </p>
<pre><code>View Code 
     function draw25(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&apos;2d&apos;);
         var g1 = context.createLinearGradient(0, 0, 0, 300);

         g1.addColorStop(0, &apos;rgb(255,0,0)&apos;); //çº¢ 
         g1.addColorStop(0.5, &apos;rgb(0,255,0)&apos;);//ç»¿
         g1.addColorStop(1, &apos;rgb(0,0,255)&apos;); //è“

         //å¯ä»¥æŠŠlgå¯¹è±¡ç†è§£æˆGDIä¸­çº¿æ€§brush
         context.fillStyle = g1;
         //å†ç”¨è¿™ä¸ªbrushæ¥ç”»æ­£æ–¹å½¢
          context.fillRect(0, 0, 400, 300); 
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822411.png" alt="Mou">  </p>
<h3 id="å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰"><a href="#å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰" class="headerlink" title="å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰"></a>å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰</h3><p>var rg=context.createRadialGradient(xStart,yStart,radiusStart,xEnd,yEnd,radiusEnd)</p>
<p>å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰é¢œè‰²rg.addColorStop(offset,color)</p>
<p>xStart:å‘æ•£å¼€å§‹åœ†å¿ƒxåæ ‡</p>
<p>yStart:å‘æ•£å¼€å§‹åœ†å¿ƒyåæ ‡</p>
<p>radiusStart:å‘æ•£å¼€å§‹åœ†çš„åŠå¾„</p>
<p>xEnd:å‘æ•£ç»“æŸåœ†å¿ƒçš„xåæ ‡</p>
<p>yEnd:å‘æ•£ç»“æŸåœ†å¿ƒçš„yåæ ‡</p>
<p>radiusEnd:å‘æ•£ç»“æŸåœ†çš„åŠå¾„</p>
<p>offset:è®¾å®šçš„é¢œè‰²ç¦»æ¸å˜ç»“æŸç‚¹çš„åç§»é‡(0~1)</p>
<p>color:ç»˜åˆ¶æ—¶è¦ä½¿ç”¨çš„é¢œè‰²</p>
<p>ä¹¦æœ¬å¹¶æ²¡æœ‰ç»™å‡ºå‘æ•£åç§»é‡çš„å›¾ï¼Œç‰¹åœ°ç”»äº†å¹…ï¼š</p>
<p><img src="http://www.uml.org.cn/html/images/20120822412.png" alt="Mou"><br>ä¸‹é¢ç»™å‡ºä¸¤ä¸ªå®éªŒ</p>
<pre><code>View Code 
     function draw26(id) {
         //åŒä¸€ä¸ªåœ†å¿ƒç”»çƒå‹
         /*var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&apos;2d&apos;);
         var g1 = context.createRadialGradient(200, 150, 0, 200, 150, 100);
         g1.addColorStop(0.1, &apos;rgb(255,0,0)&apos;);  
         g1.addColorStop(1, &apos;rgb(50,0,0)&apos;);
         context.fillStyle = g1;
         context.beginPath();
         context.arc(200, 150, 100, 0, Math.PI * 2, true);
         context.closePath();
         context.fill();*/

         //ä¸åŒåœ†å¿ƒçœ‹å¾„å‘æ¸å˜æ¨¡å‹
         var canvas = document.getElementById(id);
         if (canvas == null)
         return false;
         var context = canvas.getContext(&apos;2d&apos;);
         var g1 = context.createRadialGradient(100, 150, 10, 300, 150, 50);
         g1.addColorStop(0.1, &apos;rgb(255,0,0)&apos;);
         g1.addColorStop(0.5, &apos;rgb(0,255,0)&apos;);
         g1.addColorStop(1, &apos;rgb(0,0,255)&apos;);
         context.fillStyle = g1;
         context.fillRect(0, 0, 400, 300);

     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822413.png" alt="Mou">   </p>
<p><img src="http://www.uml.org.cn/html/images/20120822414.png" alt="Mou">   </p>
<h3 id="å›¾å½¢å˜å½¢"><a href="#å›¾å½¢å˜å½¢" class="headerlink" title="å›¾å½¢å˜å½¢"></a>å›¾å½¢å˜å½¢</h3><p>1ã€å¹³ç§»context.translate(x,y)</p>
<p>x:åæ ‡åŸç‚¹å‘xè½´æ–¹å‘å¹³ç§»x</p>
<p>y:åæ ‡åŸç‚¹å‘yè½´æ–¹å‘å¹³ç§»y</p>
<p>2ã€ç¼©æ”¾context.scale(x,y)</p>
<p>x:xåæ ‡è½´æŒ‰xæ¯”ä¾‹ç¼©æ”¾</p>
<p>y:yåæ ‡è½´æŒ‰yæ¯”ä¾‹ç¼©æ”¾</p>
<p>3ã€æ—‹è½¬context.rotate(angle)</p>
<p>angle:åæ ‡è½´æ—‹è½¬xè§’åº¦ï¼ˆè§’åº¦å˜åŒ–æ¨¡å‹å’Œç”»åœ†çš„æ¨¡å‹ä¸€æ ·ï¼‰</p>
<pre><code>View Code 
     function draw5(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;


         var context = canvas.getContext(&quot;2d&quot;);
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0, 0, 400, 300);

         context.fillStyle = &quot;rgba(255,0,0,0.1)&quot;;
         //å¹³ç§» ç¼©æ”¾ æ—‹è½¬  1 2 3        
         context.translate(100, 100);
         context.scale(0.5, 0.5);
         context.rotate(Math.PI / 4);
         context.fillRect(0, 0, 100, 100);


         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€,ä¿å­˜æ¢å¤åªèƒ½ä½¿ç”¨ä¸€æ¬¡
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.2)&quot;;
         //å¹³ç§» æ—‹è½¬ ç¼©æ”¾ 1 3 2
         context.translate(100, 100);
         context.rotate(Math.PI / 4);
         context.scale(0.5, 0.5);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.3)&quot;;
         //ç¼©æ”¾ å¹³ç§» æ—‹è½¬ 2 1 3 
         context.scale(0.5, 0.5);
         context.translate(100, 100);
         context.rotate(Math.PI / 4);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.4)&quot;;
         //ç¼©æ”¾ æ—‹è½¬ å¹³ç§»  2 3  1 
         context.scale(0.5, 0.5);
         context.rotate(Math.PI / 4);
         context.translate(100, 100);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.5)&quot;;
         //æ—‹è½¬ å¹³ç§» ç¼©æ”¾  3 1 2 
         context.rotate(Math.PI / 4);
         context.translate(100, 100);
         context.scale(0.5, 0.5);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,1)&quot;;
         //æ—‹è½¬ ç¼©æ”¾ å¹³ç§»   3 2 1 
         context.rotate(Math.PI / 4);
         context.scale(0.5, 0.5);
         context.translate(100, 100);
         context.fillRect(0, 0, 100, 100);

         //å®éªŒè¡¨æ˜åº”è¯¥ç§»åŠ¨çš„æ˜¯åæ ‡è½´
         //å®éªŒè¡¨æ˜ç¼©æ”¾çš„æ˜¯åæ ‡è½´æ¯”ä¾‹
         //å®éªŒè¡¨æ˜æ—‹è½¬çš„æ˜¯åæ ‡è½´
         //ç»¼åˆä¸Šè¿°ï¼Œå› æ­¤å¹³ç§» ç¼©æ”¾ æ—‹è½¬ ä¸‰è€…çš„é¡ºåºä¸åŒéƒ½å°†ç”»å‡ºä¸åŒçš„ç»“æœ
     } 
</code></pre><p>ç”±äºï¼ˆå¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬ï¼‰å’Œï¼ˆå¹³ç§»ï¼Œæ—‹è½¬ï¼Œç¼©æ”¾ï¼‰ä¸€æ ·</p>
<p>ï¼ˆç¼©æ”¾ï¼Œé€‰è£…ï¼Œå¹³ç§»ï¼‰å’Œï¼ˆæ—‹è½¬ï¼Œç¼©æ”¾ï¼Œå¹³ç§»ï¼‰ä¸€æ ·</p>
<p>æ‰€ä»¥å®éªŒç»“æœåªèƒ½çœ‹åˆ°â€œ4â€ä¸­æƒ…å†µï¼Œå…¶å®æ˜¯æœ‰ä¸¤ç§æƒ…å†µè¢«è¦†ç›–äº†</p>
<p><img src="http://www.uml.org.cn/html/images/20120822415.png" alt="Mou"><br>ä¸‹é¢ç»™å‡ºå¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬å…ˆåé¡ºåºä¸åŒï¼Œåæ ‡è½´çš„å˜åŒ–å›¾<br><img src="http://www.uml.org.cn/html/images/20120822416.png" alt="Mou">   </p>
<h3 id="çŸ©é˜µå˜æ¢"><a href="#çŸ©é˜µå˜æ¢" class="headerlink" title="çŸ©é˜µå˜æ¢"></a>çŸ©é˜µå˜æ¢</h3><p>context.transform(m11,m12,m21,m22,dx,dy)</p>
<p>æ‰€è°“çš„çŸ©é˜µå˜æ¢å…¶å®æ˜¯contextå†…å®ç°å¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬çš„ä¸€ç§æœºåˆ¶</p>
<p>ä»–çš„ä¸»è¦åŸç†å°±æ˜¯çŸ©é˜µç›¸ä¹˜</p>
<p>é¢ï¼Œè¦è®²è§£è¿™ä¸ªå¯ä»¥å¦å¼€ä¸€ä¸ªç¯‡å¹…ï¼Œåº†å¹¸çš„æ˜¯å·²ç»æœ‰äººåšäº†æ€»ç»“ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« </p>
<p><a href="http://hi.baidu.com/100912bb_bb/item/90c4a7489518b0fa1281daf1" target="_blank" rel="external">http://hi.baidu.com/100912bb_bb/item/90c4a7489518b0fa1281daf1</a></p>
<p>æˆ‘ä»¬éœ€è¦äº†è§£çš„æ˜¯</p>
<p>context.translate(x,y) ç­‰åŒäºcontext.transform (1,0,0,1,x,y)æˆ–context.transform(0,1,1,0.x,y)</p>
<p>context.scale(x,y)ç­‰åŒäºcontext.transform(x,0,0,y,0,0)æˆ–context.transform (0,y,x,0, 0,0);</p>
<p>context.rotate(Î¸)ç­‰åŒäº context.transform(Math.cos(Î¸<em>Math.PI/180)ï¼ŒMath.sin(Î¸</em>Math.PI/180), -Math.sin(Î¸<em>Math.PI/180),Math.cos(Î¸</em>Math.PI/180)ï¼Œ0ï¼Œ0ï¼‰ æˆ– context.transform(-Math.sin(Î¸<em>Math.PI/180),Math.cos(Î¸</em>Math.PI/180)ï¼Œ Math.cos(Î¸<em>Math.PI/180)ï¼ŒMath.sin(Î¸</em>Math.PI/180), 0ï¼Œ0ï¼‰</p>
<h3 id="å›¾å½¢ç»„åˆ"><a href="#å›¾å½¢ç»„åˆ" class="headerlink" title="å›¾å½¢ç»„åˆ"></a>å›¾å½¢ç»„åˆ</h3><p>context.globalCompositeOperation=type</p>
<p>å›¾å½¢ç»„åˆå°±æ˜¯ä¸¤ä¸ªå›¾å½¢ç›¸äº’å åŠ äº†å›¾å½¢çš„è¡¨ç°å½¢å¼,æ˜¯åç”»çš„è¦†ç›–æ‰å…ˆç”»çš„å‘¢ï¼Œè¿˜æ˜¯ç›¸äº’é‡å çš„éƒ¨åˆ†ä¸æ˜¾ç¤ºç­‰ç­‰ï¼Œè‡³äºæ€ä¹ˆæ˜¾ç¤ºå°±å–å†³äºtypeçš„å€¼äº†</p>
<p>typeï¼š</p>
<p>source-overï¼ˆé»˜è®¤å€¼ï¼‰:åœ¨åŸæœ‰å›¾å½¢ä¸Šç»˜åˆ¶æ–°å›¾å½¢</p>
<p>destination-over:åœ¨åŸæœ‰å›¾å½¢ä¸‹ç»˜åˆ¶æ–°å›¾å½¢</p>
<p>source-in:æ˜¾ç¤ºåŸæœ‰å›¾å½¢å’Œæ–°å›¾å½¢çš„äº¤é›†ï¼Œæ–°å›¾å½¢åœ¨ä¸Šï¼Œæ‰€ä»¥é¢œè‰²ä¸ºæ–°å›¾å½¢çš„é¢œè‰²</p>
<p>destination-in:æ˜¾ç¤ºåŸæœ‰å›¾å½¢å’Œæ–°å›¾å½¢çš„äº¤é›†ï¼ŒåŸæœ‰å›¾å½¢åœ¨ä¸Šï¼Œæ‰€ä»¥é¢œè‰²ä¸ºåŸæœ‰å›¾å½¢çš„é¢œè‰²</p>
<p>source-out:åªæ˜¾ç¤ºæ–°å›¾å½¢éäº¤é›†éƒ¨åˆ†</p>
<p>destination-out:åªæ˜¾ç¤ºåŸæœ‰å›¾å½¢éäº¤é›†éƒ¨åˆ†</p>
<p>source-atop:æ˜¾ç¤ºåŸæœ‰å›¾å½¢å’Œäº¤é›†éƒ¨åˆ†ï¼Œæ–°å›¾å½¢åœ¨ä¸Šï¼Œæ‰€ä»¥äº¤é›†éƒ¨åˆ†çš„é¢œè‰²ä¸ºæ–°å›¾å½¢çš„é¢œè‰²</p>
<p>destination-atop:æ˜¾ç¤ºæ–°å›¾å½¢å’Œäº¤é›†éƒ¨åˆ†ï¼Œæ–°å›¾å½¢åœ¨ä¸‹ï¼Œæ‰€ä»¥äº¤é›†éƒ¨åˆ†çš„é¢œè‰²ä¸ºåŸæœ‰å›¾å½¢çš„é¢œè‰²</p>
<p>lighter:åŸæœ‰å›¾å½¢å’Œæ–°å›¾å½¢éƒ½æ˜¾ç¤ºï¼Œäº¤é›†éƒ¨åˆ†åšé¢œè‰²å åŠ </p>
<p>xor:é‡å é£éƒ¨åˆ†ä¸ç°å®</p>
<p>copy:åªæ˜¾ç¤ºæ–°å›¾å½¢</p>
<p>æ–‡å­—çœ‹å¾—äººçœ¼èŠ±ç¼­ä¹±ï¼Œç‰¹æ„ç”»å›¾ä¸€å¼ ï¼šå›å¤´ä¸€çœ‹æƒŠè§‰æ‰“é”™å­—ï¼Œå›¾ç‰‡çš„åŸå‹ä¸ºåœ†å½¢ï¼Œä½ æ‡‚çš„- -<br><img src="http://www.uml.org.cn/html/images/20120822417.png" alt="Mou"><br>ä»¥ä¸‹ä¸ºå®éªŒä»£ç </p>
<pre><code>View Code 
     function draw10(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&quot;2d&quot;);
         var oprtns = new Array(
         &quot;source-over&quot;,
         &quot;destination-over&quot;,
         &quot;source-in&quot;,
         &quot;destination-in&quot;,
         &quot;source-out&quot;,
         &quot;destination-out&quot;,
         &quot;source-atop&quot;,
         &quot;destination-atop&quot;,
         &quot;lighter&quot;,
         &quot;xor&quot;,         
         &quot;copy&quot;
         );
        var i = 0;//ç»„åˆæ•ˆæœç¼–å·

        //ç»“åˆsetintervalåŠ¨æ€æ˜¾ç¤ºç»„åˆ
        var interal = setInterval(function () {
            if (i == 10) {
                i=0;
            }
            else {
                i++;
            }
            //è“è‰²çŸ©å½¢
            context.fillStyle = &quot;blue&quot;;
            context.fillRect(10, 10, 60, 60);
            //è®¾ç½®ç»„åˆæ–¹å¼ 
            context.globalCompositeOperation = oprtns[i];
            //è®¾ç½®æ–°å›¾å½¢ï¼ˆçº¢è‰²åœ†å½¢ï¼‰
            context.beginPath();
            context.fillStyle = &quot;red&quot;;
            context.arc(60, 60, 30, 0, Math.PI * 2, false);
            context.fill();
       }, 1000);

     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822418.png" alt="Mou"><br>ç»™å›¾å½¢ç»˜åˆ¶é˜´å½±</p>
<p>context.shadowOffsetX :é˜´å½±çš„æ¨ªå‘ä½ç§»é‡ï¼ˆé»˜è®¤å€¼ä¸º0ï¼‰</p>
<p>context.shadowOffsetY :é˜´å½±çš„çºµå‘ä½ç§»é‡ï¼ˆé»˜è®¤å€¼ä¸º0ï¼‰</p>
<p>context.shadowColor :é˜´å½±çš„é¢œè‰²</p>
<p>context.shadowBlur :é˜´å½±çš„æ¨¡ç³ŠèŒƒå›´ï¼ˆå€¼è¶Šå¤§è¶Šæ¨¡ç³Šï¼‰</p>
<p>å…ˆæ¥ä¸ªç®€å•çš„ä¾‹å­</p>
<pre><code>View Code 
     function draw27(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&apos;2d&apos;);
         context.shadowOffsetX = 10;
         context.shadowOffsetY = 10;
         context.shadowColor = &apos;rgba(100,100,100,0.5)&apos;;
         context.shadowBlur = 1.5;
         context.fillStyle = &apos;rgba(255,0,0,0.5)&apos;;
         context.fillRect(100, 100, 200, 100);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822419.png" alt="Mou"><br>å†æ¥ä¸ªä¹¦æœ¬ä¸Šçš„äº”è§’æ˜Ÿçš„ä¾‹å­</p>
<pre><code>View Code 
     function create5Star(context) {
         var n = 0;
         var dx = 100;
         var dy = 0;

         var s = 50;
         //åˆ›å»ºè·¯å¾„
         context.beginPath();
         context.fillStyle = &apos;rgba(255,0,0,0.5)&apos;;
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 5 * 4;
         for (var i = 0; i &lt; 5; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.lineTo(dx + x * s, dy + y * s);

         }
         context.closePath();

     }

     function draw11(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0, 0, 400, 300);

         context.shadowOffsetX = 10;
         context.shadowOffsetY = 10;
         context.shadowColor = &apos;rgba(100,100,100,0.5)&apos;;
         context.shadowBlur =5;
         //å›¾å½¢ç»˜åˆ¶
         context.translate(0, 50);
         for (var i = 0; i &lt; 3; i++) {
             context.translate(50, 50);
             create5Star(context);
             context.fill();
         }
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822420.png" alt="Mou"> </p>
<h3 id="ç»˜åˆ¶å›¾åƒ"><a href="#ç»˜åˆ¶å›¾åƒ" class="headerlink" title="ç»˜åˆ¶å›¾åƒ"></a>ç»˜åˆ¶å›¾åƒ</h3><p>ç»˜å›¾ï¼šcontext.drawImage</p>
<p>å›¾åƒå¹³é“ºï¼šcontext.createPattern(image,type)</p>
<p>å›¾åƒè£å‰ªï¼šcontext.clip()</p>
<p>åƒç´ å¤„ç†ï¼švar imagedata=context.getImageData(sx,sy,sw,sh)</p>
<p>ç»˜å›¾ context.drawImage</p>
<p>context.drawImage(image,x,y)</p>
<p>image:Imageå¯¹è±¡var img=new Image(); img.src=â€url(â€¦)â€;</p>
<p>x:ç»˜åˆ¶å›¾åƒçš„xåæ ‡</p>
<p>y:ç»˜åˆ¶å›¾åƒçš„yåæ ‡</p>
<p>context.drawImage(image,x,y,w,h)</p>
<p>image:Imageå¯¹è±¡var img=new Image(); img.src=â€url(â€¦)â€;</p>
<p>x:ç»˜åˆ¶å›¾åƒçš„xåæ ‡</p>
<p>y:ç»˜åˆ¶å›¾åƒçš„yåæ ‡</p>
<p>w:ç»˜åˆ¶å›¾åƒçš„å®½åº¦</p>
<p>h:ç»˜åˆ¶å›¾åƒçš„é«˜åº¦</p>
<p>context.drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh):é€‰å–å›¾åƒçš„ä¸€éƒ¨åˆ†çŸ©å½¢åŒºåŸŸè¿›è¡Œç»˜åˆ¶</p>
<p>image:Imageå¯¹è±¡var img=new Image(); img.src=â€url(â€¦)â€;</p>
<p>sxï¼šå›¾åƒä¸Šçš„xåæ ‡</p>
<p>syï¼šå›¾åƒä¸Šçš„yåæ ‡</p>
<p>swï¼šçŸ©å½¢åŒºåŸŸçš„å®½åº¦</p>
<p>shï¼šçŸ©å½¢åŒºåŸŸçš„é«˜åº¦</p>
<p>dxï¼šç”»åœ¨canvasçš„xåæ ‡</p>
<p>dyï¼šç”»åœ¨canvasçš„yåæ ‡</p>
<p>dwï¼šç”»å‡ºæ¥çš„å®½åº¦</p>
<p>dhï¼šç”»å‡ºæ¥çš„é«˜åº¦</p>
<p>æœ€åä¸€ä¸ªæ–¹æ³•å¯èƒ½æ¯”è¾ƒæ‹—ï¼Œè¿˜æ˜¯ä¸Šå›¾å§<br><img src="http://www.uml.org.cn/html/images/20120822421.png" alt="Mou"> </p>
<pre><code>   View Code 
    //drawImage(image,x,y)
    function draw28(id) {

    var image = new Image();

    image.src = &quot;Image/html5.jpg&quot;;
    var canvas = document.getElementById(id);

    if (canvas == null)
        return false;
    var context = canvas.getContext(&quot;2d&quot;);
    context.fillStyle = &quot;#EEEEFF&quot;;

    context.fillRect(0, 0, 400, 300);
    image.onload = function () {
        context.drawImage(image,0,0);
    }
}

//drawImage(image,x,y,w,h)
function draw12(id) {

    var image = new Image();

    image.src = &quot;Image/html5.jpg&quot;;
    var canvas = document.getElementById(id);

    if (canvas == null)
        return false;
    var context = canvas.getContext(&quot;2d&quot;);
    context.fillStyle = &quot;#EEEEFF&quot;;

    context.fillRect(0, 0, 400, 300);
    image.onload = function () {
        context.drawImage(image, 50, 50, 300, 200);
    }
}

//drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh)
function draw13(id){
    var image = new Image();
    image.src = &quot;Image/html5.jpg&quot;;
    var canvas = document.getElementById(id);

    if (canvas == null)
        return false;
    var context = canvas.getContext(&quot;2d&quot;);
    context.fillStyle = &quot;#EEEEFF&quot;;

    context.fillRect(0, 0, 400, 300);
    image.onload = function () {
        context.drawImage(image, 100, 100, 200, 150,50,50,300,200);//è¿™é‡Œå–çš„æ˜¯å®é™…å°ºå¯¸
    }
} 
</code></pre><p>ä¸‰ä¸ªæ–¹æ³•çš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼š<br><img src="http://www.uml.org.cn/html/images/20120822422.png" alt="Mou"><br><img src="http://www.uml.org.cn/html/images/20120822423.png" alt="Mou"><br><img src="http://www.uml.org.cn/html/images/20120822424.png" alt="Mou"> </p>
<h3 id="å›¾åƒå¹³é“º"><a href="#å›¾åƒå¹³é“º" class="headerlink" title="å›¾åƒå¹³é“º"></a>å›¾åƒå¹³é“º</h3><p>context.createPattern(image,type)</p>
<p>type:</p>
<p>no-repeat:ä¸å¹³é“º</p>
<p>repeat-x:æ¨ªæ–¹å‘å¹³é“º</p>
<p>repeat-y:çºµæ–¹å‘å¹³é“º</p>
<p>repeat:å…¨æ–¹å‘å¹³é“º</p>
<p>ç±»ä¼¼å›¾å½¢ç»„åˆï¼Œç»™å‡ºåŠ¨æ€çš„åˆ‡æ¢å¹³é“ºç±»å‹ä»£ç </p>
<pre><code>View Code 
     function draw14(id) {
         //ä¼ ç»Ÿçš„å¹³é“ºæ˜¯ç”¨forå¾ªç¯æ¥å¤„ç†çš„ï¼Œç°åœ¨ç›´æ¥è°ƒç”¨æ¥å£
         var image = new Image();
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         var type = [&quot;no-repeat&quot;, &quot;repeat-x&quot;, &quot;repeat-y&quot;, &quot;repeat&quot;];
         var i = 0;
         image.src = &quot;Image/wordslogo.jpg&quot;;
         image.onload = function () {
             var interval = setInterval(function () {
                 //æ¯æ¬¡è½¬æ¢å¹³é“ºç±»å‹æ¸…ç©º
                 context.clearRect(0, 0, 400, 300);
                 if (i &gt;= 4) {
                     i = 0;
                 }
                 var ptrn = context.createPattern(image, type[i]);
                 context.fillStyle = ptrn;
                 context.fillRect(0, 0, 400, 300);
                 i++;
             }, 1000);
         };
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822424.png" alt="Mou"> </p>
<h3 id="å›¾åƒè£å‰ªï¼š"><a href="#å›¾åƒè£å‰ªï¼š" class="headerlink" title="å›¾åƒè£å‰ªï¼š"></a>å›¾åƒè£å‰ªï¼š</h3><p>context.clip()</p>
<p>context.clip()åªç»˜åˆ¶å°é—­è·¯å¾„åŒºåŸŸå†…çš„å›¾åƒï¼Œä¸ç»˜åˆ¶è·¯å¾„å¤–éƒ¨å›¾åƒï¼Œç”¨çš„æ—¶å€™</p>
<p>å…ˆåˆ›å»ºè£å‰ªåŒºåŸŸ</p>
<p>å†ç»˜åˆ¶å›¾åƒï¼ˆä¹‹åç»˜åˆ¶çš„å›¾å½¢éƒ½ä¼šé‡‡ç”¨è¿™ä¸ªè£å‰ªåŒºåŸŸï¼Œè¦å–æ¶ˆè¿™ä¸ªè£å‰ªåŒºåŸŸå°±éœ€è¦ç”¨åˆ°ä¿å­˜æ¢å¤çŠ¶æ€ï¼Œä¸‹é¢æœ‰è®²ï¼‰</p>
<p>ç»™å‡ºåœ†å½¢å’Œæ˜Ÿå½¢çš„è£å‰ªä»£ç </p>
<pre><code>View Code 
     //å›¾åƒè£å‰ª
     function draw15(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;black&quot;;
         context.fillRect(0, 0, 400, 300);
         image = new Image();
         image.onload = function () {
             drawImg(context,image);
         }
         image.src = &quot;Image/html5.jpg&quot;
     }

     function drawImg(context, image) {
         //åœ†å½¢è£å‰ªåŒº
         //createCircleClip(context)
         //æ˜Ÿå½¢è£å‰ªåŒº
         create5StarClip(context);
         context.drawImage(image,0,0);
     }

     function createCircleClip(context) {
         context.beginPath();
         context.arc(200, 150, 100, 0, Math.PI * 2, true);
         context.closePath();
         context.clip();
     }

     function create5StarClip(context) {
         var n = 0;
         var dx = 200;
         var dy = 135;
         var s = 150;
         context.beginPath();
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 5 * 4;
         for (var i = 0; i &lt; 5; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.lineTo(dx + x * s, dy + y * s);
         }
         context.closePath();
         context.clip();
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822426.png" alt="Mou"><br><img src="http://www.uml.org.cn/html/images/20120822427.png" alt="Mou"> </p>
<h3 id="åƒç´ å¤„ç†ï¼š"><a href="#åƒç´ å¤„ç†ï¼š" class="headerlink" title="åƒç´ å¤„ç†ï¼š"></a>åƒç´ å¤„ç†ï¼š</h3><p>è·å–åƒç´ é¢œè‰²æ•°ç»„ï¼š var imagedata=context.getImageData(sx,sy,sw,sh)</p>
<p>sx:cavasçš„xè½´åæ ‡ç‚¹</p>
<p>sy:canvasçš„yè½´åæ ‡ç‚¹</p>
<p>sw:è·ç¦»xçš„å®½åº¦</p>
<p>sh:è·ç¦»yçš„é«˜åº¦</p>
<p>å¯ä»¥åˆ©ç”¨context.getImageDataè¿”å›çš„ä¸€ä¸ªåƒç´ é¢œè‰²æ•°ç»„ï¼Œé¡ºåºæ˜¯æ‰€å–åƒç´ èŒƒå›´çš„ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œæ•°ç»„çš„å…ƒç´ æ˜¯ï¼ˆæ‰€æœ‰å›¾å½¢ï¼ŒåŒ…æ‹¬å›¾ç‰‡ï¼Œå’Œç»˜åˆ¶çš„å›¾å½¢ï¼‰æ¯ä¸ªåƒç´ çš„rgba</p>
<p>[r1,g1,b1,a1,r2,g2,b2,a2â€¦]</p>
<p>è®¾ç½®åƒç´ é¢œè‰²ï¼šcontext.putImageData(imagedata,dx,dy,dirtyX,dirtyY,dirtyWidth,dirtyHeight)</p>
<p>å¯¹imagedataæ•°ç»„ä¸­çš„å„ä¸ªåƒç´ çš„rã€gã€bã€aå€¼è¿›è¡Œä¿®æ”¹ï¼Œå†è°ƒç”¨putImageDataæ–¹æ³•è¿›è¡Œç»˜åˆ¶</p>
<p>imagedata:ä¿®æ”¹åçš„imagedata</p>
<p>dx:é‡ç»˜å›¾åƒçš„èµ·ç‚¹æ¨ªåæ ‡ï¼ˆé‡ç»˜çš„èµ·ç‚¹å’ŒåŸæ¥çš„å›¾åƒä¸€è‡´çš„è¯å°±ä¼šæŠŠåŸæ¥çš„å›¾å½¢è¦†ç›–æ‰ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯åŸæ¥çš„å›¾åƒå˜æˆç°åœ¨çš„å›¾åƒä¸€æ ·ï¼‰</p>
<p>dy:é‡ç»˜å›¾åƒçš„èµ·ç‚¹çºµåæ ‡</p>
<p>//ä»¥ä¸‹å¯é€‰å‚æ•°ï¼Œè®¾ç½®é‡ç»˜çš„çŸ©å½¢èŒƒå›´ï¼Œå¦‚æœç¼ºçœï¼Œé»˜è®¤ä¼šé‡ç»˜æ‰€æœ‰çš„imegedata</p>
<p>dirtyX:çŸ©å½¢å·¦ä¸Šè§’xè½´åæ ‡</p>
<p>dirtyY:çŸ©å½¢å·¦ä¸Šè§’yè½´åæ ‡</p>
<p>dirtyWidth:çŸ©å½¢é•¿åº¦</p>
<p>dirtyHeight:çŸ©å½¢é«˜åº¦</p>
<pre><code>View Code 
     function draw16(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &apos;red&apos;
         //åœ¨å³ä¸‹è§’ç”»ä¸€ä¸ªæ­£æ–¹å½¢
         context.fillRect(250,250,150,50);
         var image = new Image();
         image.src = &quot;Image/html5.jpg&quot;;

         image.onload = function () {
             //åœ¨å·¦ä¸Šè§’ç”»ä¸€å¹…å›¾ç‰‡
             context.drawImage(image, 0, 0,200,200);

             //å®éªŒè¯æ˜imagedataå–çš„æ˜¯canvasæ‰€åœ¨èŒƒå›´ç”»çš„å›¾å½¢ï¼Œä¸æ­¢æ˜¯å›¾ç‰‡
             //ä¸ä¼šå–è¯¥åŒºåŸŸå†…æ˜¯ç©ºç™½çš„canvasçš„åƒç´ 
             var imagedata = context.getImageData(0, 0, 400, 300);

             //ä¿®æ”¹imagedata
             for (var i = 0, n = imagedata.data.length; i &lt; n; i += 4) {

                 imagedata.data[i + 0] = 255 - imagedata.data[i + 0]; //red;
                 imagedata.data[i + 1] = 255 - imagedata.data[i + 1]; //green
                 imagedata.data[i + 2] = 255 - imagedata.data[i + 2]; //blue
                 //imagedata.data[i + 3] = 255 - imagedata.data[i + 3]; //a
             }
             context.putImageData(imagedata, 0, 0);
         }
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822428.png" alt="Mou"> </p>
<h3 id="ç»˜åˆ¶æ–‡å­—"><a href="#ç»˜åˆ¶æ–‡å­—" class="headerlink" title="ç»˜åˆ¶æ–‡å­—"></a>ç»˜åˆ¶æ–‡å­—</h3><p>å¡«å……æ–‡å­—ï¼šcontext.fillText(text,x,y)</p>
<p>ç»˜åˆ¶æ–‡å­—è½®å»“ context.strokeText(text,x,y)</p>
<p>text:è¦ç»˜åˆ¶çš„æ–‡å­—</p>
<p>x:æ–‡å­—èµ·ç‚¹çš„xåæ ‡è½´</p>
<p>y:æ–‡å­—èµ·ç‚¹çš„yåæ ‡è½´</p>
<p>context.font:è®¾ç½®å­—ä½“æ ·å¼</p>
<p>context.textAlign:æ°´å¹³å¯¹é½æ–¹å¼</p>
<p>startã€endã€rightã€center</p>
<p>context.textBaseline:å‚ç›´å¯¹é½æ–¹å¼</p>
<p>topã€hangingã€middleã€alphabeticã€ideographicã€bottom</p>
<p>var length=context.measureText(text):è®¡ç®—å­—ä½“é•¿åº¦(px)é‚£ä¹ˆèƒ½ä¸èƒ½è®¡ç®—é«˜åº¦å•Šï¼Œå¾ˆé—æ†¾ï¼Œä¸èƒ½</p>
<pre><code>View Code 
     function draw17(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0,0,400,300);
         context.fillStyle = &quot;#00f&quot;;
         context.font = &quot;italic 30px sans-serif&quot;;
         context.textBaseline = &apos;top&apos;;
         //å¡«å……å­—ç¬¦ä¸²
         var txt=&quot;fillç¤ºä¾‹æ–‡å­—&quot;
         context.fillText(txt, 0, 0);
         var length=context.measureText(txt);
         context.fillText(&quot;é•¿&quot; + length.width + &quot;px&quot;, 0, 50);
         context.font = &quot;bolid 30px sans-serif&quot;;
         txt = &quot;strokeç¤ºä¾‹æ–‡å­—&quot;;
         length = context.measureText(txt);
         context.strokeText(txt,0,100);
         context.fillText(&quot;é•¿&quot; + length.width + &quot;px&quot;, 0, 150);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822429.png" alt="Mou"> </p>
<h3 id="ä¿å­˜å’Œæ¢å¤çŠ¶æ€"><a href="#ä¿å­˜å’Œæ¢å¤çŠ¶æ€" class="headerlink" title="ä¿å­˜å’Œæ¢å¤çŠ¶æ€"></a>ä¿å­˜å’Œæ¢å¤çŠ¶æ€</h3><p>ä¿å­˜ï¼šcontext.save()</p>
<p>æ¢å¤ï¼šcontext.restore()</p>
<p>åœ¨ä¸Šé¢çš„è£å‰ªå›¾ç‰‡æè¿‡ï¼Œä¸€æ—¦è®¾å®šäº†è£å‰ªåŒºåŸŸï¼Œåæ¥ç»˜åˆ¶çš„å›¾å½¢éƒ½åªæ˜¾ç¤ºè£å‰ªåŒºåŸŸå†…çš„å†…å®¹ï¼Œè¦â€œå–æ¶ˆâ€è¿™ä¸ªè£å‰ªåŒºåŸŸæ‰èƒ½æ­£å¸¸ç»˜åˆ¶å…¶ä»–å›¾å½¢ï¼Œå…¶å®è¿™ä¸ªâ€œå–æ¶ˆâ€æ˜¯åˆ©ç”¨saveï¼ˆï¼‰æ–¹æ³•å’Œrestoreï¼ˆï¼‰æ–¹æ³•æ¥å®ç°çš„ã€‚</p>
<p>context.save()ï¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¼šä¿å­˜å½“å‰contextçš„çŠ¶æ€ã€å±æ€§ï¼ˆæŠŠä»–ç†è§£æˆæ¸¸æˆå­˜æ¡£ï¼‰</p>
<p>context.restore():è°ƒç”¨è¯¥æ–¹æ³•å°±èƒ½æ¢å¤åˆ°saveæ—¶å€™contextçš„çŠ¶æ€ã€å±æ€§ï¼ˆæ¸¸æˆå›æ¡£ï¼‰</p>
<pre><code>View Code 
function draw18(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;red&quot;;
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;black&quot;;
         context.fillRect(0, 0, 100, 100);
         context.restore();//æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.fillRect(0,120,100,100);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822430.png" alt="Mou"> </p>
<h3 id="ä¿å­˜æ–‡ä»¶"><a href="#ä¿å­˜æ–‡ä»¶" class="headerlink" title="ä¿å­˜æ–‡ä»¶"></a>ä¿å­˜æ–‡ä»¶</h3><p>canvas.toDataURL(MIME)</p>
<p>åœ¨canvasä¸­ç»˜å‡ºçš„å›¾ç‰‡åªæ˜¯canvasæ ‡ç­¾è€Œå·²ï¼Œå¹¶éæ˜¯çœŸæ­£çš„å›¾ç‰‡ï¼Œæ˜¯ä¸èƒ½å³é”®ï¼Œå¦å­˜ä¸ºçš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨canvas.toDataURL()è¿™ä¸ªæ–¹æ³•æŠŠcanvasç»˜åˆ¶çš„å›¾å½¢ç”Ÿæˆä¸€å¹…å›¾ç‰‡ï¼Œç”Ÿæˆå›¾ç‰‡åï¼Œå°±èƒ½å¯¹å›¾ç‰‡è¿›è¡Œç›¸åº”çš„æ“ä½œäº†ã€‚</p>
<pre><code>View Code 
     function draw19(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;rgb(0,0,225)&quot;;
         context.fillRect(0, 0, canvas.width, canvas.height);
         context.fillStyle = &quot;rgb(255,255,0)&quot;;
         context.fillRect(10, 20, 50, 50);
         //æŠŠå›¾åƒä¿å­˜åˆ°æ–°çš„çª—å£
         var w=window.open(canvas.toDataURL(&quot;image/jpeg&quot;),&quot;smallwin&quot;,&quot;width=400,height=350&quot;);
    } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822431.png" alt="Mou">        </p>
<h3 id="ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»"><a href="#ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»" class="headerlink" title="ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»"></a>ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»</h3><p>åŸºæœ¬åŸç†å°±æ˜¯å®šæ—¶æ¸…é™¤æ•´ä¸ªcanvasé‡æ–°ç»˜åˆ¶ï¼Œä¸‹é¢ç»™å‡ºâ€œæˆ‘å¼¹ã€æˆ‘å¼¹ã€æˆ‘å¼¹å¼¹å¼¹â€çš„ä»£ç  ï¼ˆé¢ã€åå­—è€Œå·²ï¼‰</p>
<p>å°çŸ©å½¢åœ¨çŸ©å½¢åŒºåŸŸç§»åŠ¨ï¼Œç¢°åˆ°çŸ©å½¢åŒºåŸŸçš„è¾¹ç¼˜åå¼¹</p>
<pre><code>View Code 
    function draw20(id) {
        var canvas = document.getElementById(id);
        if (canvas == null)
            return false;
        var context = canvas.getContext(&quot;2d&quot;);

        var interal = setInterval(function () {
            move(context);
        }, 1);
    }

    var x = 100;//çŸ©å½¢å¼€å§‹åæ ‡
    var y = 100;//çŸ©å½¢ç»“æŸåæ ‡
    var mx = 0;//0å³1å·¦
    var my = 0; //0ä¸‹1ä¸Š
    var ml = 1;//æ¯æ¬¡ç§»åŠ¨é•¿åº¦
    var w = 20;//çŸ©å½¢å®½åº¦
    var h = 20;//çŸ©å½¢é«˜åº¦
    var cw = 400;//canvaså®½åº¦
    var ch = 300; //canvasé«˜åº¦


    function move(context) {
        context.clearRect(0, 0, 400, 300);
        context.fillStyle = &quot;#EEEEFF&quot;;
        context.fillRect(0, 0, 400, 300);
        context.fillStyle = &quot;red&quot;;
        context.fillRect(x, y, w, h);       
        if (mx == 0) {
            x = x + ml;
            if (x &gt;= cw-w) {
                mx = 1;
            }
        }
        else {
            x = x - ml;
            if (x &lt;= 0) {
                mx = 0;
            }
        }
        if (my == 0) {
            y = y + ml;
            if (y &gt;= ch-h) {
                my = 1;
            }
        }
        else {
            y = y - ml;
            if (y &lt;= 0) {
                my = 0;
            }
        }

    } 
</code></pre><p> <img src="http://www.uml.org.cn/html/images/20120822432.png" alt="Mou">  </p>
<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>å†æ—¶ä¸€å¤©åŠï¼Œæœ¬æ¥ä»¥ä¸ºå¯ä»¥ç©è½¬çš„ï¼Œå†™ä¸‹æ¥æ‰å‘ç°è¦ç©è½¬canvasè¿˜éœ€è¦å¾ˆå¤šçš„å®è·µï¼Œè¿™ä¸ªé“ç†åº”è¯¥æ˜¯é€‚ç”¨æ‰€æœ‰çš„æŠ€æœ¯çš„ï¼Œåšäººå•Šï¼Œå°±å¾—è°¦è™šç‚¹ã€‚æœ¬æ–‡å¦‚æœ‰é”™è¯¯ï¼Œè¯·åŠæ—¶ç•™è¨€ç»™æˆ‘çº æ­£ï¼Œå¸Œæœ›èƒ½ç»™æ­£åœ¨å­¦canvasç»˜å›¾çš„ç«¥é‹æœ‰æ‰€å¸®åŠ©</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/16/canvasç”»å›¾/" class="archive-article-date">
  	<time datetime="2016-11-16T12:00:25.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-16</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="ç©è½¬html5-canvasç”»å›¾" data-title="canvasç”»å›¾" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-Vue-js" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/11/15/Vue-js/">Vue.js</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ä»‹ç»-ä¸€"><a href="#ä»‹ç»-ä¸€" class="headerlink" title="ä»‹ç»(ä¸€)"></a>ä»‹ç»(ä¸€)</h1><h2 id="Vue-js-æ˜¯ä»€ä¹ˆ"><a href="#Vue-js-æ˜¯ä»€ä¹ˆ" class="headerlink" title="Vue.js æ˜¯ä»€ä¹ˆ"></a>Vue.js æ˜¯ä»€ä¹ˆ</h2><hr>
<p>Vue.jsï¼ˆè¯»éŸ³ /vjuË/, ç±»ä¼¼äº viewï¼‰ æ˜¯ä¸€å¥—æ„å»ºç”¨æˆ·ç•Œé¢çš„ æ¸è¿›å¼æ¡†æ¶ã€‚ä¸å…¶ä»–é‡é‡çº§æ¡†æ¶ä¸åŒçš„æ˜¯ï¼ŒVue </p>
<p>é‡‡ç”¨è‡ªåº•å‘ä¸Šå¢é‡å¼€å‘çš„è®¾è®¡ã€‚Vue çš„æ ¸å¿ƒåº“åªå…³æ³¨è§†å›¾å±‚ï¼Œå¹¶ä¸”éå¸¸å®¹æ˜“å­¦ä¹ ï¼Œéå¸¸å®¹æ˜“ä¸å…¶å®ƒåº“æˆ–å·²æœ‰é¡¹ç›®æ•´</p>
<p>åˆã€‚å¦ä¸€æ–¹é¢ï¼ŒVue å®Œå…¨æœ‰èƒ½åŠ›é©±åŠ¨é‡‡ç”¨å•æ–‡ä»¶ç»„ä»¶å’ŒVueç”Ÿæ€ç³»ç»Ÿæ”¯æŒçš„åº“å¼€å‘çš„å¤æ‚å•é¡µåº”ç”¨ã€‚</p>
<p>Vue.js çš„ç›®æ ‡æ˜¯é€šè¿‡å°½å¯èƒ½ç®€å•çš„ API å®ç°å“åº”çš„æ•°æ®ç»‘å®šå’Œç»„åˆçš„è§†å›¾ç»„ä»¶ã€‚</p>
<p>å¦‚æœä½ æ˜¯æœ‰ç»éªŒçš„å‰ç«¯å¼€å‘è€…ï¼Œæƒ³çŸ¥é“ Vue.js ä¸å…¶å®ƒåº“/æ¡†æ¶çš„åŒºåˆ«ï¼ŒæŸ¥çœ‹å¯¹æ¯”å…¶å®ƒæ¡†æ¶ã€‚</p>
<h2 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h2><pre><code>å®˜æ–¹æŒ‡å—å‡è®¾ä½ å·²æœ‰HTMLã€CSSå’ŒJavaScriptä¸­çº§å‰ç«¯çŸ¥è¯†ã€‚å¦‚æœä½ æ˜¯å…¨æ–°çš„å‰ç«¯å¼€å‘è€…ï¼Œå®ƒå¯èƒ½ä¸æ˜¯æœ€å¥½    çš„æƒ³æ³•ï¼Œå°†ä¸€ä¸ªæ¡†æ¶ä½œä¸ºä½ çš„ç¬¬ä¸€æ­¥-æœ€å¥½æŒæ¡åŸºæœ¬çŸ¥è¯†å†æ¥ï¼å…¶ä»–æ¡†æ¶ä»¥å‰çš„ç»éªŒæ˜¯æœ‰å¸®åŠ©çš„ï¼Œä½†ä¸æ˜¯å¿…éœ€    çš„ã€‚
</code></pre><p>å°è¯• Vue.js æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ <a href="https://jsfiddle.net/chrisvfritz/50wL7mdz/" target="_blank" rel="external">JSFiddle Hello World</a> ä¾‹å­ã€‚ä½ å¯ä»¥åœ¨æµè§ˆå™¨æ–°æ ‡ç­¾é¡µä¸­æ‰“å¼€å®ƒï¼Œè·Ÿç€æˆ‘ä»¬å­¦ä¹ ä¸€äº›åŸºç¡€ç¤ºä¾‹ã€‚æˆ–è€…ä½ ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ªæœ¬åœ°çš„ .html æ–‡ä»¶ï¼Œç„¶åå¼•å…¥ Vue:</p>
<pre><code>&lt;script src=&quot;https://unpkg.com/vue/dist/vue.js&quot;&gt;
</code></pre><p>ä½ å¯ä»¥æŸ¥çœ‹<a href="http://cn.vuejs.org/v2/guide/installation.html" target="_blank" rel="external">å®‰è£…æŒ‡å—</a>æ¥äº†è§£å…¶ä»–å®‰è£… Vue çš„é€‰é¡¹ã€‚è¯·æ³¨æ„æˆ‘ä»¬ä¸æ¨èæ–°æ‰‹ç›´æ¥ä½¿ç”¨ vue-cliï¼Œå°¤å…¶æ˜¯å¯¹ Node.js æ„å»ºå·¥å…·ä¸å¤Ÿäº†è§£çš„åŒå­¦ã€‚</p>
<h2 id="å£°æ˜å¼æ¸²æŸ“"><a href="#å£°æ˜å¼æ¸²æŸ“" class="headerlink" title="å£°æ˜å¼æ¸²æŸ“"></a>å£°æ˜å¼æ¸²æŸ“</h2><hr>
<p>Vue.js çš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå…è®¸ä½ é‡‡ç”¨ç®€æ´çš„æ¨¡æ¿è¯­æ³•æ¥å£°æ˜å¼çš„å°†æ•°æ®æ¸²æŸ“è¿› DOM çš„ç³»ç»Ÿï¼š</p>
<pre><code>&lt;div id=&quot;app&quot;&gt;
  {{ message }}
    &lt;/div&gt;
    var app = new Vue({
      el: &apos;#app&apos;,
      data: {
    message: &apos;Hello Vue!&apos;
  }
    })
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hello Vueï¼</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å·²ç»ç”Ÿæˆäº†æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Vue åº”ç”¨ï¼çœ‹èµ·æ¥è¿™è·Ÿå•å•æ¸²æŸ“ä¸€ä¸ªå­—ç¬¦ä¸²æ¨¡æ¿éå¸¸ç±»ä¼¼ï¼Œä½†æ˜¯ Vue.js åœ¨èƒŒååšäº†å¤§é‡å·¥ä½œã€‚ç°åœ¨æ•°æ®å’Œ DOM å·²ç»è¢«ç»‘å®šåœ¨ä¸€èµ·ï¼Œæ‰€æœ‰çš„å…ƒç´ éƒ½æ˜¯å“åº”å¼çš„ã€‚æˆ‘ä»¬å¦‚ä½•çŸ¥é“ï¼Ÿæ‰“å¼€ä½ çš„æµè§ˆå™¨çš„æ§åˆ¶å°ï¼Œå¹¶ä¿®æ”¹ <code>app.message</code> ï¼Œä½ å°†çœ‹åˆ°ä¸Šä¾‹ç›¸åº”åœ°æ›´æ–°ã€‚</p>
<p>é™¤äº†ç»‘å®šæ’å…¥çš„æ–‡æœ¬å†…å®¹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é‡‡ç”¨è¿™æ ·çš„æ–¹å¼ç»‘å®š DOM å…ƒç´ å±æ€§ï¼š</p>
<pre><code>&lt;div id=&quot;app-2&quot;&gt;
  &lt;span v-bind:title=&quot;message&quot;&gt;
Hover your mouse over me for a few seconds to see my dynamically bound title!
  &lt;/span&gt;
&lt;/div&gt;
var app2 = new Vue({
  el: &apos;#app-2&apos;,
  data: {
message: &apos;You loaded this page on &apos; + new Date()
  }
})
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Hover your mouse over me for a few seconds to see my dynamically bound title!</div></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬é‡åˆ°ç‚¹æ–°ä¸œè¥¿ã€‚ä½ çœ‹åˆ°çš„ <code>v-bind</code> å±æ€§è¢«ç§°ä¸ºæŒ‡ä»¤ã€‚æŒ‡ä»¤å¸¦æœ‰å‰ç¼€ <code>v-</code>ï¼Œä»¥è¡¨ç¤ºå®ƒä»¬æ˜¯ Vue.js æä¾›çš„ç‰¹æ®Šå±æ€§ã€‚å¯èƒ½ä½ å·²ç»çŒœåˆ°äº†ï¼Œå®ƒä»¬ä¼šåœ¨æ¸²æŸ“è¿‡çš„ DOM ä¸Šåº”ç”¨ç‰¹æ®Šçš„å“åº”å¼è¡Œä¸ºã€‚è¿™ä¸ªæŒ‡ä»¤çš„ç®€å•å«ä¹‰æ˜¯è¯´ï¼šå°†è¿™ä¸ªå…ƒç´ èŠ‚ç‚¹çš„ <code>title</code>å±æ€§å’Œ Vue å®ä¾‹çš„ <code>message</code> å±æ€§ç»‘å®šåˆ°ä¸€èµ·ã€‚</p>
<p>ä½ å†æ¬¡æ‰“å¼€æµè§ˆå™¨çš„æ§åˆ¶å°è¾“å…¥ <code>app2.message = &#39;some new message&#39;</code>ï¼Œä½ å°±ä¼šå†ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªç»‘å®šäº†<code>title</code>å±æ€§çš„HTMLå·²ç»è¿›è¡Œäº†æ›´æ–°ã€‚</p>
<h2 id="æ¡ä»¶ä¸å¾ªç¯"><a href="#æ¡ä»¶ä¸å¾ªç¯" class="headerlink" title="æ¡ä»¶ä¸å¾ªç¯"></a>æ¡ä»¶ä¸å¾ªç¯</h2><hr>
<p>æ§åˆ¶åˆ‡æ¢ä¸€ä¸ªå…ƒç´ çš„æ˜¾ç¤ºä¹Ÿç›¸å½“ç®€å•ï¼š</p>
<pre><code>&lt;div id=&quot;app-3&quot;&gt;
  &lt;p v-if=&quot;seen&quot;&gt;Now you see me&lt;/p&gt;
&lt;/div&gt;
var app3 = new Vue({
  el: &apos;#app-3&apos;,
  data: {
seen: true
  }
})
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Now you see me</div></pre></td></tr></table></figure>
<p>ç»§ç»­åœ¨æ§åˆ¶å°è®¾ç½® <code>app3.seen = false</code>ï¼Œä½ ä¼šå‘ç° â€œNow you see meâ€ æ¶ˆå¤±äº†ã€‚</p>
<p>è¿™ä¸ªä¾‹å­æ¼”ç¤ºäº†æˆ‘ä»¬ä¸ä»…å¯ä»¥ç»‘å®š DOM æ–‡æœ¬åˆ°æ•°æ®ï¼Œä¹Ÿå¯ä»¥ç»‘å®š DOM ç»“æ„åˆ°æ•°æ®ã€‚è€Œä¸”ï¼ŒVue.js ä¹Ÿæä¾›ä¸€ä¸ªå¼ºå¤§çš„è¿‡æ¸¡æ•ˆæœç³»ç»Ÿï¼Œå¯ä»¥åœ¨ Vue æ’å…¥/åˆ é™¤å…ƒç´ æ—¶è‡ªåŠ¨åº”ç”¨<code>è¿‡æ¸¡æ•ˆæœ</code>ã€‚</p>
<p>ä¹Ÿæœ‰ä¸€äº›å…¶å®ƒæŒ‡ä»¤ï¼Œæ¯ä¸ªéƒ½æœ‰ç‰¹æ®Šçš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œ <code>v-for</code> æŒ‡ä»¤å¯ä»¥ç»‘å®šæ•°æ®åˆ°æ•°æ®æ¥æ¸²æŸ“ä¸€ä¸ªåˆ—è¡¨ï¼š</p>
<pre><code>&lt;div id=&quot;app-4&quot;&gt;
  &lt;ol&gt;
    &lt;li v-for=&quot;todo in todos&quot;&gt;
  {{ todo.text }}
&lt;/li&gt;
  &lt;/ol&gt;
    &lt;/div&gt;
    var app4 = new Vue({
      el: &apos;#app-4&apos;,
      data: {
    todos: [
      { text: &apos;Learn JavaScript&apos; },
      { text: &apos;Learn Vue&apos; },
      { text: &apos;Build something awesome&apos; }
        ]
      }
    })
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Learn JavaScript</div><div class="line">Learn Vue</div><div class="line">Build something awesome</div></pre></td></tr></table></figure>
<p>åœ¨æ§åˆ¶å°é‡Œï¼Œè¾“å…¥ <code>app4.todos.push({ text: &#39;New item&#39; })</code>ã€‚ä½ ä¼šå‘ç°åˆ—è¡¨ä¸­å¤šäº†ä¸€æ æ–°å†…å®¹ã€‚</p>
<h2 id="å¤„ç†ç”¨æˆ·è¾“å…¥"><a href="#å¤„ç†ç”¨æˆ·è¾“å…¥" class="headerlink" title="å¤„ç†ç”¨æˆ·è¾“å…¥"></a>å¤„ç†ç”¨æˆ·è¾“å…¥</h2><hr>
<p>ä¸ºäº†è®©ç”¨æˆ·å’Œä½ çš„åº”ç”¨è¿›è¡Œäº’åŠ¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ v-on æŒ‡ä»¤ç»‘å®šä¸€ä¸ªç›‘å¬äº‹ä»¶ç”¨äºè°ƒç”¨æˆ‘ä»¬ Vue å®ä¾‹ä¸­å®šä¹‰çš„æ–¹æ³•ï¼š</p>
<pre><code>&lt;div id=&quot;app-5&quot;&gt;
  &lt;p&gt;{{ message }}&lt;/p&gt;
  &lt;button v-on:click=&quot;reverseMessage&quot;&gt;Reverse Message&lt;/button&gt;
&lt;/div&gt;
    var app5 = new Vue({
     el: &apos;#app-5&apos;,
      data: {
        message: &apos;Hello Vue.js!&apos;
      },
      methods: {
        reverseMessage: function () {
          this.message = this.message.split(&apos;&apos;).reverse().join(&apos;&apos;)
    }
      }
})
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Hello Vue.js!</div><div class="line"></div><div class="line">Reverse Message</div></pre></td></tr></table></figure>
<p>åœ¨ <code>reverseMessage</code> æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åœ¨æ²¡æœ‰æ¥è§¦ DOM çš„æƒ…å†µä¸‹æ›´æ–°äº†åº”ç”¨çš„çŠ¶æ€ - æ‰€æœ‰çš„ DOM æ“ä½œéƒ½ç”± Vue æ¥å¤„ç†ï¼Œä½ å†™çš„ä»£ç åªéœ€è¦å…³æ³¨åŸºæœ¬é€»è¾‘ã€‚</p>
<p>Vue ä¹Ÿæä¾›äº†<code>v-model</code> æŒ‡ä»¤ï¼Œå®ƒä½¿å¾—åœ¨è¡¨å•è¾“å…¥å’Œåº”ç”¨çŠ¶æ€ä¸­åšåŒå‘æ•°æ®ç»‘å®šå˜å¾—éå¸¸è½»å·§ã€‚</p>
<pre><code>&lt;div id=&quot;app-6&quot;&gt;
  &lt;p&gt;{{ message }}&lt;/p&gt;
  &lt;input v-model=&quot;message&quot;&gt;
&lt;/div&gt;
var app6 = new Vue({
  el: &apos;#app-6&apos;,
  data: {
    message: &apos;Hello Vue!&apos;
  }
})
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Hello Vue!</div><div class="line"></div><div class="line">Hello Vue!</div></pre></td></tr></table></figure>
<h2 id="ç”¨ç»„ä»¶æ„å»ºï¼ˆåº”ç”¨ï¼‰"><a href="#ç”¨ç»„ä»¶æ„å»ºï¼ˆåº”ç”¨ï¼‰" class="headerlink" title="ç”¨ç»„ä»¶æ„å»ºï¼ˆåº”ç”¨ï¼‰"></a>ç”¨ç»„ä»¶æ„å»ºï¼ˆåº”ç”¨ï¼‰</h2><hr>
<p>ç»„ä»¶ç³»ç»Ÿæ˜¯ Vue.js å¦ä¸€ä¸ªé‡è¦æ¦‚å¿µï¼Œå› ä¸ºå®ƒæä¾›äº†ä¸€ç§æŠ½è±¡ï¼Œè®©æˆ‘ä»¬å¯ä»¥ç”¨ç‹¬ç«‹å¯å¤ç”¨çš„å°ç»„ä»¶æ¥æ„å»ºå¤§å‹åº”ç”¨ã€‚å¦‚æœæˆ‘ä»¬è€ƒè™‘åˆ°è¿™ç‚¹ï¼Œå‡ ä¹ä»»æ„ç±»å‹çš„åº”ç”¨çš„ç•Œé¢éƒ½å¯ä»¥æŠ½è±¡ä¸ºä¸€ä¸ªç»„ä»¶æ ‘ï¼š<br><img src="http://cn.vuejs.org/images/components.png" alt="Mou"></p>
<p>åœ¨ Vue é‡Œï¼Œä¸€ä¸ªç»„ä»¶å®è´¨ä¸Šæ˜¯ä¸€ä¸ªæ‹¥æœ‰é¢„å®šä¹‰é€‰é¡¹çš„ä¸€ä¸ª Vue å®ä¾‹ï¼š</p>
<pre><code>// Define a new component called todo-item
Vue.component(&apos;todo-item&apos;, {
  template: &apos;&lt;li&gt;This is a todo&lt;/li&gt;&apos;
})
</code></pre><p>ç°åœ¨ä½ å¯ä»¥å¦ä¸€ä¸ªç»„ä»¶æ¨¡æ¿ä¸­å†™å…¥å®ƒï¼š</p>
<pre><code>&lt;ul&gt;
  &lt;!-- Create an instance of the todo-item component --&gt;
  &lt;todo-item&gt;&lt;/todo-item&gt;
&lt;/ul&gt;
</code></pre><p>ä½†æ˜¯è¿™æ ·ä¼šä¸ºæ¯ä¸ª todo æ¸²æŸ“åŒæ ·çš„æ–‡æœ¬ï¼Œè¿™çœ‹èµ·æ¥å¹¶ä¸æ˜¯å¾ˆé…·ã€‚æˆ‘ä»¬åº”è¯¥å°†æ•°æ®ä»çˆ¶ä½œç”¨åŸŸä¼ åˆ°å­ç»„ä»¶ã€‚è®©æˆ‘ä»¬æ¥ä¿®æ”¹ä¸€ä¸‹ç»„ä»¶çš„å®šä¹‰ï¼Œä½¿å¾—å®ƒèƒ½å¤Ÿæ¥å—ä¸€ä¸ª prop å­—æ®µï¼š</p>
<pre><code>Vue.component(&apos;todo-item&apos;, {
  // The todo-item component now accepts a
  // &quot;prop&quot;, which is like a custom attribute.
  // This prop is called todo.
  props: [&apos;todo&apos;],
  template: &apos;&lt;li&gt;{{ todo.text }}&lt;/li&gt;&apos;
})
</code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ v-bind æŒ‡ä»¤å°† todo ä¼ åˆ°æ¯ä¸€ä¸ªé‡å¤çš„ç»„ä»¶ä¸­ï¼š</p>
<pre><code>&lt;div id=&quot;app-7&quot;&gt;
  &lt;ol&gt;
&lt;!-- Now we provide each todo-item with the todo object    --&gt;
&lt;!-- it&apos;s representing, so that its content can be dynamic --&gt;
&lt;todo-item v-for=&quot;item in groceryList&quot; v-bind:todo=&quot;item&quot;&gt;&lt;/todo-item&gt;
  &lt;/ol&gt;
&lt;/div&gt;
Vue.component(&apos;todo-item&apos;, {
  props: [&apos;todo&apos;],
  template: &apos;&lt;li&gt;{{ todo.text }}&lt;/li&gt;&apos;
})
var app7 = new Vue({
  el: &apos;#app-7&apos;,
  data: {
groceryList: [
  { text: &apos;Vegetables&apos; },
  { text: &apos;Cheese&apos; },
  { text: &apos;Whatever else humans are supposed to eat&apos; }
]
  }
})
</code></pre><p>1.Vegetables</p>
<p>2.Cheese</p>
<p>3.Whatever else humans are supposed to eat</p>
<p>è¿™åªæ˜¯ä¸€ä¸ªå‡è®¾çš„ä¾‹å­ï¼Œä½†æ˜¯æˆ‘ä»¬å·²ç»å°†åº”ç”¨åˆ†å‰²æˆäº†ä¸¤ä¸ªæ›´å°çš„å•å…ƒï¼Œå­å…ƒç´ é€šè¿‡ <code>props</code> æ¥å£å®ç°äº†ä¸çˆ¶äº²å…ƒç´ å¾ˆå¥½çš„è§£è€¦ã€‚æˆ‘ä»¬ç°åœ¨å¯ä»¥åœ¨ä¸å½±å“åˆ°çˆ¶åº”ç”¨çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥ä¸ºæˆ‘ä»¬çš„ <code>todo</code> ç»„ä»¶æ”¹è¿›æ›´å¤šå¤æ‚çš„æ¨¡æ¿å’Œé€»è¾‘ã€‚</p>
<p>åœ¨ä¸€ä¸ªå¤§å‹åº”ç”¨ä¸­ï¼Œä¸ºäº†ä½¿å¾—å¼€å‘è¿‡ç¨‹å¯æ§ï¼Œæœ‰å¿…è¦å°†åº”ç”¨æ•´ä½“åˆ†å‰²æˆä¸€ä¸ªä¸ªçš„ç»„ä»¶ã€‚åœ¨<code>åé¢çš„æ•™ç¨‹</code>ä¸­æˆ‘ä»¬å°†è¯¦è¿°ç»„ä»¶ï¼Œä¸è¿‡è¿™é‡Œæœ‰ä¸€ä¸ªï¼ˆå‡æƒ³ï¼‰çš„ä¾‹å­ï¼Œçœ‹çœ‹ä½¿ç”¨äº†ç»„ä»¶çš„åº”ç”¨æ¨¡æ¿æ˜¯ä»€ä¹ˆæ ·çš„ï¼š</p>
<pre><code>&lt;div id=&quot;app&quot;&gt;
  &lt;app-nav&gt;&lt;/app-nav&gt;
  &lt;app-view&gt;
    &lt;app-sidebar&gt;&lt;/app-sidebar&gt;
&lt;app-content&gt;&lt;/app-content&gt;
  &lt;/app-view&gt;
&lt;/div&gt;
</code></pre><h2 id="ä¸è‡ªå®šä¹‰å…ƒç´ çš„å…³ç³»"><a href="#ä¸è‡ªå®šä¹‰å…ƒç´ çš„å…³ç³»" class="headerlink" title="ä¸è‡ªå®šä¹‰å…ƒç´ çš„å…³ç³»"></a>ä¸è‡ªå®šä¹‰å…ƒç´ çš„å…³ç³»</h2><hr>
<p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ° Vue.js ç»„ä»¶éå¸¸ç±»ä¼¼äºè‡ªå®šä¹‰å…ƒç´ â€”â€”å®ƒæ˜¯<code>Web ç»„ä»¶è§„èŒƒ</code>çš„ä¸€éƒ¨åˆ†ã€‚å®é™…ä¸Š Vue.js çš„ç»„ä»¶è¯­æ³•å‚è€ƒäº†è¯¥è§„èŒƒã€‚ä¾‹å¦‚ Vue ç»„ä»¶å®ç°äº† <code>Slot API</code> ä¸<code>is</code> ç‰¹æ€§ã€‚ä½†æ˜¯ï¼Œæœ‰å‡ ä¸ªå…³é”®çš„ä¸åŒï¼š</p>
<p>1.Web ç»„ä»¶è§„èŒƒä»ç„¶è¿œæœªå®Œæˆï¼Œå¹¶ä¸”æ²¡æœ‰æµè§ˆå™¨å®ç°ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼ŒVue.js ç»„ä»¶ä¸éœ€è¦ä»»ä½•è¡¥ä¸ï¼Œå¹¶ä¸”åœ¨æ‰€æœ‰æ”¯æŒçš„æµè§ˆå™¨ï¼ˆIE9 åŠæ›´é«˜ç‰ˆæœ¬ï¼‰ä¹‹ä¸‹è¡¨ç°ä¸€è‡´ã€‚å¿…è¦æ—¶ï¼ŒVue.js ç»„ä»¶ä¹Ÿå¯ä»¥æ”¾åœ¨åŸç”Ÿè‡ªå®šä¹‰å…ƒç´ ä¹‹å†…ã€‚</p>
<p>2.Vue.js ç»„ä»¶æä¾›äº†åŸç”Ÿè‡ªå®šä¹‰å…ƒç´ æ‰€ä¸å…·å¤‡çš„ä¸€äº›é‡è¦åŠŸèƒ½ï¼Œæ¯”å¦‚ç»„ä»¶é—´çš„æ•°æ®æµï¼Œè‡ªå®šä¹‰äº‹ä»¶ç³»ç»Ÿï¼Œä»¥åŠåŠ¨æ€çš„ã€å¸¦ç‰¹æ•ˆçš„ç»„ä»¶æ›¿æ¢ã€‚</p>
<h2 id="å‡†å¤‡å¥½æ¢ç´¢æ›´å¹¿é˜”çš„ä¸–ç•Œäº†ï¼Ÿ"><a href="#å‡†å¤‡å¥½æ¢ç´¢æ›´å¹¿é˜”çš„ä¸–ç•Œäº†ï¼Ÿ" class="headerlink" title="å‡†å¤‡å¥½æ¢ç´¢æ›´å¹¿é˜”çš„ä¸–ç•Œäº†ï¼Ÿ"></a>å‡†å¤‡å¥½æ¢ç´¢æ›´å¹¿é˜”çš„ä¸–ç•Œäº†ï¼Ÿ</h2><hr>
<p>æˆ‘ä»¬åˆšæ‰ç®€å•ä»‹ç»äº† Vue.js æ ¸å¿ƒçš„ä¸€äº›æœ€åŸºæœ¬çš„ç‰¹å¾ - æœ¬æŒ‡å—çš„å…¶ä½™éƒ¨åˆ†å°†ç”¨æ›´è¯¦å°½çš„ç¯‡å¹…å»æè¿°å…¶ä»–çš„ä¸€äº›é«˜çº§ç‰¹æ€§ï¼Œæ‰€ä»¥ä¸€å®šè¦é˜…è¯»å®Œæ‰€æœ‰çš„å†…å®¹å“¦ï¼</p>
<h4 id="åŸæ–‡ï¼šhttp-vuejs-org-guide-index-html"><a href="#åŸæ–‡ï¼šhttp-vuejs-org-guide-index-html" class="headerlink" title="åŸæ–‡ï¼šhttp://vuejs.org/guide/index.html"></a>åŸæ–‡ï¼š<a href="http://vuejs.org/guide/index.html" target="_blank" rel="external">http://vuejs.org/guide/index.html</a></h4>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/15/Vue-js/" class="archive-article-date">
  	<time datetime="2016-11-15T11:26:49.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-15</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="post-Vue-js" data-title="Vue.js" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-FullPage-js" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="FullPage-js"><a href="#FullPage-js" class="headerlink" title="FullPage.js"></a>FullPage.js</h1><p>ä¸ƒç‰›æœ€è¿‘æ”¹ç‰ˆäº†ç½‘ç«™ï¼Œå¼„æˆå…¨å±æ»šåŠ¨çš„ç‰¹æ•ˆï¼ŒçœŸçš„å¾ˆç‚«ï¼Œäºæ˜¯æŸ¥çœ‹å…¶æºä»£ç ï¼Œå‘ç°äº†ä¸€ä¸ªfullPage.jsæ’ä»¶ï¼Œäºæ˜¯ç™¾åº¦äº†ä¸€ä¸‹ï¼Œè¿˜å°±æ˜¯è¿™ä¸ªæ’ä»¶çš„ä½œç”¨ï¼Œå…¶å®æœ‰å¾ˆå¤šç½‘ç«™éƒ½åšäº†å…¨å±æ»šåŠ¨çš„ç‰¹æ•ˆï¼Œæ•ˆæœä¹Ÿå¾ˆå¥½çœ‹ï¼Œä»Šå¤©å°±ç»™å¤§å®¶è¯´è¯´fullPage.jsçš„ä½¿ç”¨æ–¹æ³•å’Œè®¾ç½®ã€‚</p>
<p><img src="http://www.uedsc.com/wp-content/uploads/2014/06/77.png" alt="Mou"></p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>fullPage.jsæ˜¯ä¸€ä¸ªåŸºäºjQueryçš„å…¨å±æ»šåŠ¨æ’ä»¶ï¼Œå®ƒèƒ½å¤Ÿå¾ˆæ–¹ä¾¿ã€å¾ˆè½»æ¾çš„åˆ¶ä½œå‡ºå…¨å±ç½‘ç«™ã€‚</p>
<h2 id="ä¸»è¦åŠŸèƒ½"><a href="#ä¸»è¦åŠŸèƒ½" class="headerlink" title="ä¸»è¦åŠŸèƒ½"></a>ä¸»è¦åŠŸèƒ½</h2><ul>
<li>æ”¯æŒé¼ æ ‡æ»šåŠ¨</li>
</ul>
<ul>
<li>æ”¯æŒå‰è¿›åé€€å’Œé”®ç›˜æ§åˆ¶</li>
</ul>
<ul>
<li>å¤šä¸ªå›è°ƒå‡½æ•°</li>
</ul>
<ul>
<li>æ”¯æŒæ‰‹æœºã€å¹³æ¿è§¦æ‘¸äº‹ä»¶</li>
</ul>
<ul>
<li>æ”¯æŒ CSS3 åŠ¨ç”»</li>
</ul>
<ul>
<li>æ”¯æŒçª—å£ç¼©æ”¾</li>
</ul>
<ul>
<li>çª—å£ç¼©æ”¾æ—¶è‡ªåŠ¨è°ƒæ•´</li>
</ul>
<ul>
<li>å¯è®¾ç½®æ»šåŠ¨å®½åº¦ã€èƒŒæ™¯é¢œè‰²ã€æ»šåŠ¨é€Ÿåº¦ã€å¾ªç¯é€‰é¡¹ã€å›è°ƒã€æ–‡æœ¬å¯¹é½æ–¹å¼ç­‰ç­‰</li>
</ul>
<h2 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="headerlink" title="å…¼å®¹æ€§"></a>å…¼å®¹æ€§</h2><p>fullPage.js æ”¯æŒ IE8+ åŠå…¶ä»–ç°ä»£æµè§ˆå™¨ã€‚</p>
<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><h5 id="1ã€å¼•å…¥æ–‡ä»¶"><a href="#1ã€å¼•å…¥æ–‡ä»¶" class="headerlink" title="1ã€å¼•å…¥æ–‡ä»¶"></a>1ã€å¼•å…¥æ–‡ä»¶</h5><pre><code>&lt;link rel=&quot;stylesheet&quot; href=&quot;css/jquery.fullPage.css&quot;&gt;
&lt;script src=&quot;js/jquery.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/jquery-ui.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;js/jquery.fullPage.js&quot;&gt;&lt;/script&gt;
</code></pre><h4 id="2ã€HTML"><a href="#2ã€HTML" class="headerlink" title="2ã€HTML"></a>2ã€HTML</h4><pre><code>&lt;div id=&quot;fullpage&quot;&gt;
&lt;div class=&quot;section&quot;&gt;ç¬¬ä¸€å±&lt;/div&gt;
&lt;div class=&quot;section&quot;&gt;ç¬¬äºŒå±&lt;/div&gt;
&lt;div class=&quot;section&quot;&gt;
    &lt;div class=&quot;slide&quot;&gt;ç¬¬ä¸‰å±çš„ç¬¬ä¸€å±&lt;/div&gt;
    &lt;div class=&quot;slide&quot;&gt;ç¬¬ä¸‰å±çš„ç¬¬äºŒå±&lt;/div&gt;
    &lt;div class=&quot;slide&quot;&gt;ç¬¬ä¸‰å±çš„ç¬¬ä¸‰å±&lt;/div&gt;
    &lt;div class=&quot;slide&quot;&gt;ç¬¬ä¸‰å±çš„ç¬¬å››å±&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&quot;section&quot;&gt;ç¬¬å››å±&lt;/div&gt;
&lt;/div&gt;
</code></pre><h4 id="3ã€JavaScript"><a href="#3ã€JavaScript" class="headerlink" title="3ã€JavaScript"></a>3ã€JavaScript</h4><pre><code>$(function(){
$(&apos;#fullpage&apos;).fullpage({
    &apos;verticalCentered&apos;: false,
    &apos;css3&apos;: true,
    &apos;sectionsColor&apos;: [&apos;#254875&apos;, &apos;#00FF00&apos;, &apos;#254587&apos;, &apos;#695684&apos;],
    anchors: [&apos;page1&apos;, &apos;page2&apos;, &apos;page3&apos;, &apos;page4&apos;],
    &apos;navigation&apos;: true,
    &apos;navigationPosition&apos;: &apos;right&apos;,
    &apos;navigationTooltips&apos;: [&apos;fullPage.js&apos;, &apos;Powerful&apos;, &apos;Amazing&apos;, &apos;Simple&apos;]
})
})
</code></pre><p>ç»æµ‹è¯•æœ€å¥½è‡³å°‘æœ‰ anchors è¿™ä¸ªå‚æ•°ï¼Œå¦åˆ™åœ¨ç«ç‹æµè§ˆå™¨ä¸­ï¼Œç¬¬ä¸€æ¬¡æ»šåŠ¨ä¼šç›´æ¥æ»šåˆ°åº•éƒ¨ï¼Œç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ä¸Šé¢ä»£ç çš„ç¤ºä¾‹ï¼š<a href="http://www.uedsc.com/wp-content/uploads/2015/02/fullpage-demo/" target="_blank" rel="external">@A Fullpageç®€å•ç¤ºä¾‹ã€‚</a></p>
<h2 id="å¯é€‰é…ç½®"><a href="#å¯é€‰é…ç½®" class="headerlink" title="å¯é€‰é…ç½®"></a>å¯é€‰é…ç½®</h2><h4 id="1ã€é€‰é¡¹"><a href="#1ã€é€‰é¡¹" class="headerlink" title="1ã€é€‰é¡¹"></a>1ã€é€‰é¡¹</h4><pre><code>é€‰é¡¹            ç±»å‹            é»˜è®¤å€¼            è¯´æ˜

verticalCentered    å­—ç¬¦ä¸²    true    å†…å®¹æ˜¯å¦å‚ç›´å±…ä¸­

resize    å¸ƒå°”å€¼    false    å­—ä½“æ˜¯å¦éšç€çª—å£ç¼©æ”¾è€Œç¼©æ”¾

slidesColor    å‡½æ•°    æ—     è®¾ç½®èƒŒæ™¯é¢œè‰²

anchors    æ•°ç»„    æ—     å®šä¹‰é”šé“¾æ¥

scrollingSpeed    æ•´æ•°    700    æ»šåŠ¨é€Ÿåº¦ï¼Œå•ä½ä¸ºæ¯«ç§’

easing    å­—ç¬¦ä¸²    easeInQuart    æ»šåŠ¨åŠ¨ç”»æ–¹å¼

menu    å¸ƒå°”å€¼    false    ç»‘å®šèœå•ï¼Œè®¾å®šçš„ç›¸å…³å±æ€§ä¸ anchors çš„å€¼å¯¹åº”åï¼Œèœå•å¯ä»¥æ§åˆ¶æ»šåŠ¨

navigation    å¸ƒå°”å€¼    false    æ˜¯å¦æ˜¾ç¤ºé¡¹ç›®å¯¼èˆª

navigationPosition    å­—ç¬¦ä¸²    right    é¡¹ç›®å¯¼èˆªçš„ä½ç½®ï¼Œå¯é€‰ left æˆ– right

navigationColor    å­—ç¬¦ä¸²    #000    é¡¹ç›®å¯¼èˆªçš„é¢œè‰²

navigationTooltips    æ•°ç»„    ç©º    é¡¹ç›®å¯¼èˆªçš„ tip

slidesNavigation    å¸ƒå°”å€¼    false    æ˜¯å¦æ˜¾ç¤ºå·¦å³æ»‘å—çš„é¡¹ç›®å¯¼èˆª

slidesNavPosition    å­—ç¬¦ä¸²    bottom    å·¦å³æ»‘å—çš„é¡¹ç›®å¯¼èˆªçš„ä½ç½®ï¼Œå¯é€‰ top æˆ– bottom

controlArrowColor    å­—ç¬¦ä¸²    #fff    å·¦å³æ»‘å—çš„ç®­å¤´çš„èƒŒæ™¯é¢œè‰²

loopBottom    å¸ƒå°”å€¼    false    æ»šåŠ¨åˆ°æœ€åº•éƒ¨åæ˜¯å¦æ»šå›é¡¶éƒ¨

loopTop    å¸ƒå°”å€¼    false    æ»šåŠ¨åˆ°æœ€é¡¶éƒ¨åæ˜¯å¦æ»šåº•éƒ¨

loopHorizontal    å¸ƒå°”å€¼    true    å·¦å³æ»‘å—æ˜¯å¦å¾ªç¯æ»‘åŠ¨

autoScrolling    å¸ƒå°”å€¼    true    æ˜¯å¦ä½¿ç”¨æ’ä»¶çš„æ»šåŠ¨æ–¹å¼ï¼Œå¦‚æœé€‰æ‹© falseï¼Œåˆ™ä¼šå‡ºç°æµè§ˆå™¨è‡ª        å¸¦çš„æ»šåŠ¨æ¡
scrollOverflow    å¸ƒå°”å€¼    false    å†…å®¹è¶…è¿‡æ»¡å±åæ˜¯å¦æ˜¾ç¤ºæ»šåŠ¨æ¡

css3    å¸ƒå°”å€¼    false    æ˜¯å¦ä½¿ç”¨ CSS3 transforms æ»šåŠ¨

paddingTop    å­—ç¬¦ä¸²    0    ä¸é¡¶éƒ¨çš„è·ç¦»

paddingBottom    å­—ç¬¦ä¸²    0    ä¸åº•éƒ¨è·ç¦»

fixedElements    å­—ç¬¦ä¸²    æ—     

normalScrollElements        æ—     

keyboardScrolling    å¸ƒå°”å€¼    true    æ˜¯å¦ä½¿ç”¨é”®ç›˜æ–¹å‘é”®å¯¼èˆª

touchSensitivity    æ•´æ•°    5    

continuousVertical    å¸ƒå°”å€¼    false    æ˜¯å¦å¾ªç¯æ»šåŠ¨ï¼Œä¸ loopTop åŠ loopBottom ä¸å…¼å®¹

animateAnchor    å¸ƒå°”å€¼    true    

normalScrollElementTouchThreshold    æ•´æ•°    5    
</code></pre><h4 id="2ã€æ–¹æ³•"><a href="#2ã€æ–¹æ³•" class="headerlink" title="2ã€æ–¹æ³•"></a>2ã€æ–¹æ³•</h4><pre><code>åç§°                            è¯´æ˜

moveSectionUp()                å‘ä¸Šæ»šåŠ¨

moveSectionDown()            å‘ä¸‹æ»šåŠ¨

moveTo(section, slide)        æ»šåŠ¨åˆ°

moveSlideRight()            slide å‘å³æ»šåŠ¨

moveSlideLeft()                slide å‘å·¦æ»šåŠ¨

setAutoScrolling()            è®¾ç½®é¡µé¢æ»šåŠ¨æ–¹å¼ï¼Œè®¾ç½®ä¸º true æ—¶è‡ªåŠ¨æ»šåŠ¨

setAllowScrolling()            æ·»åŠ æˆ–åˆ é™¤é¼ æ ‡æ»šè½®/è§¦æ§æ¿æ§åˆ¶

setKeyboardScrolling()        æ·»åŠ æˆ–åˆ é™¤é”®ç›˜æ–¹å‘é”®æ§åˆ¶

setScrollingSpeed()            å®šä¹‰ä»¥æ¯«ç§’ä¸ºå•ä½çš„æ»šåŠ¨é€Ÿåº¦
</code></pre><h3 id="3ã€å›è°ƒå‡½æ•°"><a href="#3ã€å›è°ƒå‡½æ•°" class="headerlink" title="3ã€å›è°ƒå‡½æ•°"></a>3ã€å›è°ƒå‡½æ•°</h3><pre><code>åç§°                        è¯´æ˜

afterLoad            æ»šåŠ¨åˆ°æŸä¸€å±åçš„å›è°ƒå‡½æ•°ï¼Œæ¥æ”¶ anchorLink å’Œ index ä¸¤ä¸ªå‚æ•°

                        anchorLinkæ˜¯é”šé“¾æ¥çš„åç§°ï¼Œindex æ˜¯åºå·ï¼Œä»1å¼€å§‹è®¡ç®—

onLeave                æ»šåŠ¨å‰çš„å›è°ƒå‡½æ•°ï¼Œæ¥æ”¶ indexã€nextIndex å’Œ direction 3ä¸ªå‚æ•°ï¼š

index                 æ˜¯ç¦»å¼€çš„â€œé¡µé¢â€çš„åºå·ï¼Œä»1å¼€å§‹è®¡ç®—ï¼›

nextIndex            æ˜¯æ»šåŠ¨åˆ°çš„â€œé¡µé¢â€çš„åºå·ï¼Œä»1å¼€å§‹è®¡ç®—ï¼›

direction             åˆ¤æ–­å¾€ä¸Šæ»šåŠ¨è¿˜æ˜¯å¾€ä¸‹æ»šåŠ¨ï¼Œå€¼æ˜¯ up æˆ– downã€‚

afterRender            é¡µé¢ç»“æ„ç”Ÿæˆåçš„å›è°ƒå‡½æ•°ï¼Œæˆ–è€…è¯´é¡µé¢åˆå§‹åŒ–å®Œæˆåçš„å›è°ƒå‡½æ•°

afterSlideLoad        æ»šåŠ¨åˆ°æŸä¸€æ°´å¹³æ»‘å—åçš„å›è°ƒå‡½æ•°ï¼Œä¸ afterLoad ç±»ä¼¼ï¼Œæ¥æ”¶anchorLinkã€
                    indexã€slideIndexã€direction 4ä¸ªå‚æ•°

onSlideLeave        æŸä¸€æ°´å¹³æ»‘å—æ»šåŠ¨å‰çš„å›è°ƒå‡½æ•°ï¼Œä¸ onLeave ç±»ä¼¼ï¼Œæ¥anchorLinkindexã€
                    slideIndexã€direction 4ä¸ªå‚æ•°
</code></pre><h2 id="è‡ªå®šä¹‰Sectioné«˜åº¦"><a href="#è‡ªå®šä¹‰Sectioné«˜åº¦" class="headerlink" title="è‡ªå®šä¹‰Sectioné«˜åº¦"></a>è‡ªå®šä¹‰Sectioné«˜åº¦</h2><p>å¾ˆå¤šç”¨æˆ·ç•™è¨€è¯´æ— æ³•è‡ªå®šä¹‰åº•éƒ¨Footerçš„é«˜åº¦ï¼Œæˆ‘ ä¹ŸæŸ¥é˜…äº†å¾ˆå¤šèµ„æ–™ï¼Œéƒ½æ²¡æœ‰å‘ç°æ–¹æ³•ï¼Œä½†æ˜¯æ— æ„é—´çœ‹åˆ°ä¸€ä¸ªFullpageçš„ç¤ºä¾‹ï¼Œå®ç°è‡ªå®šä¹‰åº•éƒ¨é«˜åº¦çš„æ–¹æ³•ï¼Œè€Œä¸”æ˜¯ä¸ç®—åœ¨æ»‘åŠ¨çš„Sectioné‡Œé¢ï¼Œåœ¨éœ€ è¦è‡ªå®šä¹‰é«˜åº¦çš„DIVé‡Œé¢ï¼Œåªéœ€è¦ç»™Sectionæ·»åŠ .fp-auto-heightç±»å°±å¯ä»¥å®ç°è‡ªå®šä¹‰é«˜åº¦ã€‚</p>
<h3 id="ç›¸å…³é“¾æ¥"><a href="#ç›¸å…³é“¾æ¥" class="headerlink" title="ç›¸å…³é“¾æ¥"></a>ç›¸å…³é“¾æ¥</h3><ul>
<li><p>å®˜ç½‘åœ°å€ï¼š<a href="http://www.expressjs.com.cn/" target="_blank" rel="external">@A http://www.expressjs.com.cn/</a></p>
<p>jQueryæ— æ³•åŠ è½½å¯¼è‡´é¡µé¢å¤±æ•ˆ</p>
</li>
<li><p>é—®è¯´ç½‘Fullpageå®˜ç½‘ç¦»çº¿ç‰ˆï¼š<a href="fullPage.js å®˜ç½‘">@A fullPage.js å®˜ç½‘</a></p>
</li>
<li><p>GitHub åœ°å€ï¼š<a href="https://github.com/alvarotrigo/fullPage.js" target="_blank" rel="external">@A https://github.com/alvarotrigo/fullPage.js</a></p>
</li>
<li><p>é—®è¯´ç½‘ä¸‹è½½åœ°å€ï¼š<a href="http://static.uedsc.com/fullPage.js-master.zip" target="_blank" rel="external">@A http://static.uedsc.com/fullPage.js-master.zip</a><br>è¿™ä¸ªä¸æ˜¯æœ€ç‰ˆæœ¬ï¼Œå¯èƒ½æœ‰äº›ç»†èŠ‚æ— æ³•å®ç°ï¼Œè¯·å‰å¾€Fullpageçš„Githubåœ°å€ä¸‹è½½æœ€æ–°ç‰ˆæœ¬ã€‚</p>
</li>
</ul>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/15/FullPage-js/" class="archive-article-date">
  	<time datetime="2016-11-15T09:25:21.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-15</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="post-FullPage-js" data-title="" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-Express" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h1><h2 id="åŸºäº-Node-js-å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„-web-å¼€å‘æ¡†æ¶ã€‚"><a href="#åŸºäº-Node-js-å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„-web-å¼€å‘æ¡†æ¶ã€‚" class="headerlink" title="åŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ web å¼€å‘æ¡†æ¶ã€‚"></a>åŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ web å¼€å‘æ¡†æ¶ã€‚</h2><pre><code>$ npm install express --save
</code></pre><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>é¦–å…ˆå‡å®šä½ å·²ç»å®‰è£…äº† Node.jsï¼Œæ¥ä¸‹æ¥ä¸ºä½ çš„åº”ç”¨åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œç„¶åè¿›å…¥æ­¤ç›®å½•å¹¶å°†å…¶ä½œä¸ºå½“å‰å·¥ä½œç›®å½•ã€‚</p>
<pre><code>$ mkdir myapp
$ cd myapp
</code></pre><p>é€šè¿‡ npm init å‘½ä»¤ä¸ºä½ çš„åº”ç”¨åˆ›å»ºä¸€ä¸ª package.json æ–‡ä»¶ã€‚ æ¬²äº†è§£ package.json æ˜¯å¦‚ä½•èµ·ä½œç”¨çš„ï¼Œè¯·å‚è€ƒ Specifics of npmâ€™s package.json handlingã€‚</p>
<pre><code>$ npm init
</code></pre><p>æ­¤å‘½ä»¤å°†è¦æ±‚ä½ è¾“å…¥å‡ ä¸ªå‚æ•°ï¼Œä¾‹å¦‚æ­¤åº”ç”¨çš„åç§°å’Œç‰ˆæœ¬ã€‚ ä½ å¯ä»¥ç›´æ¥æŒ‰â€œå›è½¦â€é”®æ¥å—é»˜è®¤è®¾ç½®å³å¯ï¼Œä¸‹é¢è¿™ä¸ªé™¤å¤–ï¼š</p>
<pre><code>entry point: (index.js)
</code></pre><p>é”®å…¥ app.js æˆ–è€…ä½ æ‰€å¸Œæœ›çš„åç§°ï¼Œè¿™æ˜¯å½“å‰åº”ç”¨çš„å…¥å£æ–‡ä»¶ã€‚å¦‚æœä½ å¸Œæœ›é‡‡ç”¨é»˜è®¤çš„ index.js æ–‡ä»¶åï¼Œåªéœ€æŒ‰â€œå›è½¦â€é”®å³å¯ã€‚</p>
<p>æ¥ä¸‹æ¥å®‰è£… Express å¹¶å°†å…¶ä¿å­˜åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼š</p>
<pre><code>$ npm install express --save
</code></pre><p>å¦‚æœåªæ˜¯ä¸´æ—¶å®‰è£… Expressï¼Œä¸æƒ³å°†å®ƒæ·»åŠ åˆ°ä¾èµ–åˆ—è¡¨ä¸­ï¼Œåªéœ€ç•¥å» â€“save å‚æ•°å³å¯ï¼š</p>
<pre><code>$ npm install express
</code></pre><h3 id="Expressç½‘ç«™ï¼š-A-http-www-expressjs-com-cn"><a href="#Expressç½‘ç«™ï¼š-A-http-www-expressjs-com-cn" class="headerlink" title="Expressç½‘ç«™ï¼š@A http://www.expressjs.com.cn/"></a>Expressç½‘ç«™ï¼š<a href="http://www.expressjs.com.cn/" target="_blank" rel="external">@A http://www.expressjs.com.cn/</a></h3><h2 id="Express-åº”ç”¨ç”Ÿæˆå™¨"><a href="#Express-åº”ç”¨ç”Ÿæˆå™¨" class="headerlink" title="Express åº”ç”¨ç”Ÿæˆå™¨"></a>Express åº”ç”¨ç”Ÿæˆå™¨</h2><p>é€šè¿‡åº”ç”¨ç”Ÿæˆå™¨å·¥å…· express å¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªåº”ç”¨çš„éª¨æ¶ã€‚</p>
<p>é€šè¿‡å¦‚ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<pre><code>$ npm install express-generator -g
</code></pre><p>-h é€‰é¡¹å¯ä»¥åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„å‘½ä»¤è¡Œé€‰é¡¹ï¼š</p>
<pre><code>$ express -h
</code></pre><p>  Usage: express [options] [dir]</p>
<p>  Options:</p>
<pre><code>-h, --help          output usage information
-V, --version       output the version number
-e, --ejs           add ejs engine support (defaults to jade)
    --hbs           add handlebars engine support
-H, --hogan         add hogan.js engine support
-c, --css &lt;engine&gt;  add stylesheet &lt;engine&gt; support (less|stylus|compass|sass) (defaults to plain css)
    --git           add .gitignore
-f, --force         force on non-empty directory
</code></pre><p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„ç¤ºä¾‹å°±æ˜¯åœ¨å½“å‰å·¥ä½œç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªå‘½åä¸º myapp çš„åº”ç”¨ã€‚</p>
<pre><code>$ express myapp

       create : myapp
       create : myapp/package.json
       create : myapp/app.js
       create : myapp/public
       create : myapp/public/javascripts
       create : myapp/public/images
       create : myapp/routes
       create : myapp/routes/index.js
       create : myapp/routes/users.js
       create : myapp/public/stylesheets
       create : myapp/public/stylesheets/style.css
       create : myapp/views
       create : myapp/views/index.jade
       create : myapp/views/layout.jade
       create : myapp/views/error.jade
       create : myapp/bin
       create : myapp/bin/www
</code></pre><p>ç„¶åå®‰è£…æ‰€æœ‰ä¾èµ–åŒ…ï¼š</p>
<pre><code>$ cd myapp 
$ npm install
</code></pre><p>å¯åŠ¨è¿™ä¸ªåº”ç”¨ï¼ˆMacOS æˆ– Linux å¹³å°ï¼‰ï¼š</p>
<pre><code>$ DEBUG=myapp npm start
</code></pre><p>Windows å¹³å°ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code>&gt; set DEBUG=myapp &amp; npm start
</code></pre><p>ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <a href="http://localhost:3000/" target="_blank" rel="external">http://localhost:3000/</a> ç½‘å€å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªåº”ç”¨äº†ã€‚i</p>
<p>é€šè¿‡ Express åº”ç”¨ç”Ÿæˆå™¨åˆ›å»ºçš„åº”ç”¨ä¸€èˆ¬éƒ½æœ‰å¦‚ä¸‹ç›®å½•ç»“æ„ï¼š</p>
<pre><code>    .
â”œâ”€â”€ app.js
â”œâ”€â”€ bin
â”‚   â””â”€â”€ www
â”œâ”€â”€ package.json
â”œâ”€â”€ public
â”‚   â”œâ”€â”€ images
â”‚   â”œâ”€â”€ javascripts
â”‚   â””â”€â”€ stylesheets
â”‚       â””â”€â”€ style.css
â”œâ”€â”€ routes
    â”‚   â”œâ”€â”€ index.js
â”‚   â””â”€â”€ users.js
â””â”€â”€ views
â”œâ”€â”€ error.jade
â”œâ”€â”€ index.jade
â””â”€â”€ layout.jade

7 directories, 9 files
</code></pre><h1 id="ä¸€ä¸ªç®€å•çš„-Express-è·¯ç”±"><a href="#ä¸€ä¸ªç®€å•çš„-Express-è·¯ç”±" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ Express è·¯ç”±"></a>ä¸€ä¸ªç®€å•çš„ Express è·¯ç”±</h1><p>è¿™ç¯‡æ•™ç¨‹åªæ˜¯å¯¹ Express è·¯ç”±åšä¸€ä¸ªç®€å•çš„ä»‹ç»ã€‚è·¯ç”±ï¼ˆRoutingï¼‰æ˜¯ç”±ä¸€ä¸ª URIï¼ˆæˆ–è€…å«è·¯å¾„ï¼‰å’Œä¸€ä¸ªç‰¹å®šçš„ HTTP æ–¹æ³•ï¼ˆGETã€POST ç­‰ï¼‰ç»„æˆçš„ï¼Œæ¶‰åŠåˆ°åº”ç”¨å¦‚ä½•å“åº”å®¢æˆ·ç«¯å¯¹æŸä¸ªç½‘ç«™èŠ‚ç‚¹çš„è®¿é—®ã€‚</p>
<p>æ¯ä¸€ä¸ªè·¯ç”±éƒ½å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªå¤„ç†å™¨å‡½æ•°ï¼Œå½“åŒ¹é…åˆ°è·¯ç”±æ—¶ï¼Œè¿™ä¸ª/äº›å‡½æ•°å°†è¢«æ‰§è¡Œã€‚</p>
<p>è·¯ç”±çš„å®šä¹‰ç”±å¦‚ä¸‹ç»“æ„ç»„æˆï¼šapp.METHOD(PATH, HANDLER)ã€‚å…¶ä¸­ï¼Œapp æ˜¯ä¸€ä¸ª express å®ä¾‹ï¼›METHOD æ˜¯æŸä¸ª HTTP è¯·æ±‚æ–¹å¼ä¸­çš„ä¸€ä¸ªï¼›PATH æ˜¯æœåŠ¡å™¨ç«¯çš„è·¯å¾„ï¼›HANDLER æ˜¯å½“è·¯ç”±åŒ¹é…åˆ°æ—¶éœ€è¦æ‰§è¡Œçš„å‡½æ•°ã€‚</p>
<p>ä¸‹é¢çš„ä»£ç å±•ç¤ºäº†å‡ ä¸ªè·¯ç”±å®ä¾‹ï¼š</p>
<pre><code>// å¯¹ç½‘ç«™é¦–é¡µçš„è®¿é—®è¿”å› &quot;Hello World!&quot; å­—æ ·
app.get(&apos;/&apos;, function (req, res) {
  res.send(&apos;Hello World!&apos;);
});

// ç½‘ç«™é¦–é¡µæ¥å— POST è¯·æ±‚
app.post(&apos;/&apos;, function (req, res) {
  res.send(&apos;Got a POST request&apos;);
});

// /user èŠ‚ç‚¹æ¥å— PUT è¯·æ±‚
app.put(&apos;/user&apos;, function (req, res) {
      res.send(&apos;Got a PUT request at /user&apos;);
    });

// /user èŠ‚ç‚¹æ¥å— DELETE è¯·æ±‚
app.delete(&apos;/user&apos;, function (req, res) {
  res.send(&apos;Got a DELETE request at /user&apos;);
});
</code></pre><h1 id="Express-å¸¸è§é—®é¢˜"><a href="#Express-å¸¸è§é—®é¢˜" class="headerlink" title="Express å¸¸è§é—®é¢˜"></a>Express å¸¸è§é—®é¢˜</h1><p>æˆ‘çš„åº”ç”¨è¯¥å¦‚ä½•ç»„ç»‡ï¼Ÿ<br>å¯¹äºè¿™ä¸ªé—®é¢˜å…¶å®æ²¡æœ‰ä¸€ä¸ªç¡®å®šçš„ç­”æ¡ˆã€‚è¿™è¦æ ¹æ®ä½ çš„åº”ç”¨çš„è§„æ¨¡å’Œå‚ä¸å¼€å‘çš„å›¢é˜Ÿæ¥ç¡®å®šã€‚ä¸ºäº†å°½å¯èƒ½çµæ´»ï¼ŒExpress è‡ªèº«æ˜¯å¹¶æ²¡æœ‰ç¡¬æ€§è¦æ±‚åº”ç”¨ç»“æ„æ˜¯å“ªä¸€ç§çš„ã€‚</p>
<p>æ ¹æ®ä½ çš„éœ€æ±‚ï¼Œå¯ä»¥æŠŠè·¯ç”±å’Œå…¶ä»–åº”ç”¨ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘å­˜æ”¾åœ¨ä»»æ„å¤šä¸ªæ–‡ä»¶å’Œä»»æ„ç›®å½•ä¸­ã€‚ä¸‹é¢æ¨èçš„å®ä¾‹æˆ–è®¸å¯¹ä½ èƒ½æœ‰ä¸€äº›å¯å‘ï¼š</p>
<ul>
<li>Route listings</li>
</ul>
<ul>
<li>Route map</li>
</ul>
<ul>
<li>MVC style controllers</li>
</ul>
<p>å¦å¤–ï¼Œè¿™é‡Œè¿˜æœ‰ä¸€äº›ç¬¬ä¸‰æ–¹ Express æ‰©å±•ç®€åŒ–äº†è¿™ç§ç»„ç»‡æ–¹å¼ï¼š</p>
<p>Resourceful routing</p>
<h3 id="å¦‚ä½•å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰ï¼Ÿ"><a href="#å¦‚ä½•å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰ï¼Ÿ" class="headerlink" title="å¦‚ä½•å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰ï¼Ÿ"></a>å¦‚ä½•å®šä¹‰æ¨¡å‹ï¼ˆmodelï¼‰ï¼Ÿ</h3><p>Expressè‡ªèº«å¹¶ä¸æ„ŸçŸ¥æ•°æ®åº“æ˜¯å¦å­˜åœ¨ã€‚æ•°æ®åº“åŠŸèƒ½ä¾èµ–äºç¬¬ä¸‰æ–¹ Node æ¨¡å—æä¾›çš„æ¥å£ã€‚</p>
<h3 id="å¦‚ä½•éªŒè¯ç”¨æˆ·ï¼Ÿ"><a href="#å¦‚ä½•éªŒè¯ç”¨æˆ·ï¼Ÿ" class="headerlink" title="å¦‚ä½•éªŒè¯ç”¨æˆ·ï¼Ÿ"></a>å¦‚ä½•éªŒè¯ç”¨æˆ·ï¼Ÿ</h3><p>è¿™æ˜¯å¦ä¸€ä¸ª Express ä¸æ¶‰åŠçš„é¢†åŸŸã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•éªŒè¯æ–¹å¼ã€‚å¯¹äºç®€å•çš„ç”¨æˆ·å/å¯†ç éªŒè¯æ–¹å¼ï¼Œå¯ä»¥å‚è€ƒè¿™ä¸ªå®ä¾‹ã€‚</p>
<h3 id="Express-æ”¯æŒå“ªäº›æ¨¡æ¿å¼•æ“ï¼Ÿ"><a href="#Express-æ”¯æŒå“ªäº›æ¨¡æ¿å¼•æ“ï¼Ÿ" class="headerlink" title="Express æ”¯æŒå“ªäº›æ¨¡æ¿å¼•æ“ï¼Ÿ"></a>Express æ”¯æŒå“ªäº›æ¨¡æ¿å¼•æ“ï¼Ÿ</h3><p>Express æ”¯æŒä»»ä½•ç¬¦åˆ (path, locals, callback) æ¥å£è§„èŒƒçš„æ¨¡æ¿å¼•æ“ã€‚ ä¸ºäº†ç»Ÿä¸€æ¨¡æ¿å¼•æ“çš„æ¥å£å’Œç¼“å­˜åŠŸèƒ½ï¼Œè¯·å‚è€ƒ consolidate.js é¡¹ç›®ã€‚å…¶ä»–æœªæåŠçš„æ¨¡æ¿å¼•æ“ä¹Ÿå¯èƒ½æ”¯æŒ Express æ¥å£è§„èŒƒã€‚</p>
<h3 id="å¦‚ä½•å¤„ç†-404-ï¼Ÿ"><a href="#å¦‚ä½•å¤„ç†-404-ï¼Ÿ" class="headerlink" title="å¦‚ä½•å¤„ç† 404 ï¼Ÿ"></a>å¦‚ä½•å¤„ç† 404 ï¼Ÿ</h3><p>åœ¨ Express ä¸­ï¼Œ404 å¹¶ä¸æ˜¯ä¸€ä¸ªé”™è¯¯ï¼ˆerrorï¼‰ã€‚å› æ­¤ï¼Œé”™è¯¯å¤„ç†å™¨ä¸­é—´ä»¶å¹¶ä¸æ•è· 404ã€‚è¿™æ˜¯å› ä¸º 404 åªæ˜¯æ„å‘³ç€æŸäº›åŠŸèƒ½æ²¡æœ‰å®ç°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒExpress æ‰§è¡Œäº†æ‰€æœ‰ä¸­é—´ä»¶ã€è·¯ç”±ä¹‹åè¿˜æ˜¯æ²¡æœ‰è·å–åˆ°ä»»ä½•è¾“å‡ºã€‚ä½ æ‰€éœ€è¦åšçš„å°±æ˜¯åœ¨å…¶æ‰€æœ‰ä»–ä¸­é—´ä»¶çš„åé¢æ·»åŠ ä¸€ä¸ªå¤„ç† 404 çš„ä¸­é—´ä»¶ã€‚å¦‚ä¸‹ï¼š</p>
<pre><code>app.use(function(req, res, next) {
  res.status(404).send(&apos;Sorry cant find that!&apos;);
});
</code></pre><h3 id="å¦‚ä½•è®¾ç½®ä¸€ä¸ªé”™è¯¯å¤„ç†å™¨ï¼Ÿ"><a href="#å¦‚ä½•è®¾ç½®ä¸€ä¸ªé”™è¯¯å¤„ç†å™¨ï¼Ÿ" class="headerlink" title="å¦‚ä½•è®¾ç½®ä¸€ä¸ªé”™è¯¯å¤„ç†å™¨ï¼Ÿ"></a>å¦‚ä½•è®¾ç½®ä¸€ä¸ªé”™è¯¯å¤„ç†å™¨ï¼Ÿ</h3><p>é”™è¯¯å¤„ç†å™¨ä¸­é—´ä»¶çš„å®šä¹‰å’Œå…¶ä»–ä¸­é—´ä»¶ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ 4 ä¸ªè€Œä¸æ˜¯ 3 ä¸ªå‚æ•°ï¼Œå³ (err, req, res, next)ï¼š</p>
<pre><code>app.use(function(err, req, res, next) {
  console.error(err.stack);
  res.status(500).send(&apos;Something broke!&apos;);
});
</code></pre><h3 id="å¦‚ä½•æ¸²æŸ“çº¯-HTML-æ–‡ä»¶ï¼Ÿ"><a href="#å¦‚ä½•æ¸²æŸ“çº¯-HTML-æ–‡ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ¸²æŸ“çº¯ HTML æ–‡ä»¶ï¼Ÿ"></a>å¦‚ä½•æ¸²æŸ“çº¯ HTML æ–‡ä»¶ï¼Ÿ</h3><p>ä¸éœ€è¦ï¼æ— éœ€é€šè¿‡ res.render() æ¸²æŸ“ HTMLã€‚ä½ å¯ä»¥é€šè¿‡ res.sendFile() ç›´æ¥å¯¹å¤–è¾“å‡º HTML æ–‡ä»¶ã€‚å¦‚æœä½ éœ€è¦å¯¹å¤–æä¾›çš„èµ„æºæ–‡ä»¶å¾ˆå¤šï¼Œå¯ä»¥ä½¿ç”¨ express.static() ä¸­é—´ä»¶ã€‚</p>
<h3 id="Expressç½‘ç«™ï¼š-A-http-www-expressjs-com-cn-1"><a href="#Expressç½‘ç«™ï¼š-A-http-www-expressjs-com-cn-1" class="headerlink" title="Expressç½‘ç«™ï¼š@A http://www.expressjs.com.cn/"></a>Expressç½‘ç«™ï¼š<a href="http://www.expressjs.com.cn/" target="_blank" rel="external">@A http://www.expressjs.com.cn/</a></h3>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/15/Express/" class="archive-article-date">
  	<time datetime="2016-11-15T06:45:36.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-15</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="post-Express" data-title="" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="Flex-å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡"><a href="#Flex-å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡" class="headerlink" title="Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡"></a>Flex å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡</h1><h5 id="ä½œè€…ï¼š-é˜®ä¸€å³°"><a href="#ä½œè€…ï¼š-é˜®ä¸€å³°" class="headerlink" title="ä½œè€…ï¼š é˜®ä¸€å³°"></a>ä½œè€…ï¼š é˜®ä¸€å³°</h5><p>æ—¥æœŸï¼š 2015å¹´7æœˆ10æ—¥</p>
<p>ç½‘é¡µå¸ƒå±€ï¼ˆlayoutï¼‰æ˜¯CSSçš„ä¸€ä¸ªé‡ç‚¹åº”ç”¨ã€‚</p>
<p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071001.gif" alt="Mou"></p>
<p>å¸ƒå±€çš„ä¼ ç»Ÿè§£å†³æ–¹æ¡ˆï¼ŒåŸºäºç›’çŠ¶æ¨¡å‹ï¼Œä¾èµ– displayå±æ€§ + positionå±æ€§ + floatå±æ€§ã€‚å®ƒå¯¹äºé‚£äº›ç‰¹æ®Šå¸ƒå±€éå¸¸ä¸æ–¹ä¾¿ï¼Œæ¯”å¦‚ï¼Œå‚ç›´å±…ä¸­å°±ä¸å®¹æ˜“å®ç°ã€‚</p>
<p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071002.png" alt="Mou"></p>
<p>2009å¹´ï¼ŒW3Cæå‡ºäº†ä¸€ç§æ–°çš„æ–¹æ¡ˆâ€”-Flexå¸ƒå±€ï¼Œå¯ä»¥ç®€ä¾¿ã€å®Œæ•´ã€å“åº”å¼åœ°å®ç°å„ç§é¡µé¢å¸ƒå±€ã€‚ç›®å‰ï¼Œå®ƒå·²ç»å¾—åˆ°äº†æ‰€æœ‰æµè§ˆå™¨çš„æ”¯æŒï¼Œè¿™æ„å‘³ç€ï¼Œç°åœ¨å°±èƒ½å¾ˆå®‰å…¨åœ°ä½¿ç”¨è¿™é¡¹åŠŸèƒ½ã€‚</p>
<p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071003.jpg" alt="Mou"></p>
<p>Flexå¸ƒå±€å°†æˆä¸ºæœªæ¥å¸ƒå±€çš„é¦–é€‰æ–¹æ¡ˆã€‚æœ¬æ–‡ä»‹ç»å®ƒçš„è¯­æ³•ï¼Œä¸‹ä¸€ç¯‡æ–‡ç« ç»™å‡ºå¸¸è§å¸ƒå±€çš„Flexå†™æ³•ã€‚<br>ä»¥ä¸‹å†…å®¹ä¸»è¦å‚è€ƒäº†ä¸‹é¢ä¸¤ç¯‡æ–‡ç« ï¼š<a href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/" target="_blank" rel="external">@A Complete Guide to Flexbox</a> å’Œ <a href="https://scotch.io/tutorials/a-visual-guide-to-css3-flexbox-properties" target="_blank" rel="external">@A Visual Guide to CSS3 Flexbox Properties</a>ã€‚</p>
<h1 id="ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸€ã€Flexå¸ƒå±€æ˜¯ä»€ä¹ˆï¼Ÿ</h1><hr>
<h3 id="Flexæ˜¯Flexible-Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚"><a href="#Flexæ˜¯Flexible-Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚" class="headerlink" title="Flexæ˜¯Flexible Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚"></a>Flexæ˜¯Flexible Boxçš„ç¼©å†™ï¼Œæ„ä¸ºâ€å¼¹æ€§å¸ƒå±€â€ï¼Œç”¨æ¥ä¸ºç›’çŠ¶æ¨¡å‹æä¾›æœ€å¤§çš„çµæ´»æ€§ã€‚</h3><p>###ä»»ä½•ä¸€ä¸ªå®¹å™¨éƒ½å¯ä»¥æŒ‡å®šä¸ºFlexå¸ƒå±€ã€‚</p>
<pre><code>.box{
  display: flex;
}    
</code></pre><h3 id="è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨Flexå¸ƒå±€ã€‚"><a href="#è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨Flexå¸ƒå±€ã€‚" class="headerlink" title="è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨Flexå¸ƒå±€ã€‚"></a>è¡Œå†…å…ƒç´ ä¹Ÿå¯ä»¥ä½¿ç”¨Flexå¸ƒå±€ã€‚</h3><pre><code>.box{
  display: inline-flex;
}
</code></pre><h3 id="Webkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œå¿…é¡»åŠ ä¸Š-webkitå‰ç¼€ã€‚"><a href="#Webkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œå¿…é¡»åŠ ä¸Š-webkitå‰ç¼€ã€‚" class="headerlink" title="Webkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œå¿…é¡»åŠ ä¸Š-webkitå‰ç¼€ã€‚"></a>Webkitå†…æ ¸çš„æµè§ˆå™¨ï¼Œå¿…é¡»åŠ ä¸Š-webkitå‰ç¼€ã€‚</h3><pre><code>.box{
  display: -webkit-flex; /* Safari */
  display: flex;
}
</code></pre><h3 id="æ³¨æ„ï¼Œè®¾ä¸ºFlexå¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„floatã€clearå’Œvertical-alignå±æ€§å°†å¤±æ•ˆã€‚"><a href="#æ³¨æ„ï¼Œè®¾ä¸ºFlexå¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„floatã€clearå’Œvertical-alignå±æ€§å°†å¤±æ•ˆã€‚" class="headerlink" title="æ³¨æ„ï¼Œè®¾ä¸ºFlexå¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„floatã€clearå’Œvertical-alignå±æ€§å°†å¤±æ•ˆã€‚"></a>æ³¨æ„ï¼Œè®¾ä¸ºFlexå¸ƒå±€ä»¥åï¼Œå­å…ƒç´ çš„floatã€clearå’Œvertical-alignå±æ€§å°†å¤±æ•ˆã€‚</h3><h1 id="äºŒã€åŸºæœ¬æ¦‚å¿µ"><a href="#äºŒã€åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="äºŒã€åŸºæœ¬æ¦‚å¿µ"></a>äºŒã€åŸºæœ¬æ¦‚å¿µ</h1><hr>
<p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071004.png" alt="Mou"></p>
<h3 id="å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain-axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross-axisï¼‰ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åšmain-startï¼Œç»“æŸä½ç½®å«åšmain-endï¼›äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åšcross-startï¼Œç»“æŸä½ç½®å«åšcross-endã€‚"><a href="#å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain-axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross-axisï¼‰ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åšmain-startï¼Œç»“æŸä½ç½®å«åšmain-endï¼›äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åšcross-startï¼Œç»“æŸä½ç½®å«åšcross-endã€‚" class="headerlink" title="å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross axisï¼‰ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åšmain startï¼Œç»“æŸä½ç½®å«åšmain endï¼›äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åšcross startï¼Œç»“æŸä½ç½®å«åšcross endã€‚"></a>å®¹å™¨é»˜è®¤å­˜åœ¨ä¸¤æ ¹è½´ï¼šæ°´å¹³çš„ä¸»è½´ï¼ˆmain axisï¼‰å’Œå‚ç›´çš„äº¤å‰è½´ï¼ˆcross axisï¼‰ã€‚ä¸»è½´çš„å¼€å§‹ä½ç½®ï¼ˆä¸è¾¹æ¡†çš„äº¤å‰ç‚¹ï¼‰å«åšmain startï¼Œç»“æŸä½ç½®å«åšmain endï¼›äº¤å‰è½´çš„å¼€å§‹ä½ç½®å«åšcross startï¼Œç»“æŸä½ç½®å«åšcross endã€‚</h3><h3 id="é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain-sizeï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åšcross-sizeã€‚"><a href="#é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain-sizeï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åšcross-sizeã€‚" class="headerlink" title="é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain sizeï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åšcross sizeã€‚"></a>é¡¹ç›®é»˜è®¤æ²¿ä¸»è½´æ’åˆ—ã€‚å•ä¸ªé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´å«åšmain sizeï¼Œå æ®çš„äº¤å‰è½´ç©ºé—´å«åšcross sizeã€‚</h3><h1 id="ä¸‰ã€å®¹å™¨çš„å±æ€§"><a href="#ä¸‰ã€å®¹å™¨çš„å±æ€§" class="headerlink" title="ä¸‰ã€å®¹å™¨çš„å±æ€§"></a>ä¸‰ã€å®¹å™¨çš„å±æ€§</h1><hr>
<h4 id="ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨å®¹å™¨ä¸Šã€‚"><a href="#ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨å®¹å™¨ä¸Šã€‚" class="headerlink" title="ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨å®¹å™¨ä¸Šã€‚"></a>ä»¥ä¸‹6ä¸ªå±æ€§è®¾ç½®åœ¨å®¹å™¨ä¸Šã€‚</h4><ul>
<li>flex-direction</li>
<li>flex-wrap</li>
<li>flex-flow</li>
<li>justify-content</li>
<li>align-items</li>
<li>align-content<h3 id="3-1-flex-directionå±æ€§"><a href="#3-1-flex-directionå±æ€§" class="headerlink" title="3.1 flex-directionå±æ€§"></a>3.1 flex-directionå±æ€§</h3></li>
</ul>
<hr>
<pre><code>.box {
  flex-direction: row | row-reverse | column | column-reverse;
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071005.png" alt="Mou"><br>å®ƒå¯èƒ½æœ‰4ä¸ªå€¼ã€‚</p>
<ul>
<li>rowï¼ˆé»˜è®¤å€¼ï¼‰ï¼šä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å·¦ç«¯ã€‚</li>
<li>row-reverseï¼šä¸»è½´ä¸ºæ°´å¹³æ–¹å‘ï¼Œèµ·ç‚¹åœ¨å³ç«¯ã€‚</li>
<li>columnï¼šä¸»è½´ä¸ºå‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸Šæ²¿ã€‚</li>
<li>column-reverseï¼šä¸»è½´ä¸ºå‚ç›´æ–¹å‘ï¼Œèµ·ç‚¹åœ¨ä¸‹æ²¿ã€‚</li>
</ul>
<h3 id="3-2-flex-wrapå±æ€§"><a href="#3-2-flex-wrapå±æ€§" class="headerlink" title="3.2 flex-wrapå±æ€§"></a>3.2 flex-wrapå±æ€§</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œé¡¹ç›®éƒ½æ’åœ¨ä¸€æ¡çº¿ï¼ˆåˆç§°â€è½´çº¿â€ï¼‰ä¸Šã€‚flex-wrapå±æ€§å®šä¹‰ï¼Œå¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œã€‚<br><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071006.png" alt="Mou"></p>
<pre><code>.box{
      flex-wrap: nowrap | wrap | wrap-reverse;
}
</code></pre><p>å®ƒå¯èƒ½å–ä¸‰ä¸ªå€¼ã€‚</p>
<h4 id="ï¼ˆ1ï¼‰nowrapï¼ˆé»˜è®¤ï¼‰ï¼šä¸æ¢è¡Œã€‚"><a href="#ï¼ˆ1ï¼‰nowrapï¼ˆé»˜è®¤ï¼‰ï¼šä¸æ¢è¡Œã€‚" class="headerlink" title="ï¼ˆ1ï¼‰nowrapï¼ˆé»˜è®¤ï¼‰ï¼šä¸æ¢è¡Œã€‚"></a>ï¼ˆ1ï¼‰nowrapï¼ˆé»˜è®¤ï¼‰ï¼šä¸æ¢è¡Œã€‚</h4><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071007.png" alt="Mou"></p>
<h4 id="ï¼ˆ2ï¼‰wrapï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹ã€‚"><a href="#ï¼ˆ2ï¼‰wrapï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹ã€‚" class="headerlink" title="ï¼ˆ2ï¼‰wrapï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹ã€‚"></a>ï¼ˆ2ï¼‰wrapï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸Šæ–¹ã€‚</h4><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071008.jpg" alt="Mou"></p>
<p>###ï¼ˆ3ï¼‰wrap-reverseï¼šæ¢è¡Œï¼Œç¬¬ä¸€è¡Œåœ¨ä¸‹æ–¹ã€‚<br><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071009.jpg" alt="Mou"></p>
<h3 id="3-3-flex-flow"><a href="#3-3-flex-flow" class="headerlink" title="3.3 flex-flow"></a>3.3 flex-flow</h3><hr>
<pre><code>.box {
      flex-flow: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;
}
</code></pre><h3 id="3-4-justify-contentå±æ€§"><a href="#3-4-justify-contentå±æ€§" class="headerlink" title="3.4 justify-contentå±æ€§"></a>3.4 justify-contentå±æ€§</h3><h4 id="justify-contentå±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ã€‚"><a href="#justify-contentå±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ã€‚" class="headerlink" title="justify-contentå±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ã€‚"></a>justify-contentå±æ€§å®šä¹‰äº†é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼ã€‚</h4><pre><code>.box {
      justify-content: flex-start | flex-end | center | space-between | space-around;
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071010.png" alt="Mou"></p>
<h3 id="å®ƒå¯èƒ½å–5ä¸ªå€¼ï¼Œå…·ä½“å¯¹é½æ–¹å¼ä¸è½´çš„æ–¹å‘æœ‰å…³ã€‚ä¸‹é¢å‡è®¾ä¸»è½´ä¸ºä»å·¦åˆ°å³ã€‚"><a href="#å®ƒå¯èƒ½å–5ä¸ªå€¼ï¼Œå…·ä½“å¯¹é½æ–¹å¼ä¸è½´çš„æ–¹å‘æœ‰å…³ã€‚ä¸‹é¢å‡è®¾ä¸»è½´ä¸ºä»å·¦åˆ°å³ã€‚" class="headerlink" title="å®ƒå¯èƒ½å–5ä¸ªå€¼ï¼Œå…·ä½“å¯¹é½æ–¹å¼ä¸è½´çš„æ–¹å‘æœ‰å…³ã€‚ä¸‹é¢å‡è®¾ä¸»è½´ä¸ºä»å·¦åˆ°å³ã€‚"></a>å®ƒå¯èƒ½å–5ä¸ªå€¼ï¼Œå…·ä½“å¯¹é½æ–¹å¼ä¸è½´çš„æ–¹å‘æœ‰å…³ã€‚ä¸‹é¢å‡è®¾ä¸»è½´ä¸ºä»å·¦åˆ°å³ã€‚</h3><ul>
<li>flex-startï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå·¦å¯¹é½</li>
<li>flex-endï¼šå³å¯¹é½</li>
<li>centerï¼š å±…ä¸­</li>
<li>space-betweenï¼šä¸¤ç«¯å¯¹é½ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”éƒ½ç›¸ç­‰ã€‚</li>
<li>space-aroundï¼šæ¯ä¸ªé¡¹ç›®ä¸¤ä¾§çš„é—´éš”ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œé¡¹ç›®ä¹‹é—´çš„é—´éš”æ¯”é¡¹ç›®ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚</li>
</ul>
<h3 id="3-5-align-itemså±æ€§"><a href="#3-5-align-itemså±æ€§" class="headerlink" title="3.5 align-itemså±æ€§"></a>3.5 align-itemså±æ€§</h3><hr>
<h4 id="align-itemså±æ€§å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ã€‚"><a href="#align-itemså±æ€§å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ã€‚" class="headerlink" title="align-itemså±æ€§å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ã€‚"></a>align-itemså±æ€§å®šä¹‰é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½ã€‚</h4><pre><code>.box {
      align-items: flex-start | flex-end | center | baseline | stretch;
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071011.png" alt="Mou"></p>
<ul>
<li>flex-startï¼šäº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚</li>
<li>flex-endï¼šäº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚</li>
<li>centerï¼šäº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚</li>
<li>baseline: é¡¹ç›®çš„ç¬¬ä¸€è¡Œæ–‡å­—çš„åŸºçº¿å¯¹é½ã€‚</li>
<li>stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå¦‚æœé¡¹ç›®æœªè®¾ç½®é«˜åº¦æˆ–è®¾ä¸ºautoï¼Œå°†å æ»¡æ•´ä¸ªå®¹å™¨çš„é«˜åº¦ã€‚</li>
</ul>
<h3 id="3-6-align-contentå±æ€§"><a href="#3-6-align-contentå±æ€§" class="headerlink" title="3.6 align-contentå±æ€§"></a>3.6 align-contentå±æ€§</h3><hr>
<h3 id="align-contentå±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚"><a href="#align-contentå±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚" class="headerlink" title="align-contentå±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚"></a>align-contentå±æ€§å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚å¦‚æœé¡¹ç›®åªæœ‰ä¸€æ ¹è½´çº¿ï¼Œè¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚</h3><pre><code>.box {
      align-content: flex-start | flex-end | center | space-between | space-        around | stretch;
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071012.png" alt="Mou"><br>è¯¥å±æ€§å¯èƒ½å–6ä¸ªå€¼ã€‚</p>
<ul>
<li>flex-startï¼šä¸äº¤å‰è½´çš„èµ·ç‚¹å¯¹é½ã€‚</li>
<li>flex-endï¼šä¸äº¤å‰è½´çš„ç»ˆç‚¹å¯¹é½ã€‚</li>
<li>centerï¼šä¸äº¤å‰è½´çš„ä¸­ç‚¹å¯¹é½ã€‚</li>
<li>space-betweenï¼šä¸äº¤å‰è½´ä¸¤ç«¯å¯¹é½ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”å¹³å‡åˆ†å¸ƒã€‚</li>
<li>space-aroundï¼šæ¯æ ¹è½´çº¿ä¸¤ä¾§çš„é—´éš”éƒ½ç›¸ç­‰ã€‚æ‰€ä»¥ï¼Œè½´çº¿ä¹‹é—´çš„é—´éš”æ¯”è½´çº¿ä¸è¾¹æ¡†çš„é—´éš”å¤§ä¸€å€ã€‚</li>
<li>stretchï¼ˆé»˜è®¤å€¼ï¼‰ï¼šè½´çº¿å æ»¡æ•´ä¸ªäº¤å‰è½´ã€‚</li>
</ul>
<h3 id="4-1-orderå±æ€§"><a href="#4-1-orderå±æ€§" class="headerlink" title="4.1 orderå±æ€§"></a>4.1 orderå±æ€§</h3><hr>
<h3 id="orderå±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚"><a href="#orderå±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚" class="headerlink" title="orderå±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚"></a>orderå±æ€§å®šä¹‰é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰ï¼Œé»˜è®¤ä¸º0ã€‚</h3><pre><code>.item {
      order: &lt;integer&gt;;
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071013.png" alt="Mou"></p>
<h3 id="4-2-flex-growå±æ€§"><a href="#4-2-flex-growå±æ€§" class="headerlink" title="4.2 flex-growå±æ€§"></a>4.2 flex-growå±æ€§</h3><hr>
<h3 id="flex-growå±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚"><a href="#flex-growå±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚" class="headerlink" title="flex-growå±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚"></a>flex-growå±æ€§å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º0ï¼Œå³å¦‚æœå­˜åœ¨å‰©ä½™ç©ºé—´ï¼Œä¹Ÿä¸æ”¾å¤§ã€‚</h3><pre><code>.item {
      flex-grow: &lt;number&gt;; /* default 0 */
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071014.png" alt="Mou"></p>
<h5 id="å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-growå±æ€§éƒ½ä¸º1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-growå±æ€§ä¸º2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ã€‚"><a href="#å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-growå±æ€§éƒ½ä¸º1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-growå±æ€§ä¸º2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ã€‚" class="headerlink" title="å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-growå±æ€§éƒ½ä¸º1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-growå±æ€§ä¸º2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ã€‚"></a>å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-growå±æ€§éƒ½ä¸º1ï¼Œåˆ™å®ƒä»¬å°†ç­‰åˆ†å‰©ä½™ç©ºé—´ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-growå±æ€§ä¸º2ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™å‰è€…å æ®çš„å‰©ä½™ç©ºé—´å°†æ¯”å…¶ä»–é¡¹å¤šä¸€å€ã€‚</h5><h3 id="4-3-flex-shrinkå±æ€§"><a href="#4-3-flex-shrinkå±æ€§" class="headerlink" title="4.3 flex-shrinkå±æ€§"></a>4.3 flex-shrinkå±æ€§</h3><h4 id="flex-shrinkå±æ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚"><a href="#flex-shrinkå±æ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚" class="headerlink" title="flex-shrinkå±æ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚"></a>flex-shrinkå±æ€§å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œå³å¦‚æœç©ºé—´ä¸è¶³ï¼Œè¯¥é¡¹ç›®å°†ç¼©å°ã€‚</h4><pre><code>.item {
      flex-shrink: &lt;number&gt;; /* default 1 */
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071015.jpg" alt="Mou"></p>
<h5 id="å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-shrinkå±æ€§éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-shrinkå±æ€§ä¸º0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚"><a href="#å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-shrinkå±æ€§éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-shrinkå±æ€§ä¸º0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚" class="headerlink" title="å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-shrinkå±æ€§éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-shrinkå±æ€§ä¸º0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚"></a>å¦‚æœæ‰€æœ‰é¡¹ç›®çš„flex-shrinkå±æ€§éƒ½ä¸º1ï¼Œå½“ç©ºé—´ä¸è¶³æ—¶ï¼Œéƒ½å°†ç­‰æ¯”ä¾‹ç¼©å°ã€‚å¦‚æœä¸€ä¸ªé¡¹ç›®çš„flex-shrinkå±æ€§ä¸º0ï¼Œå…¶ä»–é¡¹ç›®éƒ½ä¸º1ï¼Œåˆ™ç©ºé—´ä¸è¶³æ—¶ï¼Œå‰è€…ä¸ç¼©å°ã€‚</h5><h5 id="è´Ÿå€¼å¯¹è¯¥å±æ€§æ— æ•ˆã€‚"><a href="#è´Ÿå€¼å¯¹è¯¥å±æ€§æ— æ•ˆã€‚" class="headerlink" title="è´Ÿå€¼å¯¹è¯¥å±æ€§æ— æ•ˆã€‚"></a>è´Ÿå€¼å¯¹è¯¥å±æ€§æ— æ•ˆã€‚</h5><h3 id="4-4-flex-basiså±æ€§"><a href="#4-4-flex-basiså±æ€§" class="headerlink" title="4.4 flex-basiså±æ€§"></a>4.4 flex-basiså±æ€§</h3><hr>
<h4 id="flex-basiså±æ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain-sizeï¼‰ã€‚æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚"><a href="#flex-basiså±æ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain-sizeï¼‰ã€‚æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚" class="headerlink" title="flex-basiså±æ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰ã€‚æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚"></a>flex-basiså±æ€§å®šä¹‰äº†åœ¨åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼ˆmain sizeï¼‰ã€‚æµè§ˆå™¨æ ¹æ®è¿™ä¸ªå±æ€§ï¼Œè®¡ç®—ä¸»è½´æ˜¯å¦æœ‰å¤šä½™ç©ºé—´ã€‚å®ƒçš„é»˜è®¤å€¼ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°ã€‚</h4><pre><code>.item {
      flex-basis: &lt;length&gt; | auto; /* default auto */
}
</code></pre><h4 id="å®ƒå¯ä»¥è®¾ä¸ºè·Ÿwidthæˆ–heightå±æ€§ä¸€æ ·çš„å€¼ï¼ˆæ¯”å¦‚350pxï¼‰ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´ã€‚"><a href="#å®ƒå¯ä»¥è®¾ä¸ºè·Ÿwidthæˆ–heightå±æ€§ä¸€æ ·çš„å€¼ï¼ˆæ¯”å¦‚350pxï¼‰ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´ã€‚" class="headerlink" title="å®ƒå¯ä»¥è®¾ä¸ºè·Ÿwidthæˆ–heightå±æ€§ä¸€æ ·çš„å€¼ï¼ˆæ¯”å¦‚350pxï¼‰ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´ã€‚"></a>å®ƒå¯ä»¥è®¾ä¸ºè·Ÿwidthæˆ–heightå±æ€§ä¸€æ ·çš„å€¼ï¼ˆæ¯”å¦‚350pxï¼‰ï¼Œåˆ™é¡¹ç›®å°†å æ®å›ºå®šç©ºé—´ã€‚</h4><h3 id="4-5-flexå±æ€§"><a href="#4-5-flexå±æ€§" class="headerlink" title="4.5 flexå±æ€§"></a>4.5 flexå±æ€§</h3><hr>
<h3 id="flexå±æ€§æ˜¯flex-grow-flex-shrink-å’Œ-flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0-1-autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰ã€‚"><a href="#flexå±æ€§æ˜¯flex-grow-flex-shrink-å’Œ-flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0-1-autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰ã€‚" class="headerlink" title="flexå±æ€§æ˜¯flex-grow, flex-shrink å’Œ flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰ã€‚"></a>flexå±æ€§æ˜¯flex-grow, flex-shrink å’Œ flex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚åä¸¤ä¸ªå±æ€§å¯é€‰ã€‚</h3><pre><code>.item {
      flex: none | [ &lt;&apos;flex-grow&apos;&gt; &lt;&apos;flex-shrink&apos;&gt;? || &lt;&apos;flex-basis&apos;&gt; ]
}
</code></pre><h4 id="è¯¥å±æ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼šauto-1-1-auto-å’Œ-none-0-0-auto-ã€‚"><a href="#è¯¥å±æ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼šauto-1-1-auto-å’Œ-none-0-0-auto-ã€‚" class="headerlink" title="è¯¥å±æ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼šauto (1 1 auto) å’Œ none (0 0 auto)ã€‚"></a>è¯¥å±æ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼šauto (1 1 auto) å’Œ none (0 0 auto)ã€‚</h4><h4 id="å»ºè®®ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å•ç‹¬å†™ä¸‰ä¸ªåˆ†ç¦»çš„å±æ€§ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæ¨ç®—ç›¸å…³å€¼ã€‚"><a href="#å»ºè®®ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å•ç‹¬å†™ä¸‰ä¸ªåˆ†ç¦»çš„å±æ€§ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæ¨ç®—ç›¸å…³å€¼ã€‚" class="headerlink" title="å»ºè®®ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å•ç‹¬å†™ä¸‰ä¸ªåˆ†ç¦»çš„å±æ€§ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæ¨ç®—ç›¸å…³å€¼ã€‚"></a>å»ºè®®ä¼˜å…ˆä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œè€Œä¸æ˜¯å•ç‹¬å†™ä¸‰ä¸ªåˆ†ç¦»çš„å±æ€§ï¼Œå› ä¸ºæµè§ˆå™¨ä¼šæ¨ç®—ç›¸å…³å€¼ã€‚</h4><p>###4.6 align-selfå±æ€§</p>
<hr>
<h4 id="align-selfå±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚"><a href="#align-selfå±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚" class="headerlink" title="align-selfå±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚"></a>align-selfå±æ€§å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼ï¼Œå¯è¦†ç›–align-itemså±æ€§ã€‚é»˜è®¤å€¼ä¸ºautoï¼Œè¡¨ç¤ºç»§æ‰¿çˆ¶å…ƒç´ çš„align-itemså±æ€§ï¼Œå¦‚æœæ²¡æœ‰çˆ¶å…ƒç´ ï¼Œåˆ™ç­‰åŒäºstretchã€‚</h4><pre><code>.item {
      align-self: auto | flex-start | flex-end | center | baseline | stretch;
}
</code></pre><p><img src="http://www.ruanyifeng.com/blogimg/asset/2015/bg2015071016.png" alt="Mou"></p>
<h4 id="è¯¥å±æ€§å¯èƒ½å–6ä¸ªå€¼ï¼Œé™¤äº†autoï¼Œå…¶ä»–éƒ½ä¸align-itemså±æ€§å®Œå…¨ä¸€è‡´ã€‚"><a href="#è¯¥å±æ€§å¯èƒ½å–6ä¸ªå€¼ï¼Œé™¤äº†autoï¼Œå…¶ä»–éƒ½ä¸align-itemså±æ€§å®Œå…¨ä¸€è‡´ã€‚" class="headerlink" title="è¯¥å±æ€§å¯èƒ½å–6ä¸ªå€¼ï¼Œé™¤äº†autoï¼Œå…¶ä»–éƒ½ä¸align-itemså±æ€§å®Œå…¨ä¸€è‡´ã€‚"></a>è¯¥å±æ€§å¯èƒ½å–6ä¸ªå€¼ï¼Œé™¤äº†autoï¼Œå…¶ä»–éƒ½ä¸align-itemså±æ€§å®Œå…¨ä¸€è‡´ã€‚</h4><h4 id="ï¼ˆå®Œï¼‰"><a href="#ï¼ˆå®Œï¼‰" class="headerlink" title="ï¼ˆå®Œï¼‰"></a>ï¼ˆå®Œï¼‰</h4>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/12/å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡/" class="archive-article-date">
  	<time datetime="2016-11-12T07:07:56.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-12</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="post-å¸ƒå±€æ•™ç¨‹ï¼šè¯­æ³•ç¯‡" data-title="" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
    <article id="post-Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="çº¯JavaScriptå®ç°HTML5-Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ"><a href="#çº¯JavaScriptå®ç°HTML5-Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ" class="headerlink" title="çº¯JavaScriptå®ç°HTML5 Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ"></a>çº¯JavaScriptå®ç°HTML5 Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ</h1><h4 id="çº¯JavaScriptå®ç°HTML5-Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ-1"><a href="#çº¯JavaScriptå®ç°HTML5-Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ-1" class="headerlink" title="çº¯JavaScriptå®ç°HTML5 Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ"></a>çº¯JavaScriptå®ç°HTML5 Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ</h4><p>å°è¯•ç‰›åˆ€ï¼Œå®ç°äº†å…­æ¬¾ç®€å•å¸¸è§Html5 Canvasç‰¹æ•ˆæ»¤é•œï¼Œå¹¶ä¸”å°è£…æˆä¸€ä¸ªçº¯</p>
<p>JavaScriptå¯è°ƒç”¨çš„APIæ–‡ä»¶gloomyfishfilter.jsã€‚æ”¯æŒçš„ç‰¹æ•ˆæ»¤é•œåˆ†åˆ«ä¸ºï¼š</p>
<ol>
<li><p>åè‰²</p>
</li>
<li><p>ç°è‰²è°ƒ</p>
</li>
<li><p>æ¨¡ç³Š</p>
</li>
<li><p>æµ®é›•</p>
</li>
<li><p>é›•åˆ»</p>
</li>
<li><p>é•œåƒ</p>
</li>
</ol>
<h4 id="æ»¤é•œåŸç†è§£é‡Šï¼š"><a href="#æ»¤é•œåŸç†è§£é‡Šï¼š" class="headerlink" title="æ»¤é•œåŸç†è§£é‡Šï¼š"></a>æ»¤é•œåŸç†è§£é‡Šï¼š</h4><ol>
<li><p>åè‰²ï¼šè·å–ä¸€ä¸ªåƒç´ ç‚¹RGBå€¼r, g, båˆ™æ–°çš„RGBå€¼ä¸º(255-r, 255-g, 255-b)</p>
</li>
<li><p>ç°è‰²è°ƒï¼šè·å–ä¸€ä¸ªåƒç´ ç‚¹RGBå€¼r, g, båˆ™æ–°çš„RGBå€¼ä¸º</p>
<pre><code>newr = (r * 0.272) + (g * 0.534) + (b * 0.131);

newg = (r * 0.349) + (g * 0.686) + (b * 0.168);

newb = (r * 0.393) + (g * 0.769) + (b * 0.189);
</code></pre></li>
<li><p>æ¨¡ç³Šï¼šåŸºäºä¸€ä¸ª5*5çš„å·ç§¯æ ¸</p>
</li>
<li><p>æµ®é›•ä¸é›•åˆ»ï¼š</p>
<p>åŸºäºå½“å‰åƒç´ çš„å‰ä¸€ä¸ªåƒç´ RGBå€¼ä¸å®ƒçš„åä¸€ä¸ªåƒç´ çš„RGBå€¼ä¹‹å·®å†åŠ ä¸Š128</p>
</li>
<li><p>é•œåƒï¼šæ¨¡æ‹Ÿäº†ç‰©ä½“åœ¨é•œå­ä¸­ä¸ä¹‹å¯¹åº”çš„æ•ˆæœã€‚</p>
</li>
</ol>
<h4 id="æ‚é¡¹å‡†å¤‡"><a href="#æ‚é¡¹å‡†å¤‡" class="headerlink" title="æ‚é¡¹å‡†å¤‡"></a>æ‚é¡¹å‡†å¤‡</h4><ol>
<li>å¦‚ä½•è·å–Canvas 2d contextå¯¹è±¡</li>
</ol>
<p>var canvas = document.getElementById(â€œtargetâ€);</p>
<p>canvas.width = source.clientWidth;</p>
<p>canvas.height = source.clientHeight;</p>
<p>if(!canvas.getContext) {</p>
<pre><code>console.log(&quot;Canvas not supported. Please install a HTML5compatible browser.&quot;);

return;
</code></pre><p>}</p>
<p>// get 2D context of canvas and draw image</p>
<p>tempContext = canvas.getContext(â€œ2dâ€);</p>
<p>2.å¦‚ä½•ç»˜åˆ¶ä¸€ä¸ªDOM imgå¯¹è±¡åˆ°Canvaså¯¹è±¡ä¸­</p>
<p>var source = document.getElementById(â€œsourceâ€);</p>
<p>tempContext.drawImage(source, 0, 0, canvas.width,canvas.height);</p>
<p>3.å¦‚ä½•ä»Canvaså¯¹è±¡ä¸­è·å–åƒç´ æ•°æ®</p>
<p>var canvas = document.getElementById(â€œtargetâ€);</p>
<p>varlen = canvas.width <em> canvas.height </em> 4;</p>
<p>var canvasData = tempContext.getImageData(0, 0, canvas.width, canvas.height);</p>
<p>var binaryData = canvasData.data;</p>
<p>4.å¦‚ä½•å¯¹DOMå¯¹è±¡å®ç°é¼ æ ‡Clickäº‹ä»¶ç»‘å®š</p>
<p>function bindButtonEvent(element, type, handler) </p>
<p>{ </p>
<p>if(element.addEventListener){ </p>
<pre><code>   element.addEventListener(type, handler,false); 

}else { 

   element.attachEvent(&apos;on&apos;+type, handler);// for IE6,7,8

} 
</code></pre><p>}</p>
<p>5.å¦‚ä½•è°ƒç”¨å®ç°çš„gfilter APIå®Œæˆæ»¤é•œåŠŸèƒ½</p>
<p><scriptsrc="gloomyfishfilter.js"> //å¯¼å…¥APIæ–‡ä»¶</scriptsrc="gloomyfishfilter.js"></p>
<p>gfilter.colorInvertProcess(binaryData, len); //è°ƒç”¨ API</p>
<h2 id="æ•ˆæœæ¼”ç¤ºï¼š"><a href="#æ•ˆæœæ¼”ç¤ºï¼š" class="headerlink" title="æ•ˆæœæ¼”ç¤ºï¼š"></a>æ•ˆæœæ¼”ç¤ºï¼š</h2><p><img src="http://img.blog.csdn.net/20130628132241078?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvamlhMjAwMDM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="Mou"></p>
<h3 id="åº”ç”¨ç¨‹åºæºä»£ç ï¼šã€cssã€‘éƒ¨åˆ†"><a href="#åº”ç”¨ç¨‹åºæºä»£ç ï¼šã€cssã€‘éƒ¨åˆ†" class="headerlink" title="åº”ç”¨ç¨‹åºæºä»£ç ï¼šã€cssã€‘éƒ¨åˆ†"></a>åº”ç”¨ç¨‹åºæºä»£ç ï¼šã€cssã€‘éƒ¨åˆ†</h3><pre><code>#svgContainer {  
width:800px;  
height:600px;  
background-color:#EEEEEE;  
</code></pre><p>}  </p>
<pre><code>#sourceDiv { float: left; border: 2px solid blue}   
#targetDiv { float: right;border: 2px solid red}   
</code></pre><h3 id="filter1-htmlä¸­HTMLæºä»£ç ï¼šã€htmlã€‘éƒ¨åˆ†"><a href="#filter1-htmlä¸­HTMLæºä»£ç ï¼šã€htmlã€‘éƒ¨åˆ†" class="headerlink" title="filter1.htmlä¸­HTMLæºä»£ç ï¼šã€htmlã€‘éƒ¨åˆ†"></a>filter1.htmlä¸­HTMLæºä»£ç ï¼šã€htmlã€‘éƒ¨åˆ†</h3><pre><code>&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;chrome=IE8&quot;&gt;  
&lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html;charset=UTF-8&quot;&gt;  
&lt;title&gt;Canvas Filter Demo&lt;/title&gt;  
&lt;link href=&quot;default.css&quot; rel=&quot;stylesheet&quot; /&gt;  
&lt;script src=&quot;gloomyfishfilter.js&quot;&gt;&lt;/scrip&gt;  
&lt;/head&gt;  
&lt;body&gt;  
&lt;h1&gt;HTML Canvas Image Process - By Gloomy Fish&lt;/h1&gt;  
&lt;div id=&quot;svgContainer&quot;&gt;  
    &lt;div id=&quot;sourceDiv&quot;&gt;  
        &lt;img id=&quot;source&quot; src=&quot;../test.png&quot; /&gt;  
    &lt;/div&gt;  
    &lt;div id=&quot;targetDiv&quot;&gt;  
        &lt;canvas id=&quot;target&quot;&gt;&lt;/canvas&gt;  
    &lt;/div&gt;  
&lt;/div&gt;  
&lt;div id=&quot;btn-group&quot;&gt;  
    &lt;button type=&quot;button&quot; id=&quot;invert-button&quot;&gt;åè‰²&lt;/button&gt;  
    &lt;button type=&quot;button&quot; id=&quot;adjust-button&quot;&gt;ç°è‰²è°ƒ&lt;/button&gt;  
    &lt;button type=&quot;button&quot; id=&quot;blur-button&quot;&gt;æ¨¡ç³Š&lt;/button&gt;  
    &lt;button type=&quot;button&quot; id=&quot;relief-button&quot;&gt;æµ®é›•&lt;/button&gt;  
    &lt;button type=&quot;button&quot; id=&quot;diaoke-button&quot;&gt;é›•åˆ»&lt;/button&gt;  
    &lt;button type=&quot;button&quot; id=&quot;mirror-button&quot;&gt;é•œåƒ&lt;/button&gt;  
&lt;/div&gt;  
&lt;/body&gt;  
&lt;/html&gt; 
</code></pre><h3 id="filter1-htmlä¸­JavaScriptæºä»£ç ï¼šã€javascriptã€‘"><a href="#filter1-htmlä¸­JavaScriptæºä»£ç ï¼šã€javascriptã€‘" class="headerlink" title="filter1.htmlä¸­JavaScriptæºä»£ç ï¼šã€javascriptã€‘"></a>filter1.htmlä¸­JavaScriptæºä»£ç ï¼šã€javascriptã€‘</h3><pre><code>var tempContext = null; // global variable 2d context  
</code></pre><p>window.onload = function() {<br>    var source = document.getElementById(â€œsourceâ€);<br>    var canvas = document.getElementById(â€œtargetâ€);<br>    canvas.width = source.clientWidth;<br>    canvas.height = source.clientHeight;  </p>
<pre><code>if (!canvas.getContext) {  
    console.log(&quot;Canvas not supported. Please install a HTML5 compatible browser.&quot;);  
    return;  
}  

// get 2D context of canvas and draw image  
tempContext = canvas.getContext(&quot;2d&quot;);  
tempContext.drawImage(source, 0, 0, canvas.width, canvas.height);  

   // initialization actions  
   var inButton = document.getElementById(&quot;invert-button&quot;);  
   var adButton = document.getElementById(&quot;adjust-button&quot;);  
   var blurButton = document.getElementById(&quot;blur-button&quot;);  
   var reButton = document.getElementById(&quot;relief-button&quot;);  
   var dkButton = document.getElementById(&quot;diaoke-button&quot;);  
   var mirrorButton = document.getElementById(&quot;mirror-button&quot;);  

   // bind mouse click event  
   bindButtonEvent(inButton, &quot;click&quot;, invertColor);  
   bindButtonEvent(adButton, &quot;click&quot;, adjustColor);  
   bindButtonEvent(blurButton, &quot;click&quot;, blurImage);  
   bindButtonEvent(reButton, &quot;click&quot;, fudiaoImage);  
   bindButtonEvent(dkButton, &quot;click&quot;, kediaoImage);  
   bindButtonEvent(mirrorButton, &quot;click&quot;, mirrorImage);  
}  

function bindButtonEvent(element, type, handler)    
{    
if(element.addEventListener) {    
   element.addEventListener(type, handler, false);    
} else {    
   element.attachEvent(&apos;on&apos;+type, handler); // for IE6,7,8  
}    
}    

function invertColor() {  
var canvas = document.getElementById(&quot;target&quot;);  
var len = canvas.width * canvas.height * 4;  
var canvasData = tempContext.getImageData(0, 0, canvas.width, canvas.height);  
var binaryData = canvasData.data;  

   // Processing all the pixels  
   gfilter.colorInvertProcess(binaryData, len);  

   // Copying back canvas data to canvas  
   tempContext.putImageData(canvasData, 0, 0);  
}  

function adjustColor() {  
var canvas = document.getElementById(&quot;target&quot;);  
var len = canvas.width * canvas.height * 4;  
var canvasData = tempContext.getImageData(0, 0, canvas.width, canvas.height);  
   var binaryData = canvasData.data;  

   // Processing all the pixels  
   gfilter.colorAdjustProcess(binaryData, len);  

   // Copying back canvas data to canvas  
   tempContext.putImageData(canvasData, 0, 0);  
}  

function blurImage()   
{  
var canvas = document.getElementById(&quot;target&quot;);  
var len = canvas.width * canvas.height * 4;  
var canvasData = tempContext.getImageData(0, 0, canvas.width, canvas.height);  

   // Processing all the pixels  
   gfilter.blurProcess(tempContext, canvasData);  

   // Copying back canvas data to canvas  
   tempContext.putImageData(canvasData, 0, 0);  
}  

function fudiaoImage()   
{  
var canvas = document.getElementById(&quot;target&quot;);  
var len = canvas.width * canvas.height * 4;  
var canvasData = tempContext.getImageData(0, 0, canvas.width, canvas.height);  

   // Processing all the pixels  
   gfilter.reliefProcess(tempContext, canvasData);  

   // Copying back canvas data to canvas  
   tempContext.putImageData(canvasData, 0, 0);  
}  

function kediaoImage()   
{  
    var canvas = document.getElementById(&quot;target&quot;);  
    var len = canvas.width * canvas.height * 4;  
    var canvasData = tempContext.getImageData(0, 0, canvas.width, canvas.height);  

   // Processing all the pixels  
   gfilter.diaokeProcess(tempContext, canvasData);  

   // Copying back canvas data to canvas  
   tempContext.putImageData(canvasData, 0, 0);  
}  

function mirrorImage()   
{  
var canvas = document.getElementById(&quot;target&quot;);  
var len = canvas.width * canvas.height * 4;  
var canvasData = tempContext.getImageData(0, 0, canvas.width, canvas.height);  

   // Processing all the pixels  
   gfilter.mirrorProcess(tempContext, canvasData);  

   // Copying back canvas data to canvas  
   tempContext.putImageData(canvasData, 0, 0);  
} 
</code></pre><h3 id="æ»¤é•œæºä»£ç -gloomyfishfilter-js-ï¼š"><a href="#æ»¤é•œæºä»£ç -gloomyfishfilter-js-ï¼š" class="headerlink" title="æ»¤é•œæºä»£ç (gloomyfishfilter.js)ï¼š"></a>æ»¤é•œæºä»£ç (gloomyfishfilter.js)ï¼š</h3><pre><code>    var gfilter = {  
    type: &quot;canvas&quot;,  
    name: &quot;filters&quot;,  
    author: &quot;zhigang&quot;,  
    getInfo: function () {  
    return this.author + &apos; &apos; + this.type + &apos; &apos; + this.name;  
    },  

/** 
 * invert color value of pixel, new pixel = RGB(255-r, 255-g, 255 - b) 
 *  
 * @param binaryData - canvas&apos;s imagedata.data 
 * @param l - length of data (width * height of image data) 
 */  
colorInvertProcess: function(binaryData, l) {  
    for (var i = 0; i &lt; l; i += 4) {  
        var r = binaryData[i];  
        var g = binaryData[i + 1];  
        var b = binaryData[i + 2];  

        binaryData[i] = 255-r;  
        binaryData[i + 1] = 255-g;  
        binaryData[i + 2] = 255-b;  
    }  
},  

/** 
 * adjust color values and make it more darker and gray... 
 *  
 * @param binaryData 
 * @param l 
 */  
colorAdjustProcess: function(binaryData, l) {  
    for (var i = 0; i &lt; l; i += 4) {  
        var r = binaryData[i];  
        var g = binaryData[i + 1];  
        var b = binaryData[i + 2];  

        binaryData[i] = (r * 0.272) + (g * 0.534) + (b * 0.131);  
        binaryData[i + 1] = (r * 0.349) + (g * 0.686) + (b * 0.168);  
        binaryData[i + 2] = (r * 0.393) + (g * 0.769) + (b * 0.189);  
    }  
},  

/** 
 * deep clone image data of canvas 
 *  
 * @param context 
 * @param src 
 * @returns 
 */  
copyImageData: function(context, src)  
{  
    var dst = context.createImageData(src.width, src.height);  
    dst.data.set(src.data);  
    return dst;  
},  

/** 
 * convolution - keneral size 5*5 - blur effect filter(æ¨¡ç³Šæ•ˆæœ) 
 *  
 * @param context 
 * @param canvasData 
 */  
blurProcess: function(context, canvasData) {  
    console.log(&quot;Canvas Filter - blur process&quot;);  
    var tempCanvasData = this.copyImageData(context, canvasData);  
    var sumred = 0.0, sumgreen = 0.0, sumblue = 0.0;  
    for ( var x = 0; x &lt; tempCanvasData.width; x++) {      
        for ( var y = 0; y &lt; tempCanvasData.height; y++) {      

            // Index of the pixel in the array      
            var idx = (x + y * tempCanvasData.width) * 4;         
            for(var subCol=-2; subCol&lt;=2; subCol++) {  
                var colOff = subCol + x;  
                if(colOff &lt;0 || colOff &gt;= tempCanvasData.width) {  
                    colOff = 0;  
                }  
                for(var subRow=-2; subRow&lt;=2; subRow++) {  
                    var rowOff = subRow + y;  
                    if(rowOff &lt; 0 || rowOff &gt;= tempCanvasData.height) {  
                        rowOff = 0;  
                    }  
                    var idx2 = (colOff + rowOff * tempCanvasData.width) * 4;      
                    var r = tempCanvasData.data[idx2 + 0];      
                    var g = tempCanvasData.data[idx2 + 1];      
                    var b = tempCanvasData.data[idx2 + 2];  
                    sumred += r;  
                    sumgreen += g;  
                    sumblue += b;  
                }  
            }  

            // calculate new RGB value  
            var nr = (sumred / 25.0);  
            var ng = (sumgreen / 25.0);  
            var nb = (sumblue / 25.0);  

            // clear previous for next pixel point  
            sumred = 0.0;  
            sumgreen = 0.0;  
            sumblue = 0.0;  

            // assign new pixel value      
            canvasData.data[idx + 0] = nr; // Red channel      
            canvasData.data[idx + 1] = ng; // Green channel      
            canvasData.data[idx + 2] = nb; // Blue channel      
            canvasData.data[idx + 3] = 255; // Alpha channel      
        }  
    }  
},  

/** 
 * after pixel value - before pixel value + 128 
 * æµ®é›•æ•ˆæœ 
 */  
reliefProcess: function(context, canvasData) {  
    console.log(&quot;Canvas Filter - relief process&quot;);  
    var tempCanvasData = this.copyImageData(context, canvasData);  
    for ( var x = 1; x &lt; tempCanvasData.width-1; x++)   
    {      
        for ( var y = 1; y &lt; tempCanvasData.height-1; y++)  
        {      

            // Index of the pixel in the array      
            var idx = (x + y * tempCanvasData.width) * 4;         
            var bidx = ((x-1) + y * tempCanvasData.width) * 4;  
            var aidx = ((x+1) + y * tempCanvasData.width) * 4;  

            // calculate new RGB value  
            var nr = tempCanvasData.data[aidx + 0] - tempCanvasData.data[bidx + 0] + 128;  
            var ng = tempCanvasData.data[aidx + 1] - tempCanvasData.data[bidx + 1] + 128;  
            var nb = tempCanvasData.data[aidx + 2] - tempCanvasData.data[bidx + 2] + 128;  
            nr = (nr &lt; 0) ? 0 : ((nr &gt;255) ? 255 : nr);  
            ng = (ng &lt; 0) ? 0 : ((ng &gt;255) ? 255 : ng);  
            nb = (nb &lt; 0) ? 0 : ((nb &gt;255) ? 255 : nb);  

            // assign new pixel value      
            canvasData.data[idx + 0] = nr; // Red channel      
            canvasData.data[idx + 1] = ng; // Green channel      
            canvasData.data[idx + 2] = nb; // Blue channel      
            canvasData.data[idx + 3] = 255; // Alpha channel      
        }  
    }  
},  

/** 
 *  before pixel value - after pixel value + 128 
 *  é›•åˆ»æ•ˆæœ 
 *  
 * @param canvasData 
 */  
diaokeProcess: function(context, canvasData) {  
    console.log(&quot;Canvas Filter - process&quot;);  
    var tempCanvasData = this.copyImageData(context, canvasData);  
    for ( var x = 1; x &lt; tempCanvasData.width-1; x++)   
    {      
        for ( var y = 1; y &lt; tempCanvasData.height-1; y++)  
        {      

            // Index of the pixel in the array      
            var idx = (x + y * tempCanvasData.width) * 4;         
            var bidx = ((x-1) + y * tempCanvasData.width) * 4;  
            var aidx = ((x+1) + y * tempCanvasData.width) * 4;  

            // calculate new RGB value  
            var nr = tempCanvasData.data[bidx + 0] - tempCanvasData.data[aidx + 0] + 128;  
            var ng = tempCanvasData.data[bidx + 1] - tempCanvasData.data[aidx + 1] + 128;  
            var nb = tempCanvasData.data[bidx + 2] - tempCanvasData.data[aidx + 2] + 128;  
            nr = (nr &lt; 0) ? 0 : ((nr &gt;255) ? 255 : nr);  
            ng = (ng &lt; 0) ? 0 : ((ng &gt;255) ? 255 : ng);  
            nb = (nb &lt; 0) ? 0 : ((nb &gt;255) ? 255 : nb);  

            // assign new pixel value      
            canvasData.data[idx + 0] = nr; // Red channel      
            canvasData.data[idx + 1] = ng; // Green channel      
            canvasData.data[idx + 2] = nb; // Blue channel      
            canvasData.data[idx + 3] = 255; // Alpha channel      
        }  
    }  
},  

/** 
 * mirror reflect 
 *  
 * @param context 
 * @param canvasData 
 */  
mirrorProcess : function(context, canvasData) {  
    console.log(&quot;Canvas Filter - process&quot;);  
    var tempCanvasData = this.copyImageData(context, canvasData);  
    for ( var x = 0; x &lt; tempCanvasData.width; x++) // column  
    {      
        for ( var y = 0; y &lt; tempCanvasData.height; y++) // row  
        {      

            // Index of the pixel in the array      
            var idx = (x + y * tempCanvasData.width) * 4;         
            var midx = (((tempCanvasData.width -1) - x) + y * tempCanvasData.width) * 4;  

            // assign new pixel value      
            canvasData.data[midx + 0] = tempCanvasData.data[idx + 0]; // Red channel      
            canvasData.data[midx + 1] = tempCanvasData.data[idx + 1]; ; // Green channel      
            canvasData.data[midx + 2] = tempCanvasData.data[idx + 2]; ; // Blue channel      
            canvasData.data[midx + 3] = 255; // Alpha channel      
        }  
    }  
},  
};  
</code></pre>
      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/12/Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ/" class="archive-article-date">
  	<time datetime="2016-11-12T07:03:12.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-12</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>








<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="post-Canvaså…­ç§ç‰¹æ•ˆæ»¤é•œ" data-title="" data-url="undefined"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

  
  


      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 qianjenbo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">å…¨éƒ¨</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">æ ‡ç­¾</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">å‹é“¾</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">æˆ‘</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/qianjianbo/">å•µå•µå•µåšå®¢å›­</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/Jasonellen/">å¥‹æ–—èšåšå®¢å›­</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://jasonellen.github.io/">å¥‹æ–—èšgithub</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://yang867381349.github.io">æ¨å†›æƒgithob</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://duhan96.github.io/">æœğŸ¶</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/926dbfef1d19/latest_articles">æœæ¶µç®€ä¹¦</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">å§“å:qianjenbo&lt;br/&gt;å¹´é¾„:94.09.18&lt;br/&gt;æ€§åˆ«:ç”·&lt;br/&gt;åº§å³é“­:æœ‰æ—¶å€™ç¼ºçš„å°±æ˜¯ç ´é‡œæ²‰èˆŸçš„å‹‡æ°”ï¼ŒæŠŠè‡ªå·±é€¼ä¸€é€¼ï¼Œæ‰çŸ¥é“è‡ªå·±æœ‰å¤šå¤§æ½œåŠ›ï¼&lt;br/&gt;</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>