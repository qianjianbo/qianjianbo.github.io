<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <link rel="dns-prefetch" href="http://yoursite.com">
  <title>canvasç”»å›¾ | å•µå•µå•µ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="å¯¼èˆª
å‰è¨€
åŸºæœ¬çŸ¥è¯†
ç»˜åˆ¶çŸ©å½¢
æ¸…é™¤çŸ©å½¢åŒºåŸŸ
åœ†å¼§
è·¯å¾„
ç»˜åˆ¶çº¿æ®µ
ç»˜åˆ¶è´å¡å°”æ›²çº¿
çº¿æ€§æ¸å˜
å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰
å›¾å½¢å˜å½¢ï¼ˆå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰
çŸ©é˜µå˜æ¢ï¼ˆå›¾å½¢å˜å½¢çš„æœºåˆ¶ï¼‰
å›¾å½¢ç»„åˆ
ç»™å›¾å½¢ç»˜åˆ¶é˜´å½±
ç»˜åˆ¶å›¾åƒï¼ˆå›¾ç‰‡å¹³é“ºã€è£å‰ªã€åƒç´ å¤„ç†[ä¸åªå›¾åƒã€åŒ…æ‹¬å…¶ä»–ç»˜åˆ¶å›¾å½¢]ï¼‰
ç»˜åˆ¶æ–‡å­—
ä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼ˆcontextï¼‰
ä¿å­˜æ–‡ä»¶
ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»
ç»“è¯­ã€demoä¸‹è½½

å‰è¨€&amp;lt;canvas">
<meta property="og:type" content="article">
<meta property="og:title" content="canvasç”»å›¾">
<meta property="og:url" content="http://yoursite.com/2016/11/16/canvasç”»å›¾/index.html">
<meta property="og:site_name" content="å•µå•µå•µ">
<meta property="og:description" content="å¯¼èˆª
å‰è¨€
åŸºæœ¬çŸ¥è¯†
ç»˜åˆ¶çŸ©å½¢
æ¸…é™¤çŸ©å½¢åŒºåŸŸ
åœ†å¼§
è·¯å¾„
ç»˜åˆ¶çº¿æ®µ
ç»˜åˆ¶è´å¡å°”æ›²çº¿
çº¿æ€§æ¸å˜
å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰
å›¾å½¢å˜å½¢ï¼ˆå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰
çŸ©é˜µå˜æ¢ï¼ˆå›¾å½¢å˜å½¢çš„æœºåˆ¶ï¼‰
å›¾å½¢ç»„åˆ
ç»™å›¾å½¢ç»˜åˆ¶é˜´å½±
ç»˜åˆ¶å›¾åƒï¼ˆå›¾ç‰‡å¹³é“ºã€è£å‰ªã€åƒç´ å¤„ç†[ä¸åªå›¾åƒã€åŒ…æ‹¬å…¶ä»–ç»˜åˆ¶å›¾å½¢]ï¼‰
ç»˜åˆ¶æ–‡å­—
ä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼ˆcontextï¼‰
ä¿å­˜æ–‡ä»¶
ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»
ç»“è¯­ã€demoä¸‹è½½

å‰è¨€&amp;lt;canvas">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082241.jpg">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082242.jpg">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082243.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082245.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082246.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082247.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082248.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/2012082249.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822410.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822411.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822412.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822413.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822414.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822415.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822416.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822417.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822418.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822419.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822420.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822421.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822422.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822423.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822424.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822424.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822426.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822427.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822428.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822429.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822430.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822431.png">
<meta property="og:image" content="http://www.uml.org.cn/html/images/20120822432.png">
<meta property="og:updated_time" content="2016-11-16T12:28:50.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="canvasç”»å›¾">
<meta name="twitter:description" content="å¯¼èˆª
å‰è¨€
åŸºæœ¬çŸ¥è¯†
ç»˜åˆ¶çŸ©å½¢
æ¸…é™¤çŸ©å½¢åŒºåŸŸ
åœ†å¼§
è·¯å¾„
ç»˜åˆ¶çº¿æ®µ
ç»˜åˆ¶è´å¡å°”æ›²çº¿
çº¿æ€§æ¸å˜
å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰
å›¾å½¢å˜å½¢ï¼ˆå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰
çŸ©é˜µå˜æ¢ï¼ˆå›¾å½¢å˜å½¢çš„æœºåˆ¶ï¼‰
å›¾å½¢ç»„åˆ
ç»™å›¾å½¢ç»˜åˆ¶é˜´å½±
ç»˜åˆ¶å›¾åƒï¼ˆå›¾ç‰‡å¹³é“ºã€è£å‰ªã€åƒç´ å¤„ç†[ä¸åªå›¾åƒã€åŒ…æ‹¬å…¶ä»–ç»˜åˆ¶å›¾å½¢]ï¼‰
ç»˜åˆ¶æ–‡å­—
ä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼ˆcontextï¼‰
ä¿å­˜æ–‡ä»¶
ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»
ç»“è¯­ã€demoä¸‹è½½

å‰è¨€&amp;lt;canvas">
<meta name="twitter:image" content="http://www.uml.org.cn/html/images/2012082241.jpg">
  
  
    <link rel="icon" href="https://avatars0.githubusercontent.com/u/20942842?v=3&u=d1a97114e82a12c99a99e1cf4d13fffad7756cd7&s=140">
  
  <link rel="stylesheet" href="/main.css">
  

</head>

<body>
  <div id="container">
    <div class="left-col">
      <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img src="https://avatars0.githubusercontent.com/u/20942842?v=3&amp;u=d1a97114e82a12c99a99e1cf4d13fffad7756cd7&amp;s=140" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">qianjenbo</a></h1>
		</hgroup>

		
		<p class="header-subtitle">Sometimes need is the courage to cross the rubicon, push yourself a forced, they knew that they have much potential!</p>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/">homepage</a></li>
	        
				<li><a href="http://www.suibi8.com/">Essays</a></li>
	        
			</ul>
		</nav>
		<nav class="header-smart-menu">
	        
    		
    			
    			<a class="js-smart-menu" data-idx="0" href="javascript:void(0)">AllğŸ“š</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="1" href="javascript:void(0)">Label</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="2" href="javascript:void(0)">FriendSiteList</a>
    			
    			
            
    			
    			<a class="js-smart-menu" data-idx="3" href="javascript:void(0)">About Me</a>
    			
    			
            
		</nav>
		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" href="https://github.com/qianjianbo" title="github">github</a>
		        
					<a class="weibo" target="_blank" href="http://t.qq.com/qianjianbo777?preview" title="weibo">weibo</a>
		        
					<a class="zhihu" target="_blank" href="https://www.zhihu.com/" title="zhihu">zhihu</a>
		        
			</div>
		</nav>
	</header>		
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"><i class="icon-list"></i></div>
  		<h1 class="header-author js-mobile-header hide">qianjenbo</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				
					<img src="https://avatars0.githubusercontent.com/u/20942842?v=3&amp;u=d1a97114e82a12c99a99e1cf4d13fffad7756cd7&amp;s=140" class="js-avatar">
				
			</div>
			<hgroup>
			  <h1 class="header-author">qianjenbo</h1>
			</hgroup>
			
			<p class="header-subtitle">Sometimes need is the courage to cross the rubicon, push yourself a forced, they knew that they have much potential!</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">homepage</a></li>
		        
					<li><a href="http://www.suibi8.com/">Essays</a></li>
		        
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/qianjianbo" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://t.qq.com/qianjianbo777?preview" title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
        <article id="ç©è½¬html5-canvasç”»å›¾" class="article article-type-ç©è½¬html5" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      canvasç”»å›¾
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="å¯¼èˆª"><a href="#å¯¼èˆª" class="headerlink" title="å¯¼èˆª"></a>å¯¼èˆª</h3><ul>
<li>å‰è¨€</li>
<li>åŸºæœ¬çŸ¥è¯†</li>
<li>ç»˜åˆ¶çŸ©å½¢</li>
<li>æ¸…é™¤çŸ©å½¢åŒºåŸŸ</li>
<li>åœ†å¼§</li>
<li>è·¯å¾„</li>
<li>ç»˜åˆ¶çº¿æ®µ</li>
<li>ç»˜åˆ¶è´å¡å°”æ›²çº¿</li>
<li>çº¿æ€§æ¸å˜</li>
<li>å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰</li>
<li>å›¾å½¢å˜å½¢ï¼ˆå¹³ç§»ã€æ—‹è½¬ã€ç¼©æ”¾ï¼‰</li>
<li>çŸ©é˜µå˜æ¢ï¼ˆå›¾å½¢å˜å½¢çš„æœºåˆ¶ï¼‰</li>
<li>å›¾å½¢ç»„åˆ</li>
<li>ç»™å›¾å½¢ç»˜åˆ¶é˜´å½±</li>
<li>ç»˜åˆ¶å›¾åƒï¼ˆå›¾ç‰‡å¹³é“ºã€è£å‰ªã€åƒç´ å¤„ç†[ä¸åªå›¾åƒã€åŒ…æ‹¬å…¶ä»–ç»˜åˆ¶å›¾å½¢]ï¼‰</li>
<li>ç»˜åˆ¶æ–‡å­—</li>
<li>ä¿å­˜å’Œæ¢å¤çŠ¶æ€ï¼ˆcontextï¼‰</li>
<li>ä¿å­˜æ–‡ä»¶</li>
<li>ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»</li>
<li>ç»“è¯­ã€demoä¸‹è½½</li>
</ul>
<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><pre><code>&lt;canvas&gt;&lt;/canvas&gt;æ˜¯html5å‡ºç°çš„æ–°æ ‡ç­¾ï¼Œåƒæ‰€æœ‰çš„domå¯¹è±¡ä¸€æ ·å®ƒæœ‰è‡ªå·±æœ¬èº«çš„å±æ€§ã€æ–¹æ³•å’Œäº‹ä»¶ï¼Œå…¶ä¸­å°±æœ‰ç»˜å›¾çš„æ–¹æ³•ï¼Œjsèƒ½å¤Ÿè°ƒç”¨å®ƒæ¥è¿›è¡Œç»˜å›¾ ï¼Œæœ€è¿‘åœ¨ç ”è¯»ã€Šhtml5ä¸css3æƒå¨æŒ‡å—ã€‹ä¸‹é¢å¯¹å…¶ä¸­æœ€å¥½ç©çš„canvasçš„å­¦ä¹ åšä¸‹è¯»ä¹¦ç¬”è®°ä¸å®éªŒã€‚
</code></pre><p>æ¸©é¦¨æç¤ºï¼šä»¥ä¸‹æ‰€æœ‰å®éªŒè¯·ä½¿ç”¨æœ€æ–°ç‰ˆçš„opera</p>
<h3 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h3><p>context:ä¸€ç›´è§‰å¾—è¿™ä¸ªç¿»è¯‘æˆâ€œä¸Šä¸‹æ–‡â€çœŸå¤Ÿè›‹ç–¼çš„ï¼Œcontextæ˜¯ä¸€ä¸ªå°è£…äº†å¾ˆå¤šç»˜å›¾åŠŸèƒ½çš„å¯¹è±¡ï¼Œè·å–è¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•æ˜¯</p>
<p>var context =canvas.getContext(â€œ2dâ€);</p>
<p>ä¹Ÿè®¸è¿™ä¸ª2då‹¾èµ·äº†å¤§å®¶çš„æ— é™éæƒ³ï¼Œä½†æ˜¯å¾ˆé—æ†¾çš„å‘Šè¯‰ä½ html5è¿˜åªæ˜¯ä¸ªå°‘å¥³ï¼Œä¸æä¾›3dæœåŠ¡ã€‚</p>
<p>canvaså…ƒç´ ç»˜åˆ¶å›¾åƒçš„æ—¶å€™æœ‰ä¸¤ç§æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯</p>
<p>context.fill()//å¡«å……</p>
<p>context.stroke()//ç»˜åˆ¶è¾¹æ¡†</p>
<p>style:åœ¨è¿›è¡Œå›¾å½¢ç»˜åˆ¶å‰ï¼Œè¦è®¾ç½®å¥½ç»˜å›¾çš„æ ·å¼</p>
<p>context.fillStyle//å¡«å……çš„æ ·å¼</p>
<p>context.strokeStyle//è¾¹æ¡†æ ·å¼</p>
<p>context.lineWidth//å›¾å½¢è¾¹æ¡†å®½åº¦</p>
<p>é¢œè‰²çš„è¡¨ç¤ºæ–¹å¼:</p>
<p>ç›´æ¥ç”¨é¢œè‰²åç§°:â€redâ€ â€œgreenâ€ â€œblueâ€</p>
<p>åå…­è¿›åˆ¶é¢œè‰²å€¼: â€œ#EEEEFFâ€</p>
<p>rgb(1-255,1-255,1-255)</p>
<p>rgba(1-255,1-255,1-255,é€æ˜åº¦)</p>
<p>å’ŒGDIæ˜¯å¦‚æ­¤çš„ç›¸åƒï¼Œæ‰€ä»¥ç”¨è¿‡GDIçš„æœ‹å‹åº”è¯¥å¾ˆå¿«å°±èƒ½ä¸Šæ‰‹</p>
<h5 id="ç»˜åˆ¶çŸ©å½¢"><a href="#ç»˜åˆ¶çŸ©å½¢" class="headerlink" title="ç»˜åˆ¶çŸ©å½¢"></a>ç»˜åˆ¶çŸ©å½¢</h5><p>context.fillRect(x,y,width,height) strokeRect(x,y,width,height)</p>
<p>x:çŸ©å½¢èµ·ç‚¹æ¨ªåæ ‡ï¼ˆåæ ‡åŸç‚¹ä¸ºcanvasçš„å·¦ä¸Šè§’ï¼Œå½“ç„¶ç¡®åˆ‡çš„æ¥è¯´æ˜¯åŸå§‹åŸç‚¹ï¼Œåé¢å†™åˆ°å˜å½¢çš„æ—¶å€™ä½ å°±æ‡‚äº†ï¼Œç°åœ¨æš‚æ—¶ä¸ç”¨å…³ç³»ï¼‰</p>
<p>y:çŸ©å½¢èµ·ç‚¹çºµåæ ‡</p>
<p>width:çŸ©å½¢é•¿åº¦</p>
<p>height:çŸ©å½¢é«˜åº¦</p>
<pre><code>View Code 
 function draw21(id) {
         var canvas = document.getElementById(id)
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½fillStyleä¸‹çš„é»˜è®¤fillStyle=black
         context.fillRect(0, 0, 100, 100);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½strokeStyleä¸‹çš„é»˜è®¤strokeStyle=black
         context.strokeRect(120, 0, 100, 100);

         //è®¾ç½®çº¯è‰²
         context.fillStyle = &quot;red&quot;;
         context.strokeStyle = &quot;blue&quot;;
         context.fillRect(0, 120, 100, 100);
         context.strokeRect(120, 120, 100, 100);

         //è®¾ç½®é€æ˜åº¦å®è·µè¯æ˜é€æ˜åº¦å€¼&gt;0,&lt;1å€¼è¶Šä½ï¼Œè¶Šé€æ˜ï¼Œå€¼&gt;=1æ—¶ä¸ºçº¯è‰²ï¼Œå€¼&lt;=0æ—¶ä¸ºå®Œå…¨é€æ˜
         context.fillStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.strokeStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.fillRect(240,0 , 100, 100);
         context.strokeRect(240, 120, 100, 100);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/2012082241.jpg" alt="Mou"></p>
<h4 id="æ¸…é™¤çŸ©å½¢åŒºåŸŸ"><a href="#æ¸…é™¤çŸ©å½¢åŒºåŸŸ" class="headerlink" title="æ¸…é™¤çŸ©å½¢åŒºåŸŸ"></a>æ¸…é™¤çŸ©å½¢åŒºåŸŸ</h4><p>context.clearRect(x,y,width,height)</p>
<p>x:æ¸…é™¤çŸ©å½¢èµ·ç‚¹æ¨ªåæ ‡</p>
<p>y:æ¸…é™¤çŸ©å½¢èµ·ç‚¹çºµåæ ‡</p>
<p>width:æ¸…é™¤çŸ©å½¢é•¿åº¦</p>
<p>height:æ¸…é™¤çŸ©å½¢é«˜åº¦</p>
<pre><code>View Code 
   function draw22(id) {
         var canvas = document.getElementById(id)
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½fillStyleä¸‹çš„é»˜è®¤fillStyle=black
         context.fillRect(0, 0, 100, 100);
         //å®è·µè¡¨æ˜åœ¨ä¸è®¾æ–½strokeStyleä¸‹çš„é»˜è®¤strokeStyle=black
         context.strokeRect(120, 0, 100, 100);

         //è®¾ç½®çº¯è‰²
         context.fillStyle = &quot;red&quot;;
         context.strokeStyle = &quot;blue&quot;;
         context.fillRect(0, 120, 100, 100);
         context.strokeRect(120, 120, 100, 100);

         //è®¾ç½®é€æ˜åº¦å®è·µè¯æ˜é€æ˜åº¦å€¼&gt;0,&lt;1å€¼è¶Šä½ï¼Œè¶Šé€æ˜ï¼Œå€¼&gt;=1æ—¶ä¸ºçº¯è‰²ï¼Œå€¼&lt;=0æ—¶ä¸ºå®Œå…¨é€æ˜
         context.fillStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.strokeStyle = &quot;rgba(255,0,0,0.2)&quot;;
         context.fillRect(240, 0, 100, 100);
         context.strokeRect(240, 120, 100, 100);
         context.clearRect(50, 50, 240, 120);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/2012082242.jpg" alt="Mou"></p>
<h3 id="åœ†å¼§"><a href="#åœ†å¼§" class="headerlink" title="åœ†å¼§"></a>åœ†å¼§</h3><p>context.arc(x, y, radius, starAngle,endAngle, anticlockwise)</p>
<p>x:åœ†å¿ƒçš„xåæ ‡</p>
<p>y:åœ†å¿ƒçš„yåæ ‡</p>
<p>straAngle:å¼€å§‹è§’åº¦</p>
<p>endAngle:ç»“æŸè§’åº¦</p>
<p>anticlockwise:æ˜¯å¦é€†æ—¶é’ˆï¼ˆtrueï¼‰ä¸ºé€†æ—¶é’ˆï¼Œ(false)ä¸ºé¡ºæ—¶é’ˆ</p>
<p>psï¼šç»è¿‡è¯•éªŒè¯æ˜ä¹¦æœ¬ä¸Štureæ˜¯é¡ºæ—¶é’ˆï¼Œfalseæ˜¯é€†æ—¶é’ˆæ˜¯é”™è¯¯çš„ï¼Œè€Œä¸”æ— è®ºæ˜¯é€†æ—¶é’ˆè¿˜æ˜¯é¡ºæ—¶é’ˆï¼Œè§’åº¦éƒ½æ²¿ç€é¡ºæ—¶é’ˆæ‰©å¤§ï¼Œå¦‚ä¸‹å›¾ï¼š</p>
<p><img src="http://www.uml.org.cn/html/images/2012082243.png" alt="Mou"></p>
<pre><code>View Code 
     function draw0(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&apos;2d&apos;);
         context.beginPath();
         context.arc(200, 150, 100, 0, Math.PI * 2, true);
         //ä¸å…³é—­è·¯å¾„è·¯å¾„ä¼šä¸€ç›´ä¿ç•™ä¸‹å»ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹åšå‡ºæ„æƒ³ä¸åˆ°çš„æ•ˆæœ
         context.closePath();
         context.fillStyle = &apos;rgba(0,255,0,0.25)&apos;;
         context.fill();
     } 
</code></pre><p>ä¸€ä¸å°å¿ƒç”»äº†å°æ—¥æœ¬çš„å›½æ——â€¦èµ¶ç´§è°ƒä¸‹é¢œè‰²å’Œå¤§å°ï¼Œç»¿è‰²å€’æ˜¯æŒºåˆé€‚çš„~</p>
<h3 id="è·¯å¾„"><a href="#è·¯å¾„" class="headerlink" title="è·¯å¾„"></a>è·¯å¾„</h3><p>context.beginPath() context.closePath()</p>
<p>ç»†å¿ƒçš„æœ‹å‹ä¼šå‘ç°ä¸Šé¢çš„ç”»åœ†å¹¶ä¸å•å•æ˜¯ç›´æ¥ç”¨arcè¿˜ç”¨åˆ°äº†contextçš„ beginPath å’ŒclosePathæ–¹æ³•ï¼Œå‚è€ƒä¹¦ä¸æ„§æ˜¯å‚è€ƒä¹¦ï¼Œä¾‹å­ç»™å¾—å¤ªç®€å•äº†ï¼Œå®è¯è¯´ä¸€å¼€å§‹æˆ‘å‡Œä¹±äº†ï¼Œè€å¿ƒä¸‹æ¥åšäº†å‡ ä¸ªå®éªŒæ‰èˆ’ç¼“è›‹ç–¼çš„å¿ƒæƒ…</p>
<p>å®éªŒä»£ç å¦‚ä¸‹ï¼Œé€šè¿‡åˆ†åˆ«æ³¨é‡ŠclosePath å’ŒbeginPathçœ‹fill stoke å’Œfill strokeç»“åˆä¸‹ç”»å‡ºæ¥çš„ä¸¤ä¸ª1/4å¼§çº¿è¾¾åˆ°å®éªŒæ•ˆæœ</p>
<pre><code>View Code 
   function draw23(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&apos;2d&apos;);
         var n = 0;

         //å·¦ä¾§1/4åœ†å¼§
         context.beginPath();
         context.arc(100, 150, 50, 0, Math.PI/2 , false);
         context.fillStyle = &apos;rgba(255,0,0,0.25)&apos;;
         context.fill();
         context.strokeStyle = &apos;rgba(255,0,0,0.25)&apos;
         context.closePath();
         context.stroke();

         //å³ä¾§1/4åœ†å¼§
         context.beginPath();
         context.arc(300, 150, 50, 0, Math.PI/2 , false);
         context.fillStyle = &apos;rgba(255,0,0,0.25)&apos;;
         context.fill();
         context.strokeStyle = &apos;rgba(255,0,0,0.25)&apos;;
         context.closePath();
         context.stroke();
     } 
</code></pre><p>å®éªŒç»“æœå¦‚ä¸‹ï¼š<br> <img src="http://www.uml.org.cn/html/images/2012082245.png" alt="Mou"><br> å¾—å‡ºçš„ç»“è®ºæœ‰ï¼š*å·ä¸ºé‡ç‚¹</p>
<p>1ã€ç³»ç»Ÿé»˜è®¤åœ¨ç»˜åˆ¶ç¬¬ä¸€ä¸ªè·¯å¾„çš„å¼€å§‹ç‚¹ä¸ºbeginPath</p>
<p>*2ã€å¦‚æœç”»å®Œå‰é¢çš„è·¯å¾„æ²¡æœ‰é‡æ–°æŒ‡å®šbeginPathï¼Œé‚£ä¹ˆç”»ç¬¬å…¶ä»–è·¯å¾„çš„æ—¶å€™ä¼šå°†å‰é¢æœ€è¿‘æŒ‡å®šçš„beginPathåçš„å…¨éƒ¨è·¯å¾„é‡æ–°ç»˜åˆ¶</p>
<p>3ã€æ¯æ¬¡è°ƒç”¨context.fillï¼ˆï¼‰çš„æ—¶å€™ä¼šè‡ªåŠ¨æŠŠå½“æ¬¡ç»˜åˆ¶çš„è·¯å¾„çš„å¼€å§‹ç‚¹å’Œç»“æŸç‚¹ç›¸è¿ï¼Œæ¥ç€å¡«å……å°é—­çš„éƒ¨åˆ†</p>
<p>psï¼šä¹¦æœ¬çš„ç»“è®ºæ˜¯ å¦‚æœæ²¡æœ‰closePathé‚£ä¹ˆå‰é¢çš„è·¯åŠ²ä¼šä¿ç•™ï¼Œå®éªŒè¯æ˜æ­£ç¡®çš„ç»“è®ºæ˜¯ å¦‚æœæ²¡æœ‰é‡æ–°beginPathé‚£ä¹ˆå‰é¢çš„è·¯åŠ²ä¼šä¿ç•™</p>
<p>ps1ï¼šå¦‚æœä½ çœŸå¿ƒå‡Œä¹±äº†ï¼Œé‚£ä¹ˆè®°ä½æ¯æ¬¡ç”»è·¯å¾„éƒ½åœ¨å‰ååŠ context.beginPath() å’Œcontext.closePath()å°±è¡Œ</p>
<p>ç»˜åˆ¶çº¿æ®µ context.moveTo(x,y) context.lineTo(x,y)</p>
<p>x:xåæ ‡</p>
<p>y:yåæ ‡</p>
<p>æ¯æ¬¡ç”»çº¿éƒ½ä»moveToçš„ç‚¹åˆ°lineToçš„ç‚¹ï¼Œ</p>
<p>å¦‚æœæ²¡æœ‰moveToé‚£ä¹ˆç¬¬ä¸€æ¬¡lineToçš„æ•ˆæœå’ŒmoveToä¸€æ ·ï¼Œ</p>
<p>æ¯æ¬¡lineToåå¦‚æœæ²¡æœ‰moveToï¼Œé‚£ä¹ˆä¸‹æ¬¡lineToçš„å¼€å§‹ç‚¹ä¸ºå‰ä¸€æ¬¡lineToçš„ç»“æŸç‚¹</p>
<pre><code>View Code 
 function draw8(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         //context.beginPath();
         context.strokeStyle = &quot;rgb(250,0,0)&quot;;
         context.fillStyle = &quot;rgb(250,0,0)&quot;
         //å®éªŒè¯æ˜ç¬¬ä¸€æ¬¡lineToçš„æ—¶å€™å’ŒmoveToåŠŸèƒ½ä¸€æ ·
         context.lineTo(100, 100);
         //ä¹‹åçš„lineToä¼šä»¥ä¸Šæ¬¡lineToçš„èŠ‚ç‚¹ä¸ºå¼€å§‹
         context.lineTo(200, 200);
         context.lineTo(200, 100);
         context.moveTo(200, 50);
         context.lineTo(100,50);
         context.stroke();
     } 
</code></pre><p> <img src="http://www.uml.org.cn/html/images/2012082246.png" alt="Mou"></p>
<p> ä¸‹é¢ç»™å‡ºä¹¦æœ¬çš„ä¾‹å­ï¼Œä¸€æœµç»¿è‰²çš„èŠèŠ±ï¼Œæ¶‰åŠæ•°å­¦ï¼Œä¸å¤šè§£æï¼Œæœ‰å…´è¶£çš„è‡ªå·±ç ”ç©¶</p>
<pre><code>View Code 
   function draw1(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0, 0, 400, 300);
         var n = 0;
         var dx = 150;
         var dy = 150;
         var s = 100;
         context.beginPath();
         context.fillStyle = &apos;rgb(100,255,100)&apos;;
         context.strokeStyle = &apos;rgb(0,0,100)&apos;;
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 15 * 11;
         for (var i = 0; i &lt; 30; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.lineTo(dx + x * s, dy + y * s);
         }
         context.closePath();
         context.fill();
         context.stroke();

     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/2012082247.png" alt="Mou"></p>
<h3 id="ç»˜åˆ¶è´å¡å°”æ›²çº¿"><a href="#ç»˜åˆ¶è´å¡å°”æ›²çº¿" class="headerlink" title="ç»˜åˆ¶è´å¡å°”æ›²çº¿"></a>ç»˜åˆ¶è´å¡å°”æ›²çº¿</h3><p>ï¼ˆè´æµåŸƒã€bezierï¼‰ context.bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y)</p>
<p>ç»˜åˆ¶äºŒæ¬¡æ ·æ¡æ›²çº¿ context.quadraticCurveTo(qcpx,qcpy,qx,qy)</p>
<p>cp1x:ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹xåæ ‡</p>
<p>cp1y:ç¬¬ä¸€ä¸ªæ§åˆ¶ç‚¹yåæ ‡</p>
<p>cp2x:ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹xåæ ‡</p>
<p>cp2y:ç¬¬äºŒä¸ªæ§åˆ¶ç‚¹yåæ ‡</p>
<p>x:ç»ˆç‚¹xåæ ‡</p>
<p>y:ç»ˆç‚¹yåæ ‡</p>
<p>qcpx:äºŒæ¬¡æ ·æ¡æ›²çº¿æ§åˆ¶ç‚¹xåæ ‡</p>
<p>qcpy:äºŒæ¬¡æ ·æ¡æ›²çº¿æ§åˆ¶ç‚¹yåæ ‡</p>
<p>qx:äºŒæ¬¡æ ·æ¡æ›²çº¿ç»ˆç‚¹xåæ ‡</p>
<p>qy:äºŒæ¬¡æ ·æ¡æ›²çº¿ç»ˆç‚¹yåæ ‡</p>
<pre><code>View Code 
     function draw24(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&quot;2d&quot;);

         context.moveTo(50, 50);
         context.bezierCurveTo(50, 50,150, 50, 150, 150);
         context.stroke();
         context.quadraticCurveTo(150, 250, 250, 250);
         context.stroke();
     } 
</code></pre><p>  <img src="http://www.uml.org.cn/html/images/2012082248.png" alt="Mou"><br>  ä¸‹é¢ç»™å‡ºä¹¦æœ¬çš„ä¾‹å­ï¼Œä¸€æœµæ‰­æ›²çš„ç»¿è‰²èŠèŠ±â€¦ç¼–ä¹¦è¿™å“¥ä»¬å¯¹èŠèŠ±æƒ…æœ‰ç‹¬é’Ÿå•Š- -</p>
<pre><code>View Code 
     function draw2(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEFF&quot;;
         context.fillRect(0, 0, 400, 300);
         var n = 0;
         var dx = 150;
         var dy = 150;
         var s = 100;
         context.beginPath();
         context.globalCompositeOperation = &apos;and&apos;;
         context.fillStyle = &apos;rgb(100,255,100)&apos;;
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 15 * 11;
         context.moveTo(dx, dy);
         for (var i = 0; i &lt; 30; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.bezierCurveTo(dx + x * s, dy + y * s - 100, dx + x * s + 100, dy + y * s, dx + x * s, 
              dy + y * s);
         }
         context.closePath();
         context.fill();
         context.stroke();
     }   
</code></pre><p>  <img src="http://www.uml.org.cn/html/images/2012082249.png" alt="Mou">    </p>
<h3 id="çº¿æ€§æ¸å˜"><a href="#çº¿æ€§æ¸å˜" class="headerlink" title="çº¿æ€§æ¸å˜"></a>çº¿æ€§æ¸å˜</h3><p>var lg= context.createLinearGradient(xStart,yStart,xEnd,yEnd)</p>
<p>çº¿æ€§æ¸å˜é¢œè‰²lg.addColorStop(offset,color)</p>
<p>xstart:æ¸å˜å¼€å§‹ç‚¹xåæ ‡</p>
<p>ystart:æ¸å˜å¼€å§‹ç‚¹yåæ ‡</p>
<p>xEnd:æ¸å˜ç»“æŸç‚¹xåæ ‡</p>
<p>yEnd:æ¸å˜ç»“æŸç‚¹yåæ ‡</p>
<p>offset:è®¾å®šçš„é¢œè‰²ç¦»æ¸å˜ç»“æŸç‚¹çš„åç§»é‡(0~1)</p>
<p>color:ç»˜åˆ¶æ—¶è¦ä½¿ç”¨çš„é¢œè‰²</p>
<p>ç»™å‡ºä¹¦æœ¬åç§»é‡çš„è§£æå›¾ï¼Œä»å›¾å¯ä»¥çœ‹å‡ºçº¿æ€§æ¸å˜å¯ä»¥æ˜¯ä¸¤ç§ä»¥ä¸Šé¢œè‰²çš„æ¸å˜</p>
<p><img src="http://www.uml.org.cn/html/images/20120822410.png" alt="Mou">  </p>
<pre><code>View Code 
     function draw25(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&apos;2d&apos;);
         var g1 = context.createLinearGradient(0, 0, 0, 300);

         g1.addColorStop(0, &apos;rgb(255,0,0)&apos;); //çº¢ 
         g1.addColorStop(0.5, &apos;rgb(0,255,0)&apos;);//ç»¿
         g1.addColorStop(1, &apos;rgb(0,0,255)&apos;); //è“

         //å¯ä»¥æŠŠlgå¯¹è±¡ç†è§£æˆGDIä¸­çº¿æ€§brush
         context.fillStyle = g1;
         //å†ç”¨è¿™ä¸ªbrushæ¥ç”»æ­£æ–¹å½¢
          context.fillRect(0, 0, 400, 300); 
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822411.png" alt="Mou">  </p>
<h3 id="å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰"><a href="#å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰" class="headerlink" title="å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰"></a>å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰</h3><p>var rg=context.createRadialGradient(xStart,yStart,radiusStart,xEnd,yEnd,radiusEnd)</p>
<p>å¾„å‘æ¸å˜ï¼ˆå‘æ•£ï¼‰é¢œè‰²rg.addColorStop(offset,color)</p>
<p>xStart:å‘æ•£å¼€å§‹åœ†å¿ƒxåæ ‡</p>
<p>yStart:å‘æ•£å¼€å§‹åœ†å¿ƒyåæ ‡</p>
<p>radiusStart:å‘æ•£å¼€å§‹åœ†çš„åŠå¾„</p>
<p>xEnd:å‘æ•£ç»“æŸåœ†å¿ƒçš„xåæ ‡</p>
<p>yEnd:å‘æ•£ç»“æŸåœ†å¿ƒçš„yåæ ‡</p>
<p>radiusEnd:å‘æ•£ç»“æŸåœ†çš„åŠå¾„</p>
<p>offset:è®¾å®šçš„é¢œè‰²ç¦»æ¸å˜ç»“æŸç‚¹çš„åç§»é‡(0~1)</p>
<p>color:ç»˜åˆ¶æ—¶è¦ä½¿ç”¨çš„é¢œè‰²</p>
<p>ä¹¦æœ¬å¹¶æ²¡æœ‰ç»™å‡ºå‘æ•£åç§»é‡çš„å›¾ï¼Œç‰¹åœ°ç”»äº†å¹…ï¼š</p>
<p><img src="http://www.uml.org.cn/html/images/20120822412.png" alt="Mou"><br>ä¸‹é¢ç»™å‡ºä¸¤ä¸ªå®éªŒ</p>
<pre><code>View Code 
     function draw26(id) {
         //åŒä¸€ä¸ªåœ†å¿ƒç”»çƒå‹
         /*var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&apos;2d&apos;);
         var g1 = context.createRadialGradient(200, 150, 0, 200, 150, 100);
         g1.addColorStop(0.1, &apos;rgb(255,0,0)&apos;);  
         g1.addColorStop(1, &apos;rgb(50,0,0)&apos;);
         context.fillStyle = g1;
         context.beginPath();
         context.arc(200, 150, 100, 0, Math.PI * 2, true);
         context.closePath();
         context.fill();*/

         //ä¸åŒåœ†å¿ƒçœ‹å¾„å‘æ¸å˜æ¨¡å‹
         var canvas = document.getElementById(id);
         if (canvas == null)
         return false;
         var context = canvas.getContext(&apos;2d&apos;);
         var g1 = context.createRadialGradient(100, 150, 10, 300, 150, 50);
         g1.addColorStop(0.1, &apos;rgb(255,0,0)&apos;);
         g1.addColorStop(0.5, &apos;rgb(0,255,0)&apos;);
         g1.addColorStop(1, &apos;rgb(0,0,255)&apos;);
         context.fillStyle = g1;
         context.fillRect(0, 0, 400, 300);

     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822413.png" alt="Mou">   </p>
<p><img src="http://www.uml.org.cn/html/images/20120822414.png" alt="Mou">   </p>
<h3 id="å›¾å½¢å˜å½¢"><a href="#å›¾å½¢å˜å½¢" class="headerlink" title="å›¾å½¢å˜å½¢"></a>å›¾å½¢å˜å½¢</h3><p>1ã€å¹³ç§»context.translate(x,y)</p>
<p>x:åæ ‡åŸç‚¹å‘xè½´æ–¹å‘å¹³ç§»x</p>
<p>y:åæ ‡åŸç‚¹å‘yè½´æ–¹å‘å¹³ç§»y</p>
<p>2ã€ç¼©æ”¾context.scale(x,y)</p>
<p>x:xåæ ‡è½´æŒ‰xæ¯”ä¾‹ç¼©æ”¾</p>
<p>y:yåæ ‡è½´æŒ‰yæ¯”ä¾‹ç¼©æ”¾</p>
<p>3ã€æ—‹è½¬context.rotate(angle)</p>
<p>angle:åæ ‡è½´æ—‹è½¬xè§’åº¦ï¼ˆè§’åº¦å˜åŒ–æ¨¡å‹å’Œç”»åœ†çš„æ¨¡å‹ä¸€æ ·ï¼‰</p>
<pre><code>View Code 
     function draw5(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;


         var context = canvas.getContext(&quot;2d&quot;);
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0, 0, 400, 300);

         context.fillStyle = &quot;rgba(255,0,0,0.1)&quot;;
         //å¹³ç§» ç¼©æ”¾ æ—‹è½¬  1 2 3        
         context.translate(100, 100);
         context.scale(0.5, 0.5);
         context.rotate(Math.PI / 4);
         context.fillRect(0, 0, 100, 100);


         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€,ä¿å­˜æ¢å¤åªèƒ½ä½¿ç”¨ä¸€æ¬¡
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.2)&quot;;
         //å¹³ç§» æ—‹è½¬ ç¼©æ”¾ 1 3 2
         context.translate(100, 100);
         context.rotate(Math.PI / 4);
         context.scale(0.5, 0.5);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.3)&quot;;
         //ç¼©æ”¾ å¹³ç§» æ—‹è½¬ 2 1 3 
         context.scale(0.5, 0.5);
         context.translate(100, 100);
         context.rotate(Math.PI / 4);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.4)&quot;;
         //ç¼©æ”¾ æ—‹è½¬ å¹³ç§»  2 3  1 
         context.scale(0.5, 0.5);
         context.rotate(Math.PI / 4);
         context.translate(100, 100);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,0.5)&quot;;
         //æ—‹è½¬ å¹³ç§» ç¼©æ”¾  3 1 2 
         context.rotate(Math.PI / 4);
         context.translate(100, 100);
         context.scale(0.5, 0.5);
         context.fillRect(0, 0, 100, 100);

         context.restore(); //æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;rgba(255,0,0,1)&quot;;
         //æ—‹è½¬ ç¼©æ”¾ å¹³ç§»   3 2 1 
         context.rotate(Math.PI / 4);
         context.scale(0.5, 0.5);
         context.translate(100, 100);
         context.fillRect(0, 0, 100, 100);

         //å®éªŒè¡¨æ˜åº”è¯¥ç§»åŠ¨çš„æ˜¯åæ ‡è½´
         //å®éªŒè¡¨æ˜ç¼©æ”¾çš„æ˜¯åæ ‡è½´æ¯”ä¾‹
         //å®éªŒè¡¨æ˜æ—‹è½¬çš„æ˜¯åæ ‡è½´
         //ç»¼åˆä¸Šè¿°ï¼Œå› æ­¤å¹³ç§» ç¼©æ”¾ æ—‹è½¬ ä¸‰è€…çš„é¡ºåºä¸åŒéƒ½å°†ç”»å‡ºä¸åŒçš„ç»“æœ
     } 
</code></pre><p>ç”±äºï¼ˆå¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬ï¼‰å’Œï¼ˆå¹³ç§»ï¼Œæ—‹è½¬ï¼Œç¼©æ”¾ï¼‰ä¸€æ ·</p>
<p>ï¼ˆç¼©æ”¾ï¼Œé€‰è£…ï¼Œå¹³ç§»ï¼‰å’Œï¼ˆæ—‹è½¬ï¼Œç¼©æ”¾ï¼Œå¹³ç§»ï¼‰ä¸€æ ·</p>
<p>æ‰€ä»¥å®éªŒç»“æœåªèƒ½çœ‹åˆ°â€œ4â€ä¸­æƒ…å†µï¼Œå…¶å®æ˜¯æœ‰ä¸¤ç§æƒ…å†µè¢«è¦†ç›–äº†</p>
<p><img src="http://www.uml.org.cn/html/images/20120822415.png" alt="Mou"><br>ä¸‹é¢ç»™å‡ºå¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬å…ˆåé¡ºåºä¸åŒï¼Œåæ ‡è½´çš„å˜åŒ–å›¾<br><img src="http://www.uml.org.cn/html/images/20120822416.png" alt="Mou">   </p>
<h3 id="çŸ©é˜µå˜æ¢"><a href="#çŸ©é˜µå˜æ¢" class="headerlink" title="çŸ©é˜µå˜æ¢"></a>çŸ©é˜µå˜æ¢</h3><p>context.transform(m11,m12,m21,m22,dx,dy)</p>
<p>æ‰€è°“çš„çŸ©é˜µå˜æ¢å…¶å®æ˜¯contextå†…å®ç°å¹³ç§»ï¼Œç¼©æ”¾ï¼Œæ—‹è½¬çš„ä¸€ç§æœºåˆ¶</p>
<p>ä»–çš„ä¸»è¦åŸç†å°±æ˜¯çŸ©é˜µç›¸ä¹˜</p>
<p>é¢ï¼Œè¦è®²è§£è¿™ä¸ªå¯ä»¥å¦å¼€ä¸€ä¸ªç¯‡å¹…ï¼Œåº†å¹¸çš„æ˜¯å·²ç»æœ‰äººåšäº†æ€»ç»“ï¼Œå¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« </p>
<p><a href="http://hi.baidu.com/100912bb_bb/item/90c4a7489518b0fa1281daf1" target="_blank" rel="external">http://hi.baidu.com/100912bb_bb/item/90c4a7489518b0fa1281daf1</a></p>
<p>æˆ‘ä»¬éœ€è¦äº†è§£çš„æ˜¯</p>
<p>context.translate(x,y) ç­‰åŒäºcontext.transform (1,0,0,1,x,y)æˆ–context.transform(0,1,1,0.x,y)</p>
<p>context.scale(x,y)ç­‰åŒäºcontext.transform(x,0,0,y,0,0)æˆ–context.transform (0,y,x,0, 0,0);</p>
<p>context.rotate(Î¸)ç­‰åŒäº context.transform(Math.cos(Î¸<em>Math.PI/180)ï¼ŒMath.sin(Î¸</em>Math.PI/180), -Math.sin(Î¸<em>Math.PI/180),Math.cos(Î¸</em>Math.PI/180)ï¼Œ0ï¼Œ0ï¼‰ æˆ– context.transform(-Math.sin(Î¸<em>Math.PI/180),Math.cos(Î¸</em>Math.PI/180)ï¼Œ Math.cos(Î¸<em>Math.PI/180)ï¼ŒMath.sin(Î¸</em>Math.PI/180), 0ï¼Œ0ï¼‰</p>
<h3 id="å›¾å½¢ç»„åˆ"><a href="#å›¾å½¢ç»„åˆ" class="headerlink" title="å›¾å½¢ç»„åˆ"></a>å›¾å½¢ç»„åˆ</h3><p>context.globalCompositeOperation=type</p>
<p>å›¾å½¢ç»„åˆå°±æ˜¯ä¸¤ä¸ªå›¾å½¢ç›¸äº’å åŠ äº†å›¾å½¢çš„è¡¨ç°å½¢å¼,æ˜¯åç”»çš„è¦†ç›–æ‰å…ˆç”»çš„å‘¢ï¼Œè¿˜æ˜¯ç›¸äº’é‡å çš„éƒ¨åˆ†ä¸æ˜¾ç¤ºç­‰ç­‰ï¼Œè‡³äºæ€ä¹ˆæ˜¾ç¤ºå°±å–å†³äºtypeçš„å€¼äº†</p>
<p>typeï¼š</p>
<p>source-overï¼ˆé»˜è®¤å€¼ï¼‰:åœ¨åŸæœ‰å›¾å½¢ä¸Šç»˜åˆ¶æ–°å›¾å½¢</p>
<p>destination-over:åœ¨åŸæœ‰å›¾å½¢ä¸‹ç»˜åˆ¶æ–°å›¾å½¢</p>
<p>source-in:æ˜¾ç¤ºåŸæœ‰å›¾å½¢å’Œæ–°å›¾å½¢çš„äº¤é›†ï¼Œæ–°å›¾å½¢åœ¨ä¸Šï¼Œæ‰€ä»¥é¢œè‰²ä¸ºæ–°å›¾å½¢çš„é¢œè‰²</p>
<p>destination-in:æ˜¾ç¤ºåŸæœ‰å›¾å½¢å’Œæ–°å›¾å½¢çš„äº¤é›†ï¼ŒåŸæœ‰å›¾å½¢åœ¨ä¸Šï¼Œæ‰€ä»¥é¢œè‰²ä¸ºåŸæœ‰å›¾å½¢çš„é¢œè‰²</p>
<p>source-out:åªæ˜¾ç¤ºæ–°å›¾å½¢éäº¤é›†éƒ¨åˆ†</p>
<p>destination-out:åªæ˜¾ç¤ºåŸæœ‰å›¾å½¢éäº¤é›†éƒ¨åˆ†</p>
<p>source-atop:æ˜¾ç¤ºåŸæœ‰å›¾å½¢å’Œäº¤é›†éƒ¨åˆ†ï¼Œæ–°å›¾å½¢åœ¨ä¸Šï¼Œæ‰€ä»¥äº¤é›†éƒ¨åˆ†çš„é¢œè‰²ä¸ºæ–°å›¾å½¢çš„é¢œè‰²</p>
<p>destination-atop:æ˜¾ç¤ºæ–°å›¾å½¢å’Œäº¤é›†éƒ¨åˆ†ï¼Œæ–°å›¾å½¢åœ¨ä¸‹ï¼Œæ‰€ä»¥äº¤é›†éƒ¨åˆ†çš„é¢œè‰²ä¸ºåŸæœ‰å›¾å½¢çš„é¢œè‰²</p>
<p>lighter:åŸæœ‰å›¾å½¢å’Œæ–°å›¾å½¢éƒ½æ˜¾ç¤ºï¼Œäº¤é›†éƒ¨åˆ†åšé¢œè‰²å åŠ </p>
<p>xor:é‡å é£éƒ¨åˆ†ä¸ç°å®</p>
<p>copy:åªæ˜¾ç¤ºæ–°å›¾å½¢</p>
<p>æ–‡å­—çœ‹å¾—äººçœ¼èŠ±ç¼­ä¹±ï¼Œç‰¹æ„ç”»å›¾ä¸€å¼ ï¼šå›å¤´ä¸€çœ‹æƒŠè§‰æ‰“é”™å­—ï¼Œå›¾ç‰‡çš„åŸå‹ä¸ºåœ†å½¢ï¼Œä½ æ‡‚çš„- -<br><img src="http://www.uml.org.cn/html/images/20120822417.png" alt="Mou"><br>ä»¥ä¸‹ä¸ºå®éªŒä»£ç </p>
<pre><code>View Code 
     function draw10(id) {
         var canvas = document.getElementById(id);
         if (canvas == null) {
             return false;
         }
         var context = canvas.getContext(&quot;2d&quot;);
         var oprtns = new Array(
         &quot;source-over&quot;,
         &quot;destination-over&quot;,
         &quot;source-in&quot;,
         &quot;destination-in&quot;,
         &quot;source-out&quot;,
         &quot;destination-out&quot;,
         &quot;source-atop&quot;,
         &quot;destination-atop&quot;,
         &quot;lighter&quot;,
         &quot;xor&quot;,         
         &quot;copy&quot;
         );
        var i = 0;//ç»„åˆæ•ˆæœç¼–å·

        //ç»“åˆsetintervalåŠ¨æ€æ˜¾ç¤ºç»„åˆ
        var interal = setInterval(function () {
            if (i == 10) {
                i=0;
            }
            else {
                i++;
            }
            //è“è‰²çŸ©å½¢
            context.fillStyle = &quot;blue&quot;;
            context.fillRect(10, 10, 60, 60);
            //è®¾ç½®ç»„åˆæ–¹å¼ 
            context.globalCompositeOperation = oprtns[i];
            //è®¾ç½®æ–°å›¾å½¢ï¼ˆçº¢è‰²åœ†å½¢ï¼‰
            context.beginPath();
            context.fillStyle = &quot;red&quot;;
            context.arc(60, 60, 30, 0, Math.PI * 2, false);
            context.fill();
       }, 1000);

     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822418.png" alt="Mou"><br>ç»™å›¾å½¢ç»˜åˆ¶é˜´å½±</p>
<p>context.shadowOffsetX :é˜´å½±çš„æ¨ªå‘ä½ç§»é‡ï¼ˆé»˜è®¤å€¼ä¸º0ï¼‰</p>
<p>context.shadowOffsetY :é˜´å½±çš„çºµå‘ä½ç§»é‡ï¼ˆé»˜è®¤å€¼ä¸º0ï¼‰</p>
<p>context.shadowColor :é˜´å½±çš„é¢œè‰²</p>
<p>context.shadowBlur :é˜´å½±çš„æ¨¡ç³ŠèŒƒå›´ï¼ˆå€¼è¶Šå¤§è¶Šæ¨¡ç³Šï¼‰</p>
<p>å…ˆæ¥ä¸ªç®€å•çš„ä¾‹å­</p>
<pre><code>View Code 
     function draw27(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&apos;2d&apos;);
         context.shadowOffsetX = 10;
         context.shadowOffsetY = 10;
         context.shadowColor = &apos;rgba(100,100,100,0.5)&apos;;
         context.shadowBlur = 1.5;
         context.fillStyle = &apos;rgba(255,0,0,0.5)&apos;;
         context.fillRect(100, 100, 200, 100);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822419.png" alt="Mou"><br>å†æ¥ä¸ªä¹¦æœ¬ä¸Šçš„äº”è§’æ˜Ÿçš„ä¾‹å­</p>
<pre><code>View Code 
     function create5Star(context) {
         var n = 0;
         var dx = 100;
         var dy = 0;

         var s = 50;
         //åˆ›å»ºè·¯å¾„
         context.beginPath();
         context.fillStyle = &apos;rgba(255,0,0,0.5)&apos;;
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 5 * 4;
         for (var i = 0; i &lt; 5; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.lineTo(dx + x * s, dy + y * s);

         }
         context.closePath();

     }

     function draw11(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0, 0, 400, 300);

         context.shadowOffsetX = 10;
         context.shadowOffsetY = 10;
         context.shadowColor = &apos;rgba(100,100,100,0.5)&apos;;
         context.shadowBlur =5;
         //å›¾å½¢ç»˜åˆ¶
         context.translate(0, 50);
         for (var i = 0; i &lt; 3; i++) {
             context.translate(50, 50);
             create5Star(context);
             context.fill();
         }
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822420.png" alt="Mou"> </p>
<h3 id="ç»˜åˆ¶å›¾åƒ"><a href="#ç»˜åˆ¶å›¾åƒ" class="headerlink" title="ç»˜åˆ¶å›¾åƒ"></a>ç»˜åˆ¶å›¾åƒ</h3><p>ç»˜å›¾ï¼šcontext.drawImage</p>
<p>å›¾åƒå¹³é“ºï¼šcontext.createPattern(image,type)</p>
<p>å›¾åƒè£å‰ªï¼šcontext.clip()</p>
<p>åƒç´ å¤„ç†ï¼švar imagedata=context.getImageData(sx,sy,sw,sh)</p>
<p>ç»˜å›¾ context.drawImage</p>
<p>context.drawImage(image,x,y)</p>
<p>image:Imageå¯¹è±¡var img=new Image(); img.src=â€url(â€¦)â€;</p>
<p>x:ç»˜åˆ¶å›¾åƒçš„xåæ ‡</p>
<p>y:ç»˜åˆ¶å›¾åƒçš„yåæ ‡</p>
<p>context.drawImage(image,x,y,w,h)</p>
<p>image:Imageå¯¹è±¡var img=new Image(); img.src=â€url(â€¦)â€;</p>
<p>x:ç»˜åˆ¶å›¾åƒçš„xåæ ‡</p>
<p>y:ç»˜åˆ¶å›¾åƒçš„yåæ ‡</p>
<p>w:ç»˜åˆ¶å›¾åƒçš„å®½åº¦</p>
<p>h:ç»˜åˆ¶å›¾åƒçš„é«˜åº¦</p>
<p>context.drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh):é€‰å–å›¾åƒçš„ä¸€éƒ¨åˆ†çŸ©å½¢åŒºåŸŸè¿›è¡Œç»˜åˆ¶</p>
<p>image:Imageå¯¹è±¡var img=new Image(); img.src=â€url(â€¦)â€;</p>
<p>sxï¼šå›¾åƒä¸Šçš„xåæ ‡</p>
<p>syï¼šå›¾åƒä¸Šçš„yåæ ‡</p>
<p>swï¼šçŸ©å½¢åŒºåŸŸçš„å®½åº¦</p>
<p>shï¼šçŸ©å½¢åŒºåŸŸçš„é«˜åº¦</p>
<p>dxï¼šç”»åœ¨canvasçš„xåæ ‡</p>
<p>dyï¼šç”»åœ¨canvasçš„yåæ ‡</p>
<p>dwï¼šç”»å‡ºæ¥çš„å®½åº¦</p>
<p>dhï¼šç”»å‡ºæ¥çš„é«˜åº¦</p>
<p>æœ€åä¸€ä¸ªæ–¹æ³•å¯èƒ½æ¯”è¾ƒæ‹—ï¼Œè¿˜æ˜¯ä¸Šå›¾å§<br><img src="http://www.uml.org.cn/html/images/20120822421.png" alt="Mou"> </p>
<pre><code>   View Code 
    //drawImage(image,x,y)
    function draw28(id) {

    var image = new Image();

    image.src = &quot;Image/html5.jpg&quot;;
    var canvas = document.getElementById(id);

    if (canvas == null)
        return false;
    var context = canvas.getContext(&quot;2d&quot;);
    context.fillStyle = &quot;#EEEEFF&quot;;

    context.fillRect(0, 0, 400, 300);
    image.onload = function () {
        context.drawImage(image,0,0);
    }
}

//drawImage(image,x,y,w,h)
function draw12(id) {

    var image = new Image();

    image.src = &quot;Image/html5.jpg&quot;;
    var canvas = document.getElementById(id);

    if (canvas == null)
        return false;
    var context = canvas.getContext(&quot;2d&quot;);
    context.fillStyle = &quot;#EEEEFF&quot;;

    context.fillRect(0, 0, 400, 300);
    image.onload = function () {
        context.drawImage(image, 50, 50, 300, 200);
    }
}

//drawImage(image,sx,sy,sw,sh,dx,dy,dw,dh)
function draw13(id){
    var image = new Image();
    image.src = &quot;Image/html5.jpg&quot;;
    var canvas = document.getElementById(id);

    if (canvas == null)
        return false;
    var context = canvas.getContext(&quot;2d&quot;);
    context.fillStyle = &quot;#EEEEFF&quot;;

    context.fillRect(0, 0, 400, 300);
    image.onload = function () {
        context.drawImage(image, 100, 100, 200, 150,50,50,300,200);//è¿™é‡Œå–çš„æ˜¯å®é™…å°ºå¯¸
    }
} 
</code></pre><p>ä¸‰ä¸ªæ–¹æ³•çš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼š<br><img src="http://www.uml.org.cn/html/images/20120822422.png" alt="Mou"><br><img src="http://www.uml.org.cn/html/images/20120822423.png" alt="Mou"><br><img src="http://www.uml.org.cn/html/images/20120822424.png" alt="Mou"> </p>
<h3 id="å›¾åƒå¹³é“º"><a href="#å›¾åƒå¹³é“º" class="headerlink" title="å›¾åƒå¹³é“º"></a>å›¾åƒå¹³é“º</h3><p>context.createPattern(image,type)</p>
<p>type:</p>
<p>no-repeat:ä¸å¹³é“º</p>
<p>repeat-x:æ¨ªæ–¹å‘å¹³é“º</p>
<p>repeat-y:çºµæ–¹å‘å¹³é“º</p>
<p>repeat:å…¨æ–¹å‘å¹³é“º</p>
<p>ç±»ä¼¼å›¾å½¢ç»„åˆï¼Œç»™å‡ºåŠ¨æ€çš„åˆ‡æ¢å¹³é“ºç±»å‹ä»£ç </p>
<pre><code>View Code 
     function draw14(id) {
         //ä¼ ç»Ÿçš„å¹³é“ºæ˜¯ç”¨forå¾ªç¯æ¥å¤„ç†çš„ï¼Œç°åœ¨ç›´æ¥è°ƒç”¨æ¥å£
         var image = new Image();
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         var type = [&quot;no-repeat&quot;, &quot;repeat-x&quot;, &quot;repeat-y&quot;, &quot;repeat&quot;];
         var i = 0;
         image.src = &quot;Image/wordslogo.jpg&quot;;
         image.onload = function () {
             var interval = setInterval(function () {
                 //æ¯æ¬¡è½¬æ¢å¹³é“ºç±»å‹æ¸…ç©º
                 context.clearRect(0, 0, 400, 300);
                 if (i &gt;= 4) {
                     i = 0;
                 }
                 var ptrn = context.createPattern(image, type[i]);
                 context.fillStyle = ptrn;
                 context.fillRect(0, 0, 400, 300);
                 i++;
             }, 1000);
         };
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822424.png" alt="Mou"> </p>
<h3 id="å›¾åƒè£å‰ªï¼š"><a href="#å›¾åƒè£å‰ªï¼š" class="headerlink" title="å›¾åƒè£å‰ªï¼š"></a>å›¾åƒè£å‰ªï¼š</h3><p>context.clip()</p>
<p>context.clip()åªç»˜åˆ¶å°é—­è·¯å¾„åŒºåŸŸå†…çš„å›¾åƒï¼Œä¸ç»˜åˆ¶è·¯å¾„å¤–éƒ¨å›¾åƒï¼Œç”¨çš„æ—¶å€™</p>
<p>å…ˆåˆ›å»ºè£å‰ªåŒºåŸŸ</p>
<p>å†ç»˜åˆ¶å›¾åƒï¼ˆä¹‹åç»˜åˆ¶çš„å›¾å½¢éƒ½ä¼šé‡‡ç”¨è¿™ä¸ªè£å‰ªåŒºåŸŸï¼Œè¦å–æ¶ˆè¿™ä¸ªè£å‰ªåŒºåŸŸå°±éœ€è¦ç”¨åˆ°ä¿å­˜æ¢å¤çŠ¶æ€ï¼Œä¸‹é¢æœ‰è®²ï¼‰</p>
<p>ç»™å‡ºåœ†å½¢å’Œæ˜Ÿå½¢çš„è£å‰ªä»£ç </p>
<pre><code>View Code 
     //å›¾åƒè£å‰ª
     function draw15(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;black&quot;;
         context.fillRect(0, 0, 400, 300);
         image = new Image();
         image.onload = function () {
             drawImg(context,image);
         }
         image.src = &quot;Image/html5.jpg&quot;
     }

     function drawImg(context, image) {
         //åœ†å½¢è£å‰ªåŒº
         //createCircleClip(context)
         //æ˜Ÿå½¢è£å‰ªåŒº
         create5StarClip(context);
         context.drawImage(image,0,0);
     }

     function createCircleClip(context) {
         context.beginPath();
         context.arc(200, 150, 100, 0, Math.PI * 2, true);
         context.closePath();
         context.clip();
     }

     function create5StarClip(context) {
         var n = 0;
         var dx = 200;
         var dy = 135;
         var s = 150;
         context.beginPath();
         var x = Math.sin(0);
         var y = Math.cos(0);
         var dig = Math.PI / 5 * 4;
         for (var i = 0; i &lt; 5; i++) {
             var x = Math.sin(i * dig);
             var y = Math.cos(i * dig);
             context.lineTo(dx + x * s, dy + y * s);
         }
         context.closePath();
         context.clip();
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822426.png" alt="Mou"><br><img src="http://www.uml.org.cn/html/images/20120822427.png" alt="Mou"> </p>
<h3 id="åƒç´ å¤„ç†ï¼š"><a href="#åƒç´ å¤„ç†ï¼š" class="headerlink" title="åƒç´ å¤„ç†ï¼š"></a>åƒç´ å¤„ç†ï¼š</h3><p>è·å–åƒç´ é¢œè‰²æ•°ç»„ï¼š var imagedata=context.getImageData(sx,sy,sw,sh)</p>
<p>sx:cavasçš„xè½´åæ ‡ç‚¹</p>
<p>sy:canvasçš„yè½´åæ ‡ç‚¹</p>
<p>sw:è·ç¦»xçš„å®½åº¦</p>
<p>sh:è·ç¦»yçš„é«˜åº¦</p>
<p>å¯ä»¥åˆ©ç”¨context.getImageDataè¿”å›çš„ä¸€ä¸ªåƒç´ é¢œè‰²æ•°ç»„ï¼Œé¡ºåºæ˜¯æ‰€å–åƒç´ èŒƒå›´çš„ä»å·¦åˆ°å³ï¼Œä»ä¸Šåˆ°ä¸‹ï¼Œæ•°ç»„çš„å…ƒç´ æ˜¯ï¼ˆæ‰€æœ‰å›¾å½¢ï¼ŒåŒ…æ‹¬å›¾ç‰‡ï¼Œå’Œç»˜åˆ¶çš„å›¾å½¢ï¼‰æ¯ä¸ªåƒç´ çš„rgba</p>
<p>[r1,g1,b1,a1,r2,g2,b2,a2â€¦]</p>
<p>è®¾ç½®åƒç´ é¢œè‰²ï¼šcontext.putImageData(imagedata,dx,dy,dirtyX,dirtyY,dirtyWidth,dirtyHeight)</p>
<p>å¯¹imagedataæ•°ç»„ä¸­çš„å„ä¸ªåƒç´ çš„rã€gã€bã€aå€¼è¿›è¡Œä¿®æ”¹ï¼Œå†è°ƒç”¨putImageDataæ–¹æ³•è¿›è¡Œç»˜åˆ¶</p>
<p>imagedata:ä¿®æ”¹åçš„imagedata</p>
<p>dx:é‡ç»˜å›¾åƒçš„èµ·ç‚¹æ¨ªåæ ‡ï¼ˆé‡ç»˜çš„èµ·ç‚¹å’ŒåŸæ¥çš„å›¾åƒä¸€è‡´çš„è¯å°±ä¼šæŠŠåŸæ¥çš„å›¾å½¢è¦†ç›–æ‰ï¼Œçœ‹èµ·æ¥å°±åƒæ˜¯åŸæ¥çš„å›¾åƒå˜æˆç°åœ¨çš„å›¾åƒä¸€æ ·ï¼‰</p>
<p>dy:é‡ç»˜å›¾åƒçš„èµ·ç‚¹çºµåæ ‡</p>
<p>//ä»¥ä¸‹å¯é€‰å‚æ•°ï¼Œè®¾ç½®é‡ç»˜çš„çŸ©å½¢èŒƒå›´ï¼Œå¦‚æœç¼ºçœï¼Œé»˜è®¤ä¼šé‡ç»˜æ‰€æœ‰çš„imegedata</p>
<p>dirtyX:çŸ©å½¢å·¦ä¸Šè§’xè½´åæ ‡</p>
<p>dirtyY:çŸ©å½¢å·¦ä¸Šè§’yè½´åæ ‡</p>
<p>dirtyWidth:çŸ©å½¢é•¿åº¦</p>
<p>dirtyHeight:çŸ©å½¢é«˜åº¦</p>
<pre><code>View Code 
     function draw16(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &apos;red&apos;
         //åœ¨å³ä¸‹è§’ç”»ä¸€ä¸ªæ­£æ–¹å½¢
         context.fillRect(250,250,150,50);
         var image = new Image();
         image.src = &quot;Image/html5.jpg&quot;;

         image.onload = function () {
             //åœ¨å·¦ä¸Šè§’ç”»ä¸€å¹…å›¾ç‰‡
             context.drawImage(image, 0, 0,200,200);

             //å®éªŒè¯æ˜imagedataå–çš„æ˜¯canvasæ‰€åœ¨èŒƒå›´ç”»çš„å›¾å½¢ï¼Œä¸æ­¢æ˜¯å›¾ç‰‡
             //ä¸ä¼šå–è¯¥åŒºåŸŸå†…æ˜¯ç©ºç™½çš„canvasçš„åƒç´ 
             var imagedata = context.getImageData(0, 0, 400, 300);

             //ä¿®æ”¹imagedata
             for (var i = 0, n = imagedata.data.length; i &lt; n; i += 4) {

                 imagedata.data[i + 0] = 255 - imagedata.data[i + 0]; //red;
                 imagedata.data[i + 1] = 255 - imagedata.data[i + 1]; //green
                 imagedata.data[i + 2] = 255 - imagedata.data[i + 2]; //blue
                 //imagedata.data[i + 3] = 255 - imagedata.data[i + 3]; //a
             }
             context.putImageData(imagedata, 0, 0);
         }
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822428.png" alt="Mou"> </p>
<h3 id="ç»˜åˆ¶æ–‡å­—"><a href="#ç»˜åˆ¶æ–‡å­—" class="headerlink" title="ç»˜åˆ¶æ–‡å­—"></a>ç»˜åˆ¶æ–‡å­—</h3><p>å¡«å……æ–‡å­—ï¼šcontext.fillText(text,x,y)</p>
<p>ç»˜åˆ¶æ–‡å­—è½®å»“ context.strokeText(text,x,y)</p>
<p>text:è¦ç»˜åˆ¶çš„æ–‡å­—</p>
<p>x:æ–‡å­—èµ·ç‚¹çš„xåæ ‡è½´</p>
<p>y:æ–‡å­—èµ·ç‚¹çš„yåæ ‡è½´</p>
<p>context.font:è®¾ç½®å­—ä½“æ ·å¼</p>
<p>context.textAlign:æ°´å¹³å¯¹é½æ–¹å¼</p>
<p>startã€endã€rightã€center</p>
<p>context.textBaseline:å‚ç›´å¯¹é½æ–¹å¼</p>
<p>topã€hangingã€middleã€alphabeticã€ideographicã€bottom</p>
<p>var length=context.measureText(text):è®¡ç®—å­—ä½“é•¿åº¦(px)é‚£ä¹ˆèƒ½ä¸èƒ½è®¡ç®—é«˜åº¦å•Šï¼Œå¾ˆé—æ†¾ï¼Œä¸èƒ½</p>
<pre><code>View Code 
     function draw17(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;#EEEEFF&quot;;
         context.fillRect(0,0,400,300);
         context.fillStyle = &quot;#00f&quot;;
         context.font = &quot;italic 30px sans-serif&quot;;
         context.textBaseline = &apos;top&apos;;
         //å¡«å……å­—ç¬¦ä¸²
         var txt=&quot;fillç¤ºä¾‹æ–‡å­—&quot;
         context.fillText(txt, 0, 0);
         var length=context.measureText(txt);
         context.fillText(&quot;é•¿&quot; + length.width + &quot;px&quot;, 0, 50);
         context.font = &quot;bolid 30px sans-serif&quot;;
         txt = &quot;strokeç¤ºä¾‹æ–‡å­—&quot;;
         length = context.measureText(txt);
         context.strokeText(txt,0,100);
         context.fillText(&quot;é•¿&quot; + length.width + &quot;px&quot;, 0, 150);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822429.png" alt="Mou"> </p>
<h3 id="ä¿å­˜å’Œæ¢å¤çŠ¶æ€"><a href="#ä¿å­˜å’Œæ¢å¤çŠ¶æ€" class="headerlink" title="ä¿å­˜å’Œæ¢å¤çŠ¶æ€"></a>ä¿å­˜å’Œæ¢å¤çŠ¶æ€</h3><p>ä¿å­˜ï¼šcontext.save()</p>
<p>æ¢å¤ï¼šcontext.restore()</p>
<p>åœ¨ä¸Šé¢çš„è£å‰ªå›¾ç‰‡æè¿‡ï¼Œä¸€æ—¦è®¾å®šäº†è£å‰ªåŒºåŸŸï¼Œåæ¥ç»˜åˆ¶çš„å›¾å½¢éƒ½åªæ˜¾ç¤ºè£å‰ªåŒºåŸŸå†…çš„å†…å®¹ï¼Œè¦â€œå–æ¶ˆâ€è¿™ä¸ªè£å‰ªåŒºåŸŸæ‰èƒ½æ­£å¸¸ç»˜åˆ¶å…¶ä»–å›¾å½¢ï¼Œå…¶å®è¿™ä¸ªâ€œå–æ¶ˆâ€æ˜¯åˆ©ç”¨saveï¼ˆï¼‰æ–¹æ³•å’Œrestoreï¼ˆï¼‰æ–¹æ³•æ¥å®ç°çš„ã€‚</p>
<p>context.save()ï¼šè°ƒç”¨è¯¥æ–¹æ³•ï¼Œä¼šä¿å­˜å½“å‰contextçš„çŠ¶æ€ã€å±æ€§ï¼ˆæŠŠä»–ç†è§£æˆæ¸¸æˆå­˜æ¡£ï¼‰</p>
<p>context.restore():è°ƒç”¨è¯¥æ–¹æ³•å°±èƒ½æ¢å¤åˆ°saveæ—¶å€™contextçš„çŠ¶æ€ã€å±æ€§ï¼ˆæ¸¸æˆå›æ¡£ï¼‰</p>
<pre><code>View Code 
function draw18(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;red&quot;;
         context.save(); //ä¿å­˜äº†å½“å‰contextçš„çŠ¶æ€
         context.fillStyle = &quot;black&quot;;
         context.fillRect(0, 0, 100, 100);
         context.restore();//æ¢å¤åˆ°åˆšåˆšä¿å­˜çš„çŠ¶æ€
         context.fillRect(0,120,100,100);
     } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822430.png" alt="Mou"> </p>
<h3 id="ä¿å­˜æ–‡ä»¶"><a href="#ä¿å­˜æ–‡ä»¶" class="headerlink" title="ä¿å­˜æ–‡ä»¶"></a>ä¿å­˜æ–‡ä»¶</h3><p>canvas.toDataURL(MIME)</p>
<p>åœ¨canvasä¸­ç»˜å‡ºçš„å›¾ç‰‡åªæ˜¯canvasæ ‡ç­¾è€Œå·²ï¼Œå¹¶éæ˜¯çœŸæ­£çš„å›¾ç‰‡ï¼Œæ˜¯ä¸èƒ½å³é”®ï¼Œå¦å­˜ä¸ºçš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨canvas.toDataURL()è¿™ä¸ªæ–¹æ³•æŠŠcanvasç»˜åˆ¶çš„å›¾å½¢ç”Ÿæˆä¸€å¹…å›¾ç‰‡ï¼Œç”Ÿæˆå›¾ç‰‡åï¼Œå°±èƒ½å¯¹å›¾ç‰‡è¿›è¡Œç›¸åº”çš„æ“ä½œäº†ã€‚</p>
<pre><code>View Code 
     function draw19(id) {
         var canvas = document.getElementById(id);
         if (canvas == null)
             return false;
         var context = canvas.getContext(&quot;2d&quot;);
         context.fillStyle = &quot;rgb(0,0,225)&quot;;
         context.fillRect(0, 0, canvas.width, canvas.height);
         context.fillStyle = &quot;rgb(255,255,0)&quot;;
         context.fillRect(10, 20, 50, 50);
         //æŠŠå›¾åƒä¿å­˜åˆ°æ–°çš„çª—å£
         var w=window.open(canvas.toDataURL(&quot;image/jpeg&quot;),&quot;smallwin&quot;,&quot;width=400,height=350&quot;);
    } 
</code></pre><p><img src="http://www.uml.org.cn/html/images/20120822431.png" alt="Mou">        </p>
<h3 id="ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»"><a href="#ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»" class="headerlink" title="ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»"></a>ç»“åˆsetIntervalåˆ¶ä½œåŠ¨ç”»</h3><p>åŸºæœ¬åŸç†å°±æ˜¯å®šæ—¶æ¸…é™¤æ•´ä¸ªcanvasé‡æ–°ç»˜åˆ¶ï¼Œä¸‹é¢ç»™å‡ºâ€œæˆ‘å¼¹ã€æˆ‘å¼¹ã€æˆ‘å¼¹å¼¹å¼¹â€çš„ä»£ç  ï¼ˆé¢ã€åå­—è€Œå·²ï¼‰</p>
<p>å°çŸ©å½¢åœ¨çŸ©å½¢åŒºåŸŸç§»åŠ¨ï¼Œç¢°åˆ°çŸ©å½¢åŒºåŸŸçš„è¾¹ç¼˜åå¼¹</p>
<pre><code>View Code 
    function draw20(id) {
        var canvas = document.getElementById(id);
        if (canvas == null)
            return false;
        var context = canvas.getContext(&quot;2d&quot;);

        var interal = setInterval(function () {
            move(context);
        }, 1);
    }

    var x = 100;//çŸ©å½¢å¼€å§‹åæ ‡
    var y = 100;//çŸ©å½¢ç»“æŸåæ ‡
    var mx = 0;//0å³1å·¦
    var my = 0; //0ä¸‹1ä¸Š
    var ml = 1;//æ¯æ¬¡ç§»åŠ¨é•¿åº¦
    var w = 20;//çŸ©å½¢å®½åº¦
    var h = 20;//çŸ©å½¢é«˜åº¦
    var cw = 400;//canvaså®½åº¦
    var ch = 300; //canvasé«˜åº¦


    function move(context) {
        context.clearRect(0, 0, 400, 300);
        context.fillStyle = &quot;#EEEEFF&quot;;
        context.fillRect(0, 0, 400, 300);
        context.fillStyle = &quot;red&quot;;
        context.fillRect(x, y, w, h);       
        if (mx == 0) {
            x = x + ml;
            if (x &gt;= cw-w) {
                mx = 1;
            }
        }
        else {
            x = x - ml;
            if (x &lt;= 0) {
                mx = 0;
            }
        }
        if (my == 0) {
            y = y + ml;
            if (y &gt;= ch-h) {
                my = 1;
            }
        }
        else {
            y = y - ml;
            if (y &lt;= 0) {
                my = 0;
            }
        }

    } 
</code></pre><p> <img src="http://www.uml.org.cn/html/images/20120822432.png" alt="Mou">  </p>
<h3 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h3><p>å†æ—¶ä¸€å¤©åŠï¼Œæœ¬æ¥ä»¥ä¸ºå¯ä»¥ç©è½¬çš„ï¼Œå†™ä¸‹æ¥æ‰å‘ç°è¦ç©è½¬canvasè¿˜éœ€è¦å¾ˆå¤šçš„å®è·µï¼Œè¿™ä¸ªé“ç†åº”è¯¥æ˜¯é€‚ç”¨æ‰€æœ‰çš„æŠ€æœ¯çš„ï¼Œåšäººå•Šï¼Œå°±å¾—è°¦è™šç‚¹ã€‚æœ¬æ–‡å¦‚æœ‰é”™è¯¯ï¼Œè¯·åŠæ—¶ç•™è¨€ç»™æˆ‘çº æ­£ï¼Œå¸Œæœ›èƒ½ç»™æ­£åœ¨å­¦canvasç»˜å›¾çš„ç«¥é‹æœ‰æ‰€å¸®åŠ©</p>

      
    </div>
    <div class="article-info article-info-index">
      
      <a href="/2016/11/16/canvasç”»å›¾/" class="archive-article-date">
  	<time datetime="2016-11-16T12:00:25.000Z" itemprop="datePublished"><i class="icon-clock"></i>2016-11-16</time>
</a>
      
      

      <div class="clearfix"></div>
    </div>
  </div>
</article>

  
<nav id="article-nav">
  
  
    <a href="/2016/11/15/Vue-js/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">Vue.js</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>




<div class="share_jia">
	<!-- JiaThis Button BEGIN -->
	<div class="jiathis_style">
		<span class="jiathis_txt">Share to: &nbsp; </span>
		<a class="jiathis_button_facebook"></a> 
	    <a class="jiathis_button_twitter"></a>
	    <a class="jiathis_button_plus"></a> 
	    <a class="jiathis_button_tsina"></a>
		<a class="jiathis_button_cqq"></a>
		<a class="jiathis_button_douban"></a>
		<a class="jiathis_button_weixin"></a>
		<a class="jiathis_button_tumblr"></a>
    <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>
	</div>
	<script type="text/javascript" src="//v3.jiathis.com/code/jia.js?uid=1405949716054953" charset="utf-8"></script>
	<!-- JiaThis Button END -->
</div>







<!-- å¤šè¯´è¯„è®ºæ¡† start -->
    <div class="ds-thread" data-thread-key="ç©è½¬html5-canvasç”»å›¾" data-title="canvasç”»å›¾" data-url="http://yoursite.com/2016/11/16/canvasç”»å›¾/"></div>

<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"qianjenbo"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
  </script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->

      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 qianjenbo
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    <script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: false,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		root: "/",
		innerArchive: true
	}
</script>

<script src="/./main.js"></script>


    
<div class="tools-col">
  <ul class="btn-wrap">
    
      <li class="chose" data-hook="tools-section-all"><span class="text">å…¨éƒ¨</span><i class="icon-book"></i></li>
    
    
      <li data-hook="tools-section-tag"><span class="text">æ ‡ç­¾</span><i class="icon-price-tags"></i></li>
    
    
      <li data-hook="tools-section-friends"><span class="text">å‹é“¾</span><i class="icon-link"></i></li>
    
    
      <li data-hook="tools-section-me"><span class="text">æˆ‘</span><i class="icon-smile"></i></li>
    
  </ul>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all chose">
    	</section>
    

    
    	<section class="tools-section tools-section-tag">
    			<div class="widget tagcloud" id="js-tagcloud">
    				
    			</div>
    	</section>
    

    
    	<section class="tools-section tools-section-friends">
  		
  			<div class="friends-wrap" id="js-friends">
  			
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/qianjianbo/">å•µå•µå•µåšå®¢å›­</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.cnblogs.com/Jasonellen/">å¥‹æ–—èšåšå®¢å›­</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://jasonellen.github.io/">å¥‹æ–—èšgithub</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://yang867381349.github.io">æ¨å†›æƒgithob</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="https://duhan96.github.io/">æœğŸ¶</a>
  	        
  	          <a target="_blank" class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/926dbfef1d19/latest_articles">æœæ¶µç®€ä¹¦</a>
  	        
  	        </div>
  		
    	</section>
    

    
    	<section class="tools-section tools-section-me">
  	  	
  	  		<div class="aboutme-wrap" id="js-aboutme">å§“å:qianjenbo&lt;br/&gt;å¹´é¾„:94.09.18&lt;br/&gt;æ€§åˆ«:ç”·&lt;br/&gt;åº§å³é“­:æœ‰æ—¶å€™ç¼ºçš„å°±æ˜¯ç ´é‡œæ²‰èˆŸçš„å‹‡æ°”ï¼ŒæŠŠè‡ªå·±é€¼ä¸€é€¼ï¼Œæ‰çŸ¥é“è‡ªå·±æœ‰å¤šå¤§æ½œåŠ›ï¼&lt;br/&gt;</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>
</body>
</html>